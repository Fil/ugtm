

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ugtm package &mdash; ugtm v2.0.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/altair-plot.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="ugtm v2.0.0 documentation" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> ugtm
          

          
          </a>

          
            
            
              <div class="version">
                2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Get started here</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="eGTM_transformer.html">eGTM: GTM transformer</a></li>
<li class="toctree-l1"><a class="reference internal" href="eGTC_classifier.html">eGTC: GTM classifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="eGTR_regressor.html">eGTR: GTM regressor</a></li>
</ul>
<p class="caption"><span class="caption-text">API reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="visualization_examples.html">Visualization examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="classification_examples.html">Classification examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="regression_examples.html">Regression examples</a></li>
</ul>
<p class="caption"><span class="caption-text">Advanced functions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="readme.html">tutorial</a></li>
</ul>
<p class="caption"><span class="caption-text">Glossary</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>
<p class="caption"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="references.html">Links &amp; references</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">ugtm</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>ugtm package</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/ugtm.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ugtm-package">
<h1>ugtm package<a class="headerlink" href="#ugtm-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-ugtm.ugtm_classes">
<span id="ugtm-ugtm-classes-module"></span><h2>ugtm.ugtm_classes module<a class="headerlink" href="#module-ugtm.ugtm_classes" title="Permalink to this headline">¶</a></h2>
<p>Defines classes for initial and optimized GTM model.</p>
<dl class="class">
<dt id="ugtm.ugtm_classes.InitialGTM">
<em class="property">class </em><code class="descclassname">ugtm.ugtm_classes.</code><code class="descname">InitialGTM</code><span class="sig-paren">(</span><em>matX</em>, <em>matM</em>, <em>n_nodes</em>, <em>n_rbf_centers</em>, <em>rbfWidth</em>, <em>matPhiMPlusOne</em>, <em>matW</em>, <em>matY</em>, <em>betaInv</em>, <em>n_dimensions</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_classes.html#InitialGTM"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_classes.InitialGTM" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class for initial GTM model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>matX</strong> (<em>array of shape (n_nodes, 2)</em>) – Coordinates of nodes defining a grid in the 2D space.</li>
<li><strong>matM</strong> (<em>array of shape (n_rbf_centers, 2)</em>) – Coordinates of radial basis function (RBF) centers,
defining a grid in the 2D space.</li>
<li><strong>n_nodes</strong> (<em>int</em>) – The number of nodes defining a grid in the 2D space.</li>
<li><strong>n_rbf_centers</strong> (<em>int</em>) – The number of radial basis function (RBF) centers.</li>
<li><strong>rbfWidth</strong> (<em>float</em>) – Initial radial basis function (RBF) width.
This is set to the average of the minimum distance between RBF centers:
<span class="math notranslate nohighlight">\(rbfWidth=\sigma \times average(\mathbf{distances(rbf)}_{min})\)</span>,
where <span class="math notranslate nohighlight">\(sigma\)</span> is the GTM hyperparameter s.
NB: if GTM hyperparameter s = 0 (not recommended),
rbfWidth is set to the maximum distance between RBF centers.</li>
<li><strong>matPhiMPlusOne</strong> (<em>array of shape (n_nodes, n_rbf_centers+1)</em>) – RBF matrix plus one dimension to include a term for bias.</li>
<li><strong>matW</strong> (<em>array of shape (n_dimensions, n_rbf_centers+1)</em>) – Parameter matrix (PCA-initialized).</li>
<li><strong>matY</strong> (<em>array of shape (n_dimensions, n_nodes)</em>) – Manifold in n-dimensional space (projection of matX in data space);
A point matY[:,i] is a center of Gaussian component in data space.
<span class="math notranslate nohighlight">\(\mathbf{Y}=\mathbf{W}\mathbf{\Phi}^T\)</span></li>
<li><strong>betaInv</strong> (<em>float</em>) – Noise variance parameter for the data distribution.
Written as <span class="math notranslate nohighlight">\(\beta^{-1}\)</span> in the original paper.
Initialized to be the larger between:
(1) the 3rd eigenvalue of the data covariance matrix,
(2) half the average distance between Gaussian component centers
in the data space (matY matrix).</li>
<li><strong>n_dimensions</strong> (<em>int</em>) – Data space dimensionality (number of variables).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="ugtm.ugtm_classes.OptimizedGTM">
<em class="property">class </em><code class="descclassname">ugtm.ugtm_classes.</code><code class="descname">OptimizedGTM</code><span class="sig-paren">(</span><em>matW</em>, <em>matY</em>, <em>matP</em>, <em>matR</em>, <em>betaInv</em>, <em>matMeans</em>, <em>matModes</em>, <em>matX</em>, <em>n_dimensions</em>, <em>converged</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_classes.html#OptimizedGTM"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_classes.OptimizedGTM" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class for optimized GTM model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><strong>matX</strong> (<em>array of shape</em><em> (</em><em>n_nodes</em><em>, </em><em>2</em><em>)</em>) – Coordinates of nodes defining a grid in the 2D space.</li>
<li><strong>matW</strong> (<em>array of shape</em><em> (</em><em>n_dimensions</em><em>, </em><em>n_rbf_centers+1</em><em>)</em>) – Parameter matrix (PCA-initialized).</li>
<li><strong>matY</strong> (<em>array of shape</em><em> (</em><em>n_dimensions</em><em>, </em><em>n_nodes</em><em>)</em>) – Manifold in n-dimensional space (projection of matX in data space).
matY = np.dot(matW, np.transpose(matPhiMPlusOne))</li>
<li><strong>matP</strong> (<em>array of shape</em><em> (</em><em>n_individuals</em><em>, </em><em>n_nodes</em><em>)</em>) – Data distribution with variance betaInv.</li>
<li><strong>matR</strong> (<em>array of shape</em><em> (</em><em>n_individuals</em><em>, </em><em>n_nodes</em><em>)</em>) – Responsibilities (posterior probabilities),
used to compute data representations:
means (matMeans) and modes (matModes).
Responsibilities are the main output of GTM.
matR[i,:] represents the responsibility vector for an instance i.
The columns in matR correspond to rows in matX (nodes).</li>
<li><strong>betaInv</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Noise variance parameter for the data distribution.
Written as <span class="math notranslate nohighlight">\(\beta^{-1}\)</span> in the original paper.</li>
<li><strong>matMeans</strong> (<em>array of shape</em><em> (</em><em>n_individuals</em><em>, </em><em>2</em><em>)</em>) – Data representation in 2D space: means (most commonly used for GTM).</li>
<li><strong>matModes</strong> (<em>array of shape</em><em>(</em><em>n_individuals</em><em>, </em><em>2</em><em>)</em>) – Data representation in 2D space: modes
(for each instance, coordinate with highest responsibility).</li>
<li><strong>n_dimensions</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Data space dimensionality (number of variables).</li>
<li><strong>converged</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – True if the model has converged; otherwise False.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ugtm.ugtm_classes.OptimizedGTM.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>labels=None</em>, <em>title=''</em>, <em>output='output'</em>, <em>discrete=False</em>, <em>pointsize=1</em>, <em>alpha=0.3</em>, <em>cname='Spectral_r'</em>, <em>output_format='pdf'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_classes.html#OptimizedGTM.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_classes.OptimizedGTM.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple plotting function for GTM object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>labels</strong> (<em>array of shape (n_individuals,), optional (default = None)</em>) – Data labels.</li>
<li><strong>title</strong> (<em>str, optional (default = ‘’)</em>) – Plot title.</li>
<li><strong>output</strong> (<em>str, optional (default = ‘ouptut’)</em>) – Output path for plot.</li>
<li><strong>discrete</strong> (<em>bool (default = False)</em>) – Type of label; discrete=True if labels are nominal or binary.</li>
<li><strong>pointsize</strong> (<em>float, optional (default = ‘1’)</em>) – Marker size.</li>
<li><strong>alpha</strong> (<em>float, optional (default = ‘0.3’),</em>) – Marker transparency.</li>
<li><strong>cname</strong> (<em>str, optional (default = ‘Spectral_r’),</em>) – Name of matplotlib color map.
Cf. <a class="reference external" href="https://matplotlib.org/examples/color/colormaps_reference.html">https://matplotlib.org/examples/color/colormaps_reference.html</a></li>
<li><strong>output_format</strong> (<em>{‘pdf’, “png’, ‘ps’, ‘eps’, ‘svg’}</em>) – Output format for GTM plot.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Basic GTM plotting function. Points mean GTM representation
for each data point.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Image file</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>This function plots mean representations only (no landscape nor modes).</p>
</dd></dl>

<dl class="method">
<dt id="ugtm.ugtm_classes.OptimizedGTM.plot_html">
<code class="descname">plot_html</code><span class="sig-paren">(</span><em>labels=None</em>, <em>ids=None</em>, <em>plot_arrows=True</em>, <em>title='GTM'</em>, <em>discrete=False</em>, <em>output='output'</em>, <em>pointsize=1.0</em>, <em>alpha=0.3</em>, <em>do_interpolate=True</em>, <em>cname='Spectral_r'</em>, <em>prior='estimated'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_classes.html#OptimizedGTM.plot_html"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_classes.OptimizedGTM.plot_html" title="Permalink to this definition">¶</a></dt>
<dd><p>Plotting function for GTM object - HTML output.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>labels</strong> (<em>array of shape (n_individuals,), optional (default = None)</em>) – Data labels.</li>
<li><strong>ids</strong> (<em>array of shape (n_individuals,), optional (default = None)</em>) – Identifiers for each data point - appears in tooltips.</li>
<li><strong>title</strong> (<em>str, optional (default = ‘’)</em>) – Plot title.</li>
<li><strong>output</strong> (<em>str, optional (default = ‘ouptut’)</em>) – Output path for plot.</li>
<li><strong>discrete</strong> (<em>bool (default = False)</em>) – Type of label; discrete=True if labels are nominal or binary.</li>
<li><strong>pointsize</strong> (<em>float, optional (default = ‘1’)</em>) – Marker size.</li>
<li><strong>alpha</strong> (<em>float, optional (default = ‘0.3’)</em>) – Marker transparency.</li>
<li><strong>do_interpolate</strong> (<em>bool, optional (default = True)</em>) – Interpolate color between grid nodes.</li>
<li><strong>cname</strong> (<em>str, optional (default = ‘Spectral_r’)</em>) – Name of matplotlib color map.</li>
<li><strong>prior</strong> (<em>{‘estimated’,’equiprobable’}</em>) – Type of prior used to compute class probabilities on the map.
Choose equiprobable for equiprobable priors.
Estimated priors take into account class imbalance.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">HTML file of GTM output (mean coordinates). If labels are provided,
a landscape (continuous or discrete depending on the labels) is
drawn in the background. This landscape is computed
using responsibilities and is indicative of the average activity
or label value at a given node on the map.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">HTML file</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>May be time-consuming for large datasets.</p>
</dd></dl>

<dl class="method">
<dt id="ugtm.ugtm_classes.OptimizedGTM.plot_html_projection">
<code class="descname">plot_html_projection</code><span class="sig-paren">(</span><em>projections</em>, <em>labels=None</em>, <em>ids=None</em>, <em>plot_arrows=True</em>, <em>title='GTM_projection'</em>, <em>discrete=False</em>, <em>output='output'</em>, <em>pointsize=1.0</em>, <em>alpha=0.3</em>, <em>do_interpolate=True</em>, <em>cname='Spectral_r'</em>, <em>prior='estimated'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_classes.html#OptimizedGTM.plot_html_projection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_classes.OptimizedGTM.plot_html_projection" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a GTM landscape with projected data points - HTML output.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>projections</strong> (instance of <a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">ugtm.ugtm_classes.OptimizedGTM</span></code></a>) – OptimizedGTM model.</li>
<li><strong>labels</strong> (<em>array of shape (n_train,), optional (default = None)</em>) – Data labels for the training set (not projections).</li>
<li><strong>ids</strong> (<em>array of shape (n_test,), optional (default = None)</em>) – Identifiers for each projected data point - appears in tooltips.</li>
<li><strong>title</strong> (<em>str, optional (default = ‘’)</em>) – Plot title.</li>
<li><strong>output</strong> (<em>str, optional (default = ‘ouptut’)</em>) – Output path for plot.</li>
<li><strong>discrete</strong> (<em>bool (default = False)</em>) – Type of label; discrete=True if labels are nominal or binary.</li>
<li><strong>pointsize</strong> (<em>float, optional (default = ‘1’)</em>) – Marker size.</li>
<li><strong>alpha</strong> (<em>float, optional (default = ‘0.3’)</em>) – Marker transparency.</li>
<li><strong>do_interpolate</strong> (<em>bool, optional (default = True)</em>) – Interpolate color between grid nodes.</li>
<li><strong>cname</strong> (<em>str, optional (default = ‘Spectral_r’)</em>) – Name of matplotlib color map.</li>
<li><strong>prior</strong> (<em>{‘estimated’,’equiprobable’}</em>) – Type of prior used to compute class probabilities on the map.
Choose equiprobable for equiprobable priors.
Estimated priors take into account class imbalance.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">HTML file of GTM output (mean coordinates).
This function plots a GTM model (from a training set)
with projected points
(= mean positions of projected test data).
If labels are provided,
a landscape (continuous or discrete depending on the labels) is
drawn in the background. This landscape is computed
using responsibilities and is indicative of the average activity
or label value at a given node on the map.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">HTML file</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<ul class="simple">
<li>May be time-consuming for large datasets.</li>
<li>The labels correspond to training data (the optimized model).</li>
<li>The ids (identifiers) correspond to the test data (projections).</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="ugtm.ugtm_classes.OptimizedGTM.plot_modes">
<code class="descname">plot_modes</code><span class="sig-paren">(</span><em>labels=None</em>, <em>title=''</em>, <em>output='output'</em>, <em>discrete=False</em>, <em>pointsize=1</em>, <em>alpha=0.3</em>, <em>cname='Spectral_r'</em>, <em>output_format='pdf'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_classes.html#OptimizedGTM.plot_modes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_classes.OptimizedGTM.plot_modes" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple plotting function for GTM object: plot modes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>labels</strong> (<em>array of shape (n_individuals,), optional (default = None)</em>) – Data labels.</li>
<li><strong>title</strong> (<em>str, optional (default = ‘’)</em>) – Plot title.</li>
<li><strong>output</strong> (<em>str, optional (default = ‘ouptut’)</em>) – Output path for plot.</li>
<li><strong>discrete</strong> (<em>bool (default = False)</em>) – Type of label; discrete=True if labels are nominal or binary.</li>
<li><strong>pointsize</strong> (<em>float, optional (default = ‘1’)</em>) – Marker size.</li>
<li><strong>alpha</strong> (<em>float, optional (default = ‘0.3’)</em>) – Marker transparency.</li>
<li><strong>cname</strong> (<em>str, optional (default = ‘Spectral_r’)</em>) – Name of matplotlib color map.</li>
<li><strong>output_format</strong> (<em>{‘png’, ‘pdf’, ‘ps’, ‘eps’, ‘svg’}, default = ‘pdf’</em>) – Output format for GTM plot.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Plot of GTM modes
(for each data point, node with highest responsibility).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Image file</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>This function plots mode representations only (no landscape nor means).</p>
</dd></dl>

<dl class="method">
<dt id="ugtm.ugtm_classes.OptimizedGTM.plot_multipanel">
<code class="descname">plot_multipanel</code><span class="sig-paren">(</span><em>labels</em>, <em>output='output'</em>, <em>discrete=False</em>, <em>pointsize=1.0</em>, <em>alpha=0.3</em>, <em>do_interpolate=True</em>, <em>cname='Spectral_r'</em>, <em>prior='estimated'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_classes.html#OptimizedGTM.plot_multipanel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_classes.OptimizedGTM.plot_multipanel" title="Permalink to this definition">¶</a></dt>
<dd><p>Multipanel visualization for GTM object - PDF output.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>labels</strong> (<em>array of shape (n_individuals,), optional (default = None)</em>) – Data labels.</li>
<li><strong>output</strong> (<em>str, optional (default = ‘ouptut’)</em>) – Output path for plot.</li>
<li><strong>discrete</strong> (<em>bool (default = False)</em>) – Type of label; discrete=True if labels are nominal or binary.</li>
<li><strong>pointsize</strong> (<em>float, optional (default = ‘1’)</em>) – Marker size.</li>
<li><strong>alpha</strong> (<em>float, optional (default = ‘0.3’)</em>) – Marker transparency.</li>
<li><strong>do_interpolate</strong> (<em>bool, optional (default = True)</em>) – Interpolate color between grid nodes.</li>
<li><strong>cname</strong> (<em>str, optional (default = ‘Spectral_r’)</em>) – Name of matplotlib color map.</li>
<li><strong>prior</strong> (<em>{‘estimated’,’equiprobable’}</em>) – Type of prior used to compute class probabilities on the map.
Choose equiprobable for equiprobable priors.
Estimated priors take into account class imbalance.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Four plots are returned:
(1) means,
(2) modes,
(3) landscape with means,
(4) landscape with modes.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">PDF image</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ugtm.ugtm_classes.OptimizedGTM.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>output='output'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_classes.html#OptimizedGTM.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_classes.OptimizedGTM.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write optimized GTM model: means, modes and responsibilities.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>output</strong> (<em>str, optional (default = ‘output’)</em>) – Output path.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Separate files for (1) means (mean position for each data point),
(2) modes (node with max. responsibility for each data point),
(3) responsibilities (posterior probabilities for each data point)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">CSV files</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ugtm.ugtm_classes.OptimizedGTM.write_all">
<code class="descname">write_all</code><span class="sig-paren">(</span><em>output='output'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_classes.html#OptimizedGTM.write_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_classes.OptimizedGTM.write_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Write optimized GTM model and optimized parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>output</strong> (<em>str, optional (default = ‘output’)</em>) – Output path.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Separate files for (1) means (mean position for each data point),
(2) modes (node with max. responsibility for each data point),
(3) responsibilities (posterior probabilities for each data point),
(4) initial space dimension and data distribution variance,
(5) manifold coordinates (matY),
(6) parameter matrix (matW)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">CSV files</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ugtm.ugtm_classes.ReturnU">
<em class="property">class </em><code class="descclassname">ugtm.ugtm_classes.</code><code class="descname">ReturnU</code><span class="sig-paren">(</span><em>matU</em>, <em>betaInv</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_classes.html#ReturnU"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_classes.ReturnU" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
</dd></dl>

</div>
<div class="section" id="module-ugtm.ugtm_core">
<span id="ugtm-ugtm-core-module"></span><h2>ugtm.ugtm_core module<a class="headerlink" href="#module-ugtm.ugtm_core" title="Permalink to this headline">¶</a></h2>
<p>Core linear algebra operations for GTM and kGTM</p>
<dl class="function">
<dt id="ugtm.ugtm_core.KERNELcreateDistanceMatrix">
<code class="descclassname">ugtm.ugtm_core.</code><code class="descname">KERNELcreateDistanceMatrix</code><span class="sig-paren">(</span><em>data</em>, <em>matL</em>, <em>matPhiMPlusOne</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_core.html#KERNELcreateDistanceMatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_core.KERNELcreateDistanceMatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes distances between data and manifold for kernel algorithm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>array of shape (n_individuals, n_dimensions)</em>) – Data matrix.</li>
<li><strong>matL</strong> (<em>array of shape (n_individuals, n_rbf_centers+1)</em>) – Parameter matrix (regul).</li>
<li><strong>matPhiMPlusOne</strong> (<em>array of shape (n_nodes, n_rbf_centers+1)</em>) – RBF matrix plus one dimension to include a term for bias.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Matrix of distances between manifold and data.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array of shape (n_nodes, n_individuals)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_core.computeWidth">
<code class="descclassname">ugtm.ugtm_core.</code><code class="descname">computeWidth</code><span class="sig-paren">(</span><em>matM</em>, <em>numM</em>, <em>sigma</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_core.html#computeWidth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_core.computeWidth" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes radial basis function width using hyperparameter sigma.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>matM</strong> (<em>array of shape (n_rbf_centers, 2)</em>) – Coordinates of radial basis function (RBF) centers,
defining a grid in the 2D space.</li>
<li><strong>numM</strong> (<em>int</em>) – Number of RBF centers (n_rbf_centers)</li>
<li><strong>sigma</strong> (<em>float</em>) – RBF width factor.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Initial radial basis function (RBF) width.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_core.computelogLikelihood">
<code class="descclassname">ugtm.ugtm_core.</code><code class="descname">computelogLikelihood</code><span class="sig-paren">(</span><em>matP</em>, <em>betaInv</em>, <em>n_dimensions</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_core.html#computelogLikelihood"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_core.computelogLikelihood" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes log likelihood = GTM objective function</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>matP</strong> (<em>array of shape (n_nodes, n_individuals)</em>) – Data distribution with variance betaInv (transformed: exp(x-max(x)))</li>
<li><strong>betaInv</strong> (<em>float</em>) – Noise variance parameter for the data distribution.
Written as <span class="math notranslate nohighlight">\(\beta^{-1}\)</span> in the original paper.</li>
<li><strong>n_dimensions</strong> (<em>int</em>) – Data space dimensionality (number of variables).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Log likelihood.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_core.createDistanceMatrix">
<code class="descclassname">ugtm.ugtm_core.</code><code class="descname">createDistanceMatrix</code><span class="sig-paren">(</span><em>matY</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_core.html#createDistanceMatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_core.createDistanceMatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes distances between manifold centers and data vectors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>matY</strong> (<em>array of shape (n_dimensions, n_nodes)</em>) – Manifold in n-dimensional space (projection of matX in data space);</li>
<li><strong>data</strong> (<em>array of shape (n_individuals, n_dimensions)</em>) – Data matrix.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Matrix of squared Euclidean distances between manifold and data.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array of shape (n_nodes, n_individuals)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_core.createGMatrix">
<code class="descclassname">ugtm.ugtm_core.</code><code class="descname">createGMatrix</code><span class="sig-paren">(</span><em>matR</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_core.html#createGMatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_core.createGMatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the G diagonal matrix from responsibilities (R)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>matR</strong> (<em>array of shape (n_nodes, n_individuals)</em>) – Posterior probabilities (responsibilities).</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Diagonal matrix with elements
<span class="math notranslate nohighlight">\(G_{ii}=\sum_{n}^{n\_individuals} R_{in}\)</span>.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">array of shape (n_nodes, n_nodes)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_core.createPMatrix">
<code class="descclassname">ugtm.ugtm_core.</code><code class="descname">createPMatrix</code><span class="sig-paren">(</span><em>matD</em>, <em>betaInv</em>, <em>n_dimensions</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_core.html#createPMatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_core.createPMatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes data distribution matrix = exp(-(parameter)*distances).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>matD</strong> (<em>array of shape (n_nodes, n_individuals)</em>) – Matrix of squared Euclidean distances between manifold and data.</li>
<li><strong>betaInv</strong> (<em>float</em>) – Noise variance parameter for the data distribution.
Written as <span class="math notranslate nohighlight">\(\beta^{-1}\)</span> in the original paper.</li>
<li><strong>n_dimensions</strong> (<em>int</em>) – Data space dimensionality (number of variables).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Data distribution with variance betaInv (transformed: exp(x-max(x)))</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array of shape (n_nodes, n_individuals)</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Important: this data distribution is not exact per se
and is to be used as input
for createRMatrix (responsibilities).</p>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_core.createPhiMatrix">
<code class="descclassname">ugtm.ugtm_core.</code><code class="descname">createPhiMatrix</code><span class="sig-paren">(</span><em>matX</em>, <em>matM</em>, <em>numX</em>, <em>numM</em>, <em>sigma</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_core.html#createPhiMatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_core.createPhiMatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates matrix of RBF functions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>matX</strong> (<em>array of shape (n_nodes, 2)</em>) – Coordinates of nodes defining a grid in the 2D space.</li>
<li><strong>matM</strong> (<em>array of shape (n_rbf_centers, 2)</em>) – Coordinates of radial basis function (RBF) centers,
defining a grid in the 2D space.</li>
<li><strong>numX</strong> (<em>int</em>) – Number of nodes (n_nodes).</li>
<li><strong>numM</strong> (<em>int</em>) – Number of RBF centers (n_rbf_centers)</li>
<li><strong>sigma</strong> (<em>float</em>) – RBF width factor.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">RBF matrix plus one dimension to include a term for bias.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array of shape (n_nodes, n_rbf_centers+1)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_core.createRMatrix">
<code class="descclassname">ugtm.ugtm_core.</code><code class="descname">createRMatrix</code><span class="sig-paren">(</span><em>matP</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_core.html#createRMatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_core.createRMatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes responsibilities (posterior probabilities).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>matP</strong> (<em>array of shape (n_nodes, n_individuals)</em>) – Data distribution with variance betaInv (transformed: exp(x-max(x)))</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Posterior probabilities (responsibilities).</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">array of shape (n_nodes, n_individuals)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_core.createWMatrix">
<code class="descclassname">ugtm.ugtm_core.</code><code class="descname">createWMatrix</code><span class="sig-paren">(</span><em>matX</em>, <em>matPhiMPlusOne</em>, <em>matU</em>, <em>n_dimensions</em>, <em>n_rbf_centers</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_core.html#createWMatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_core.createWMatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates PCA-initialized parameter matrix W.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>matX</strong> (<em>array of shape (n_nodes, 2)</em>) – Coordinates of nodes defining a grid in the 2D space.</li>
<li><strong>matPhiMPlusOne</strong> (<em>array of shape (n_nodes, n_rbf_centers+1)</em>) – RBF matrix plus one dimension to include a term for bias.</li>
<li><strong>matU</strong> (<em>array of shape (n_dimensions, 2)</em>) – 2 first principal axes of data covariance matrix.</li>
<li><strong>n_dimensions</strong> (<em>int</em>) – Data space dimensionality (number of variables).</li>
<li><strong>n_rbf_centers</strong> (<em>int</em>) – Number of RBF centers.</li>
<li><strong>sigma</strong> (<em>float</em>) – RBF width factor.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Parameter matrix W (PCA-initialized).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array of shape (n_dimensions, n_rbf_centers+1)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_core.createYMatrix">
<code class="descclassname">ugtm.ugtm_core.</code><code class="descname">createYMatrix</code><span class="sig-paren">(</span><em>matW</em>, <em>matPhiMPlusOne</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_core.html#createYMatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_core.createYMatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates manifold matrix (Y) using new parameter matrix (W).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>matW</strong> (<em>array of shape (n_dimensions, n_rbf_centers+1)</em>) – Parameter matrix (PCA-initialized).</li>
<li><strong>matPhiMPlusOne</strong> (<em>array of shape (n_nodes, n_rbf_centers+1)</em>) – RBF matrix plus one dimension to include a term for bias.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Manifold in n-dimensional space (projection of matX in data space);
A point matY[:,i] is a center of Gaussian component in data space.
<span class="math notranslate nohighlight">\(\mathbf{Y}=\mathbf{W}\mathbf{\Phi}^T\)</span></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array of shape (n_dimensions, n_nodes)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_core.createYMatrixInit">
<code class="descclassname">ugtm.ugtm_core.</code><code class="descname">createYMatrixInit</code><span class="sig-paren">(</span><em>data</em>, <em>matW</em>, <em>matPhiMPlusOne</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_core.html#createYMatrixInit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_core.createYMatrixInit" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates initial manifold matrix (Y).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>array of shape (n_individuals, n_dimensions)</em>) – Data matrix.</li>
<li><strong>matW</strong> (<em>array of shape (n_dimensions, n_rbf_centers+1)</em>) – Parameter matrix (PCA-initialized).</li>
<li><strong>matPhiMPlusOne</strong> (<em>array of shape (n_nodes, n_rbf_centers+1)</em>) – RBF matrix plus one dimension to include a term for bias.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Manifold in n-dimensional space (projection of matX in data space);
A point matY[:,i] is a center of Gaussian component in data space.
<span class="math notranslate nohighlight">\(\mathbf{Y}=\mathbf{W}\mathbf{\Phi}^T\)</span></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array of shape (n_dimensions, n_nodes)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_core.evalBetaInv">
<code class="descclassname">ugtm.ugtm_core.</code><code class="descname">evalBetaInv</code><span class="sig-paren">(</span><em>matY</em>, <em>betaInv</em>, <em>random_state=1234</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_core.html#evalBetaInv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_core.evalBetaInv" title="Permalink to this definition">¶</a></dt>
<dd><p>Decides which value to use for initial noise variance parameter.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>matY</strong> (<em>array of shape (n_dimensions, n_nodes)</em>) – Manifold in n-dimensional space (projection of matX in data space);</li>
<li><strong>betaInv</strong> (<em>float</em>) – The 3rd eigenvalue of the data covariance matrix.</li>
<li><strong>random_state</strong> (<em>int, optional</em>) – Random state used to initialize BetaInv randomly
in case of bad initialization.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Noise variance parameter for the data distribution (betaInv).
Written as <span class="math notranslate nohighlight">\(\beta^{-1}\)</span> in the original paper.
Initialized to be the larger between:
(1) the 3rd eigenvalue of the data covariance matrix
(function parameter),
(2) half the average distance between centers of Gaussian components.
In case of bad initialization (betaInv = 0),
betaInv is set to a random value
(a message would then be displayed on screen).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_core.exp_normalize">
<code class="descclassname">ugtm.ugtm_core.</code><code class="descname">exp_normalize</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_core.html#exp_normalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_core.exp_normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Exp-normalize trick: compute exp(x-max(x))</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>2D array</strong> – An array x</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">y = exp(x-max(x))</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">2D array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_core.initBetaInvRandom">
<code class="descclassname">ugtm.ugtm_core.</code><code class="descname">initBetaInvRandom</code><span class="sig-paren">(</span><em>matD</em>, <em>n_nodes</em>, <em>n_individuals</em>, <em>n_dimensions</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_core.html#initBetaInvRandom"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_core.initBetaInvRandom" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes initial noise variance parameter for kernel GTM.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>matD</strong> (<em>array of shape (n_nodes, n_individuals)</em>) – Matrix of squared Euclidean distances between manifold and data.</li>
<li><strong>n_nodes</strong> (<em>int</em>) – The number of nodes defining a grid in the 2D space.</li>
<li><strong>n_individuals</strong> (<em>int</em>) – The number of data instances.</li>
<li><strong>n_dimensions</strong> (<em>int</em>) – Data space dimensionality (number of variables).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Noise variance parameter for the data distribution (betaInv).
Written as <span class="math notranslate nohighlight">\(\beta^{-1}\)</span> in the original paper.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_core.meanPoint">
<code class="descclassname">ugtm.ugtm_core.</code><code class="descname">meanPoint</code><span class="sig-paren">(</span><em>matR</em>, <em>matX</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_core.html#meanPoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_core.meanPoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes mean positions for data points (usual GTM output).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>matR</strong> (<em>array of shape (n_nodes, n_individuals)</em>) – Posterior probabilities (responsibilities).</li>
<li><strong>matX</strong> (<em>array of shape (n_nodes, 2)</em>) – Coordinates of nodes defining a grid in the 2D space.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Data representation in 2D space: mean positions (usual GTM output).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array of shape (n_individuals, 2)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_core.modePoint">
<code class="descclassname">ugtm.ugtm_core.</code><code class="descname">modePoint</code><span class="sig-paren">(</span><em>matR</em>, <em>matX</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_core.html#modePoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_core.modePoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes modes (nodes with maximum responsibility for each data point).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>matR</strong> (<em>array of shape (n_nodes, n_individuals)</em>) – Posterior probabilities (responsibilities).</li>
<li><strong>matX</strong> (<em>array of shape (n_nodes, 2)</em>) – Coordinates of nodes defining a grid in the 2D space.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Data representation in 2D space: modes (nodes with max responsibility).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array of shape (n_individuals, 2)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_core.optimBetaInv">
<code class="descclassname">ugtm.ugtm_core.</code><code class="descname">optimBetaInv</code><span class="sig-paren">(</span><em>matR</em>, <em>matD</em>, <em>n_dimensions</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_core.html#optimBetaInv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_core.optimBetaInv" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates noise variance parameter.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>matR</strong> (<em>array of shape (n_nodes, n_individuals)</em>) – Posterior probabilities (responsibilities).</li>
<li><strong>matD</strong> (<em>array of shape (n_nodes, n_individuals)</em>) – Matrix of squared Euclidean distances between manifold and data.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Updated noise variance parameter (<span class="math notranslate nohighlight">\(\beta^{-1}\)</span>).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_core.optimLMatrix">
<code class="descclassname">ugtm.ugtm_core.</code><code class="descname">optimLMatrix</code><span class="sig-paren">(</span><em>matR</em>, <em>matPhiMPlusOne</em>, <em>matG</em>, <em>betaInv</em>, <em>regul</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_core.html#optimLMatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_core.optimLMatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates parameter matrix regul for kernel GTM.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>matR</strong> (<em>array of shape (n_nodes, n_individuals)</em>) – Posterior probabilities (responsibilities).</li>
<li><strong>matPhiMPlusOne</strong> (<em>array of shape (n_nodes, n_rbf_centers+1)</em>) – RBF matrix plus one dimension to include a term for bias.</li>
<li><strong>matG</strong> (<em>array of shape (n_nodes, n_nodes)</em>) – Diagonal matrix with elements
<span class="math notranslate nohighlight">\(G_{ii}=\sum_{n}^{n\_individuals} R_{in}\)</span>.</li>
<li><strong>betaInv</strong> (<em>float</em>) – Noise variance parameter for the data distribution.
Written as <span class="math notranslate nohighlight">\(\beta^{-1}\)</span> in the original paper.</li>
<li><strong>regul</strong> (<em>float</em>) – Regularization coefficient.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Updated parameter matrix regul.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array of shape (n_individuals, n_rbf_centers+1)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_core.optimWMatrix">
<code class="descclassname">ugtm.ugtm_core.</code><code class="descname">optimWMatrix</code><span class="sig-paren">(</span><em>matR</em>, <em>matPhiMPlusOne</em>, <em>matG</em>, <em>data</em>, <em>betaInv</em>, <em>regul</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_core.html#optimWMatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_core.optimWMatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates parameter matrix W.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>matR</strong> (<em>array of shape (n_nodes, n_individuals)</em>) – Posterior probabilities (responsibilities).</li>
<li><strong>matPhiMPlusOne</strong> (<em>array of shape (n_nodes, n_rbf_centers+1)</em>) – RBF matrix plus one dimension to include a term for bias.</li>
<li><strong>matG</strong> (<em>array of shape (n_nodes, n_nodes)</em>) – Diagonal matrix with elements
<span class="math notranslate nohighlight">\(G_{ii}=\sum_{n}^{n\_individuals} R_{in}\)</span>.</li>
<li><strong>data</strong> (<em>array of shape (n_individuals, n_dimensions)</em>) – Data matrix.</li>
<li><strong>betaInv</strong> (<em>float</em>) – Noise variance parameter for the data distribution.
Written as <span class="math notranslate nohighlight">\(\beta^{-1}\)</span> in the original paper.</li>
<li><strong>regul</strong> (<em>float</em>) – Regularization coefficient.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Updated parameter matrix W.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array of shape (n_dimensions, n_rbf_centers+1)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-ugtm.ugtm_crossvalidate">
<span id="ugtm-ugtm-crossvalidate-module"></span><h2>ugtm.ugtm_crossvalidate module<a class="headerlink" href="#module-ugtm.ugtm_crossvalidate" title="Permalink to this headline">¶</a></h2>
<p>Cross-validation support for GTC and GTR models (also SVM and PCA).</p>
<dl class="function">
<dt id="ugtm.ugtm_crossvalidate.crossvalidateGTC">
<code class="descclassname">ugtm.ugtm_crossvalidate.</code><code class="descname">crossvalidateGTC</code><span class="sig-paren">(</span><em>data</em>, <em>labels</em>, <em>k=16</em>, <em>m=4</em>, <em>s=-1.0</em>, <em>regul=1.0</em>, <em>n_neighbors=1</em>, <em>niter=200</em>, <em>representation='modes'</em>, <em>doPCA=False</em>, <em>n_components=-1</em>, <em>missing=False</em>, <em>missing_strategy='median'</em>, <em>random_state=1234</em>, <em>predict_mode='bayes'</em>, <em>prior='estimated'</em>, <em>n_folds=5</em>, <em>n_repetitions=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_crossvalidate.html#crossvalidateGTC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_crossvalidate.crossvalidateGTC" title="Permalink to this definition">¶</a></dt>
<dd><p>Cross-validate GTC model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<em>array of shape (n_individuals, n_dimensions)</em>) – Train set data matrix.</li>
<li><strong>labels</strong> (<em>array of shape (n_individuals, 1)</em>) – Labels for train set.</li>
<li><strong>k</strong> (<em>int, optional (default = 16)</em>) – If k is set to 0, k is computed as sqrt(5*sqrt(n_individuals))+2.
k is the sqrt of the number of GTM nodes.
One of four GTM hyperparameters (k, m, s, regul).
Ex: k = 25 means the GTM will be discretized into a 25x25 grid.</li>
<li><strong>m</strong> (<em>int, optional (default = 4)</em>) – If m is set to 0, m is computed as sqrt(k).
(generally good rule of thumb).
m is the qrt of the number of RBF centers.
One of four GTM hyperparameters (k, m, s, regul).
Ex: m = 5 means the RBF functions will be arranged on a 5x5 grid.</li>
<li><strong>s</strong> (<em>float, optional (default = -1)</em>) – RBF width factor. Default (-1) is to try different values.
Parameter to tune width of RBF functions.
Impacts manifold flexibility.</li>
<li><strong>regul</strong> (<em>float, optional (default = -1)</em>) – Regularization coefficient. Default (-1) is to try different values.
Impacts manifold flexibility.</li>
<li><strong>n_neighbors</strong> (<em>int, optional (default = 1)</em>) – Number of neighbors for kNN algorithm (number of nearest nodes).
At the moment, n_neighbors for GTC is always equal to 1.</li>
<li><strong>niter</strong> (<em>int, optional (default = 200)</em>) – Number of iterations for EM algorithm.</li>
<li><strong>representation</strong> (<em>{“modes”, “means”}</em>) – 2D GTM representation for the test set, used for kNN algorithms:
“modes” for position with max. responsibility,
“means” for average position (usual GTM representation)</li>
<li><strong>doPCA</strong> (<em>bool, optional (default = False)</em>) – Apply PCA pre-processing.</li>
<li><strong>n_components</strong> (<em>int, optional (default = -1)</em>) – Number of components for PCA pre-processing.
If set to -1, keep principal components
accounting for 80% of data variance.</li>
<li><strong>missing</strong> (<em>bool, optional (default = True)</em>) – Replace missing values (calls scikit-learn functions).</li>
<li><strong>missing_strategy</strong> (<em>str, optional (default = ‘median’)</em>) – Scikit-learn missing data strategy.</li>
<li><strong>random_state</strong> (<em>int, optional (default = 1234)</em>) – Random state.</li>
<li><strong>predict_mode</strong> (<em>{“bayes”, “knn”}, optional</em>) – Choose between nearest node algorithm
(“knn”, output of <a class="reference internal" href="#ugtm.ugtm_predictions.predictNN" title="ugtm.ugtm_predictions.predictNN"><code class="xref py py-func docutils literal notranslate"><span class="pre">predictNN()</span></code></a>)
or GTM Bayes classifier
(“bayes”, output of <a class="reference internal" href="#ugtm.ugtm_predictions.predictBayes" title="ugtm.ugtm_predictions.predictBayes"><code class="xref py py-func docutils literal notranslate"><span class="pre">predictBayes()</span></code></a>).
NB: the kNN algorithm is limited to only 1 nearest node at the moment
(n_neighbors = 1).</li>
<li><strong>prior</strong> (<em>{“estimated”, “equiprobable”}, optional</em>) – Type of prior used to build GTM class map
(<a class="reference internal" href="#ugtm.ugtm_landscape.classMap" title="ugtm.ugtm_landscape.classMap"><code class="xref py py-func docutils literal notranslate"><span class="pre">classMap()</span></code></a>).
Choose “estimated” to account for class imbalance.</li>
<li><strong>n_folds</strong> (<em>int, optional (default = 5)</em>) – Number of CV folds.</li>
<li><strong>n_repetitions</strong> (<em>int, optional (default = 10)</em>) – Number of CV iterations.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_crossvalidate.crossvalidateGTR">
<code class="descclassname">ugtm.ugtm_crossvalidate.</code><code class="descname">crossvalidateGTR</code><span class="sig-paren">(</span><em>data</em>, <em>labels</em>, <em>k=16</em>, <em>m=4</em>, <em>s=-1</em>, <em>regul=-1</em>, <em>n_neighbors=1</em>, <em>niter=200</em>, <em>representation='modes'</em>, <em>doPCA=False</em>, <em>n_components=-1</em>, <em>missing=False</em>, <em>missing_strategy='median'</em>, <em>random_state=1234</em>, <em>n_folds=5</em>, <em>n_repetitions=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_crossvalidate.html#crossvalidateGTR"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_crossvalidate.crossvalidateGTR" title="Permalink to this definition">¶</a></dt>
<dd><p>Cross-validate GTR model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<em>array of shape (n_individuals, n_dimensions)</em>) – Train set data matrix.</li>
<li><strong>labels</strong> (<em>array of shape (n_individuals, 1)</em>) – Labels for train set.</li>
<li><strong>k</strong> (<em>int, optional (default = 16)</em>) – If k is set to 0, k is computed as sqrt(5*sqrt(n_individuals))+2.
k is the sqrt of the number of GTM nodes.
One of four GTM hyperparameters (k, m, s, regul).
Ex: k = 25 means the GTM will be discretized into a 25x25 grid.</li>
<li><strong>m</strong> (<em>int, optional (default = 4)</em>) – If m is set to 0, m is computed as sqrt(k).
(generally good rule of thumb).
m is the qrt of the number of RBF centers.
One of four GTM hyperparameters (k, m, s, regul).
Ex: m = 5 means the RBF functions will be arranged on a 5x5 grid.</li>
<li><strong>s</strong> (<em>float, optional (default = -1)</em>) – RBF width factor. Default (-1) is to try different values.
Parameter to tune width of RBF functions.
Impacts manifold flexibility.</li>
<li><strong>regul</strong> (<em>float, optional (default = -1)</em>) – Regularization coefficient. Default (-1) is to try different values.
Impacts manifold flexibility.</li>
<li><strong>n_neighbors</strong> (<em>int, optional (default = 1)</em>) – Number of neighbors for kNN algorithm (number of nearest nodes).</li>
<li><strong>niter</strong> (<em>int, optional (default = 200)</em>) – Number of iterations for EM algorithm.</li>
<li><strong>representation</strong> (<em>{“modes”, “means”}</em>) – 2D GTM representation for the test set, used for kNN algorithms:
“modes” for position with max. responsibility,
“means” for average position (usual GTM representation)</li>
<li><strong>doPCA</strong> (<em>bool, optional (default = False)</em>) – Apply PCA pre-processing.</li>
<li><strong>n_components</strong> (<em>int, optional (default = -1)</em>) – Number of components for PCA pre-processing.
If set to -1, keep principal components
accounting for 80% of data variance.</li>
<li><strong>missing</strong> (<em>bool, optional (default = True)</em>) – Replace missing values (calls scikit-learn functions).</li>
<li><strong>missing_strategy</strong> (<em>str, optional (default = ‘median’)</em>) – Scikit-learn missing data strategy.</li>
<li><strong>random_state</strong> (<em>int, optional (default = 1234)</em>) – Random state.</li>
<li><strong>n_folds</strong> (<em>int, optional (default = 5)</em>) – Number of CV folds.</li>
<li><strong>n_repetitions</strong> (<em>int, optional (default = 10)</em>) – Number of CV iterations.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_crossvalidate.crossvalidatePCAC">
<code class="descclassname">ugtm.ugtm_crossvalidate.</code><code class="descname">crossvalidatePCAC</code><span class="sig-paren">(</span><em>data</em>, <em>labels</em>, <em>n_neighbors=1</em>, <em>maxneighbours=11</em>, <em>doPCA=False</em>, <em>n_components=-1</em>, <em>missing=False</em>, <em>missing_strategy='median'</em>, <em>random_state=1234</em>, <em>n_folds=5</em>, <em>n_repetitions=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_crossvalidate.html#crossvalidatePCAC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_crossvalidate.crossvalidatePCAC" title="Permalink to this definition">¶</a></dt>
<dd><p>Cross-validate PCA kNN classification model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<em>array of shape (n_individuals, n_dimensions)</em>) – Train set data matrix.</li>
<li><strong>labels</strong> (<em>array of shape (n_individuals, 1)</em>) – Labels for train set.</li>
<li><strong>n_neighbors</strong> (<em>int, optional (default = 1)</em>) – Number of neighbors for kNN algorithm (number of nearest nodes).</li>
<li><strong>max_neighbors</strong> (<em>int, optional (default = 11)</em>) – The function crossvalidates kNN models with k between n_neighbors
and max_neighbors.</li>
<li><strong>doPCA</strong> (<em>bool, optional (default = False)</em>) – Apply PCA pre-processing.</li>
<li><strong>n_components</strong> (<em>int, optional (default = -1)</em>) – Number of components for PCA pre-processing.
If set to -1, keep principal components
accounting for 80% of data variance.</li>
<li><strong>missing</strong> (<em>bool, optional (default = True)</em>) – Replace missing values (calls scikit-learn functions).</li>
<li><strong>missing_strategy</strong> (<em>str, optional (default = ‘median’)</em>) – Scikit-learn missing data strategy.</li>
<li><strong>random_state</strong> (<em>int, optional (default = 1234)</em>) – Random state.</li>
<li><strong>n_folds</strong> (<em>int, optional (default = 5)</em>) – Number of CV folds.</li>
<li><strong>n_repetitions</strong> (<em>int, optional (default = 10)</em>) – Number of CV iterations.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_crossvalidate.crossvalidatePCAR">
<code class="descclassname">ugtm.ugtm_crossvalidate.</code><code class="descname">crossvalidatePCAR</code><span class="sig-paren">(</span><em>data</em>, <em>labels</em>, <em>n_neighbors=1</em>, <em>maxneighbours=11</em>, <em>doPCA=False</em>, <em>n_components=-1</em>, <em>missing=False</em>, <em>missing_strategy='median'</em>, <em>random_state=1234</em>, <em>n_folds=5</em>, <em>n_repetitions=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_crossvalidate.html#crossvalidatePCAR"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_crossvalidate.crossvalidatePCAR" title="Permalink to this definition">¶</a></dt>
<dd><p>Cross-validate PCA kNN regression model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<em>array of shape (n_individuals, n_dimensions)</em>) – Train set data matrix.</li>
<li><strong>labels</strong> (<em>array of shape (n_individuals, 1)</em>) – Labels for train set.</li>
<li><strong>n_neighbors</strong> (<em>int, optional (default = 1)</em>) – Number of neighbors for kNN algorithm (number of nearest nodes).</li>
<li><strong>max_neighbors</strong> (<em>int, optional (default = 11)</em>) – The function crossvalidates kNN models with k between n_neighbors
and max_neighbors.</li>
<li><strong>doPCA</strong> (<em>bool, optional (default = False)</em>) – Apply PCA pre-processing.</li>
<li><strong>n_components</strong> (<em>int, optional (default = -1)</em>) – Number of components for PCA pre-processing.
If set to -1, keep principal components
accounting for 80% of data variance.</li>
<li><strong>missing</strong> (<em>bool, optional (default = True)</em>) – Replace missing values (calls scikit-learn functions).</li>
<li><strong>missing_strategy</strong> (<em>str, optional (default = ‘median’)</em>) – Scikit-learn missing data strategy.</li>
<li><strong>random_state</strong> (<em>int, optional (default = 1234)</em>) – Random state.</li>
<li><strong>n_folds</strong> (<em>int, optional (default = 5)</em>) – Number of CV folds.</li>
<li><strong>n_repetitions</strong> (<em>int, optional (default = 10)</em>) – Number of CV iterations.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_crossvalidate.crossvalidateSVC">
<code class="descclassname">ugtm.ugtm_crossvalidate.</code><code class="descname">crossvalidateSVC</code><span class="sig-paren">(</span><em>data</em>, <em>labels</em>, <em>C=1.0</em>, <em>doPCA=False</em>, <em>n_components=-1</em>, <em>missing=False</em>, <em>missing_strategy='median'</em>, <em>random_state=1234</em>, <em>n_folds=5</em>, <em>n_repetitions=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_crossvalidate.html#crossvalidateSVC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_crossvalidate.crossvalidateSVC" title="Permalink to this definition">¶</a></dt>
<dd><p>Cross-validate SVC model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<em>array of shape (n_individuals, n_dimensions)</em>) – Train set data matrix.</li>
<li><strong>labels</strong> (<em>array of shape (n_individuals, 1)</em>) – Labels for train set.</li>
<li><strong>C</strong> (<em>float, optional (default = 1.0)</em>) – SVM regularization parameter.</li>
<li><strong>doPCA</strong> (<em>bool, optional (default = False)</em>) – Apply PCA pre-processing.</li>
<li><strong>n_components</strong> (<em>int, optional (default = -1)</em>) – Number of components for PCA pre-processing.
If set to -1, keep principal components
accounting for 80% of data variance.</li>
<li><strong>missing</strong> (<em>bool, optional (default = True)</em>) – Replace missing values (calls scikit-learn functions).</li>
<li><strong>missing_strategy</strong> (<em>str, optional (default = ‘median’)</em>) – Scikit-learn missing data strategy.</li>
<li><strong>random_state</strong> (<em>int, optional (default = 1234)</em>) – Random state.</li>
<li><strong>n_folds</strong> (<em>int, optional (default = 5)</em>) – Number of CV folds.</li>
<li><strong>n_repetitions</strong> (<em>int, optional (default = 10)</em>) – Number of CV iterations.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_crossvalidate.crossvalidateSVCrbf">
<code class="descclassname">ugtm.ugtm_crossvalidate.</code><code class="descname">crossvalidateSVCrbf</code><span class="sig-paren">(</span><em>data</em>, <em>labels</em>, <em>C=1</em>, <em>gamma=1</em>, <em>doPCA=False</em>, <em>n_components=-1</em>, <em>missing=False</em>, <em>missing_strategy='median'</em>, <em>random_state=1234</em>, <em>n_folds=5</em>, <em>n_repetitions=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_crossvalidate.html#crossvalidateSVCrbf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_crossvalidate.crossvalidateSVCrbf" title="Permalink to this definition">¶</a></dt>
<dd><p>Cross-validate SVC model with RBF kernel.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<em>array of shape (n_individuals, n_dimensions)</em>) – Train set data matrix.</li>
<li><strong>labels</strong> (<em>array of shape (n_individuals, 1)</em>) – Labels for train set.</li>
<li><strong>C</strong> (<em>float, optional (default = 1)</em>) – SVM regularization parameter.</li>
<li><strong>gamma</strong> (<em>float, optional (default = 1)</em>) – RBF parameter.</li>
<li><strong>doPCA</strong> (<em>bool, optional (default = False)</em>) – Apply PCA pre-processing.</li>
<li><strong>n_components</strong> (<em>int, optional (default = -1)</em>) – Number of components for PCA pre-processing.
If set to -1, keep principal components
accounting for 80% of data variance.</li>
<li><strong>missing</strong> (<em>bool, optional (default = True)</em>) – Replace missing values (calls scikit-learn functions).</li>
<li><strong>missing_strategy</strong> (<em>str, optional (default = ‘median’)</em>) – Scikit-learn missing data strategy.</li>
<li><strong>random_state</strong> (<em>int, optional (default = 1234)</em>) – Random state.</li>
<li><strong>n_folds</strong> (<em>int, optional (default = 5)</em>) – Number of CV folds.</li>
<li><strong>n_repetitions</strong> (<em>int, optional (default = 10)</em>) – Number of CV iterations.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_crossvalidate.crossvalidateSVR">
<code class="descclassname">ugtm.ugtm_crossvalidate.</code><code class="descname">crossvalidateSVR</code><span class="sig-paren">(</span><em>data</em>, <em>labels</em>, <em>C=-1</em>, <em>epsilon=-1</em>, <em>doPCA=False</em>, <em>n_components=-1</em>, <em>missing=False</em>, <em>missing_strategy='median'</em>, <em>random_state=1234</em>, <em>n_folds=5</em>, <em>n_repetitions=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_crossvalidate.html#crossvalidateSVR"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_crossvalidate.crossvalidateSVR" title="Permalink to this definition">¶</a></dt>
<dd><p>Cross-validate SVR model with linear kernel.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<em>array of shape (n_individuals, n_dimensions)</em>) – Train set data matrix.</li>
<li><strong>labels</strong> (<em>array of shape (n_individuals, 1)</em>) – Labels for train set.</li>
<li><strong>C</strong> (<em>float, optional (default = -1)</em>) – SVM regularization parameter.
If (C = -1), different values are tested.</li>
<li><strong>epsilon</strong> (<em>float, optional (default = -1)</em>) – SVM tolerance parameter.
If (epsilon = -1), different values are tested.</li>
<li><strong>doPCA</strong> (<em>bool, optional (default = False)</em>) – Apply PCA pre-processing.</li>
<li><strong>n_components</strong> (<em>int, optional (default = -1)</em>) – Number of components for PCA pre-processing.
If set to -1, keep principal components
accounting for 80% of data variance.</li>
<li><strong>missing</strong> (<em>bool, optional (default = True)</em>) – Replace missing values (calls scikit-learn functions).</li>
<li><strong>missing_strategy</strong> (<em>str, optional (default = ‘median’)</em>) – Scikit-learn missing data strategy.</li>
<li><strong>random_state</strong> (<em>int, optional (default = 1234)</em>) – Random state.</li>
<li><strong>n_folds</strong> (<em>int, optional (default = 5)</em>) – Number of CV folds.</li>
<li><strong>n_repetitions</strong> (<em>int, optional (default = 10)</em>) – Number of CV iterations.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_crossvalidate.whichExperiment">
<code class="descclassname">ugtm.ugtm_crossvalidate.</code><code class="descname">whichExperiment</code><span class="sig-paren">(</span><em>data</em>, <em>labels</em>, <em>args</em>, <em>discrete=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_crossvalidate.html#whichExperiment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_crossvalidate.whichExperiment" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-ugtm.ugtm_gtm">
<span id="ugtm-ugtm-gtm-module"></span><h2>ugtm.ugtm_gtm module<a class="headerlink" href="#module-ugtm.ugtm_gtm" title="Permalink to this headline">¶</a></h2>
<p>Functions to run GTM models.</p>
<dl class="function">
<dt id="ugtm.ugtm_gtm.initialize">
<code class="descclassname">ugtm.ugtm_gtm.</code><code class="descname">initialize</code><span class="sig-paren">(</span><em>data</em>, <em>k</em>, <em>m</em>, <em>s</em>, <em>random_state=1234</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_gtm.html#initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_gtm.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes a GTM model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>array of shape (n_individuals, n_dimensions)</em>) – Data matrix.</li>
<li><strong>k</strong> (<em>int</em>) – Sqrt of the number of GTM nodes.
One of four GTM hyperparameters (k, m, s, regul).
Ex: k = 25 means the GTM will be discretized into a 25x25 grid.</li>
<li><strong>m</strong> (<em>int</em>) – Sqrt of the number of RBF centers.
One of four GTM hyperparameters (k, m, s, regul).
Ex: m = 5 means the RBF functions will be arranged on a 5x5 grid.</li>
<li><strong>s</strong> (<em>float</em>) – RBF width factor.
One of four GTM hyperparameters (k, m, s, regul).
Parameter to tune width of RBF functions.
Impacts manifold flexibility.</li>
<li><strong>random_state</strong> (<em>int, optional (default = 1234)</em>) – Random state.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Initial GTM model (not optimized).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">instance of <a class="reference internal" href="#ugtm.ugtm_classes.InitialGTM" title="ugtm.ugtm_classes.InitialGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">InitialGTM</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>We use approximately the same notations as in the original GTM paper
by C. Bishop et al.
The initialization process is the following:</p>
<blockquote>
<div><ol class="arabic simple">
<li>GTM grid parameters:
number of nodes = k*k, number of rbf centers = m*m</li>
<li>Create node matrix X
(matX, meshgrid of shape (k*k,2))</li>
<li>Create rbf centers matrix M
(matM, meshgrid of shape (m*m, 2))</li>
<li>Initialize rbf width
(rbfWidth, <a class="reference internal" href="#ugtm.ugtm_core.computeWidth" title="ugtm.ugtm_core.computeWidth"><code class="xref py py-func docutils literal notranslate"><span class="pre">computeWidth()</span></code></a>)</li>
<li>Create rbf matrix <span class="math notranslate nohighlight">\(\Phi\)</span>
(matPhiMPlusOne, <a class="reference internal" href="#ugtm.ugtm_core.createPhiMatrix" title="ugtm.ugtm_core.createPhiMatrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">createPhiMatrix()</span></code></a>)</li>
<li>Perform PCA on the data using sklearn’s PCA function</li>
<li>Set U matrix to 2 first principal axes of data cov. matrix (matU)</li>
<li>Initialize parameter matrix W using U and <span class="math notranslate nohighlight">\(\Phi\)</span>
(matW, <a class="reference internal" href="#ugtm.ugtm_core.createWMatrix" title="ugtm.ugtm_core.createWMatrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">createWMatrix()</span></code></a>)</li>
<li>Initialize manifold Y using W and <span class="math notranslate nohighlight">\(\Phi\)</span>
(matY, <a class="reference internal" href="#ugtm.ugtm_core.createYMatrixInit" title="ugtm.ugtm_core.createYMatrixInit"><code class="xref py py-func docutils literal notranslate"><span class="pre">createYMatrixInit()</span></code></a>)</li>
<li>Set noise variance parameter (betaInv, <a class="reference internal" href="#ugtm.ugtm_core.evalBetaInv" title="ugtm.ugtm_core.evalBetaInv"><code class="xref py py-func docutils literal notranslate"><span class="pre">evalBetaInv()</span></code></a>)
to the largest between:
(1) the 3rd eigenvalue of the data covariance matrix
(2) half the average distance between centers of Gaussian components.</li>
<li>Store initial GTM model in InitialGTM object</li>
</ol>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_gtm.optimize">
<code class="descclassname">ugtm.ugtm_gtm.</code><code class="descname">optimize</code><span class="sig-paren">(</span><em>data</em>, <em>initialModel</em>, <em>regul</em>, <em>niter</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_gtm.html#optimize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_gtm.optimize" title="Permalink to this definition">¶</a></dt>
<dd><p>Optimizes a GTM model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>array of shape (n_individuals, n_dimensions)</em>) – Data matrix.</li>
<li><strong>initialModel</strong> (instance of <a class="reference internal" href="#ugtm.ugtm_classes.InitialGTM" title="ugtm.ugtm_classes.InitialGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">InitialGTM</span></code></a>) – PCA-initialized GTM model.
The initial model is separated from the optimized model
so that different data sets can be potentially used for initialization
and optimization.</li>
<li><strong>regul</strong> (<em>float</em>) – Regularization coefficient.</li>
<li><strong>niter</strong> (<em>int</em>) – Number of iterations for EM algorithm.</li>
<li><strong>verbose</strong> (<em>bool, optional (default = True)</em>) – Verbose mode (outputs loglikelihood values during EM algorithm).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Optimized GTM model.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">instance of <a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizedGTM</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>We use approximately the same notations as in the original GTM paper
by C. Bishop et al.
The GTM optimization process is the following:</p>
<blockquote>
<div><ol class="arabic">
<li><p class="first">Create distance matrix D between manifold and data matrix
(matD, <a class="reference internal" href="#ugtm.ugtm_core.createDistanceMatrix" title="ugtm.ugtm_core.createDistanceMatrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">createDistanceMatrix()</span></code></a>)</p>
</li>
<li><p class="first">Until convergence (<span class="math notranslate nohighlight">\(\Delta(log likelihood) \leq 0.0001\)</span>):</p>
<blockquote>
<div><ol class="arabic simple">
<li>Update data distribution P
(matP, <a class="reference internal" href="#ugtm.ugtm_core.createPMatrix" title="ugtm.ugtm_core.createPMatrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">createPMatrix()</span></code></a>)</li>
<li>Update responsibilities R
(matR, <a class="reference internal" href="#ugtm.ugtm_core.createRMatrix" title="ugtm.ugtm_core.createRMatrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">createRMatrix()</span></code></a>)</li>
<li>Update diagonal matrix G
(matG, <a class="reference internal" href="#ugtm.ugtm_core.createGMatrix" title="ugtm.ugtm_core.createGMatrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">createGMatrix()</span></code></a>)</li>
<li>Update parameter matrix W
(matW, <a class="reference internal" href="#ugtm.ugtm_core.optimWMatrix" title="ugtm.ugtm_core.optimWMatrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">optimWMatrix()</span></code></a>)</li>
<li>Update manifold matrix Y
(matY, <a class="reference internal" href="#ugtm.ugtm_core.createYMatrix" title="ugtm.ugtm_core.createYMatrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">createYMatrix()</span></code></a>)</li>
<li>Update distance matrix D
(matD, <a class="reference internal" href="#ugtm.ugtm_core.createDistanceMatrix" title="ugtm.ugtm_core.createDistanceMatrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">createDistanceMatrix()</span></code></a>)</li>
<li>Update noise variance parameter <span class="math notranslate nohighlight">\(\beta^{-1}\)</span>
(betaInv, <a class="reference internal" href="#ugtm.ugtm_core.optimBetaInv" title="ugtm.ugtm_core.optimBetaInv"><code class="xref py py-func docutils literal notranslate"><span class="pre">optimBetaInv()</span></code></a>)</li>
<li>Estimate log likelihood and check for convergence
(<a class="reference internal" href="#ugtm.ugtm_core.computelogLikelihood" title="ugtm.ugtm_core.computelogLikelihood"><code class="xref py py-func docutils literal notranslate"><span class="pre">computelogLikelihood()</span></code></a>)</li>
</ol>
</div></blockquote>
</li>
<li><p class="first">Compute 2D GTM representation 1: means
(matMeans, <a class="reference internal" href="#ugtm.ugtm_core.meanPoint" title="ugtm.ugtm_core.meanPoint"><code class="xref py py-func docutils literal notranslate"><span class="pre">meanPoint()</span></code></a>)</p>
</li>
<li><p class="first">Compute 2D GTM representation 2: modes
(matModes, <a class="reference internal" href="#ugtm.ugtm_core.modePoint" title="ugtm.ugtm_core.modePoint"><code class="xref py py-func docutils literal notranslate"><span class="pre">modePoint()</span></code></a>)</p>
</li>
<li><p class="first">Store GTM model in OptimizedGTM object</p>
</li>
</ol>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_gtm.projection">
<code class="descclassname">ugtm.ugtm_gtm.</code><code class="descname">projection</code><span class="sig-paren">(</span><em>optimizedModel</em>, <em>new_data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_gtm.html#projection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_gtm.projection" title="Permalink to this definition">¶</a></dt>
<dd><p>Project test set on optimized GTM model. No pre-processing involved.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>optimizedModel</strong> (instance of <a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizedGTM</span></code></a>) – Optimized GTM model, built using training set (train).</li>
<li><strong>new_data</strong> (<em>array of shape (n_test, n_dimensions)</em>) – Test data matrix.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Returns an instance of <a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizedGTM</span></code></a>
corresponding to the projected test set.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">instance of <a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizedGTM</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The new_data must have been through exactly the same preprocessing
as the data used to obtained the optimized GTM model. To get a function
doing the preprocessing as well as projection on the map, cf.
<a class="reference internal" href="#ugtm.ugtm_gtm.transform" title="ugtm.ugtm_gtm.transform"><code class="xref py py-func docutils literal notranslate"><span class="pre">transform()</span></code></a>.</p>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_gtm.runGTM">
<code class="descclassname">ugtm.ugtm_gtm.</code><code class="descname">runGTM</code><span class="sig-paren">(</span><em>data</em>, <em>k=16</em>, <em>m=4</em>, <em>s=0.3</em>, <em>regul=0.1</em>, <em>doPCA=False</em>, <em>n_components=-1</em>, <em>missing=True</em>, <em>missing_strategy='median'</em>, <em>random_state=1234</em>, <em>niter=200</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_gtm.html#runGTM"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_gtm.runGTM" title="Permalink to this definition">¶</a></dt>
<dd><p>Run GTM (wrapper for initialize + optimize).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>array of shape (n_individuals, n_dimensions)</em>) – Data matrix.</li>
<li><strong>k</strong> (<em>int, optional (default = 16)</em>) – If k is set to 0, k is computed as sqrt(5*sqrt(n_individuals))+2.
k is the sqrt of the number of GTM nodes.
One of four GTM hyperparameters (k, m, s, regul).
Ex: k = 25 means the GTM will be discretized into a 25x25 grid.</li>
<li><strong>m</strong> (<em>int, optional (default = 4)</em>) – If m is set to 0, m is computed as sqrt(k).
m is the qrt of the number of RBF centers.
One of four GTM hyperparameters (k, m, s, regul).
Ex: m = 5 means the RBF functions will be arranged on a 5x5 grid.</li>
<li><strong>s</strong> (<em>float, optional (default = 0.3)</em>) – RBF width factor.
One of four GTM hyperparameters (k, m, s, regul).
Parameter to tune width of RBF functions.
Impacts manifold flexibility.</li>
<li><strong>regul</strong> (<em>float, optional (default = 0.1)</em>) – One of four GTM hyperparameters (k, m, s, regul).
Regularization coefficient.</li>
<li><strong>doPCA</strong> (<em>bool, optional (default = False)</em>) – Apply PCA pre-processing.</li>
<li><strong>n_components</strong> (<em>int, optional (default = -1)</em>) – Number of components for PCA pre-processing.
If set to -1, keep principal components
accounting for 80% of data variance.</li>
<li><strong>missing</strong> (<em>bool, optional (default = True)</em>) – Replace missing values (calls scikit-learn functions).</li>
<li><strong>missing_strategy</strong> (<em>str (default = ‘median’)</em>) – Scikit-learn missing data strategy.</li>
<li><strong>random_state</strong> (<em>int (default = 1234)</em>) – Random state.</li>
<li><strong>niter</strong> (<em>int, optional (default = 200)</em>) – Number of iterations for EM algorithm.</li>
<li><strong>verbose</strong> (<em>bool, optional (default = False)</em>) – Verbose mode (outputs loglikelihood values during EM algorithm).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Optimized GTM model.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">instance of <a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizedGTM</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>We use approximately the same notations as in the original GTM paper
by C. Bishop et al.
The initialization + optimization process the following:</p>
<blockquote>
<div><ol class="arabic">
<li><p class="first">GTM initialization:</p>
<blockquote>
<div><ol class="arabic simple">
<li>GTM grid parameters:
number of nodes = k*k, number of rbf centers = m*m</li>
<li>Create node matrix X
(matX, meshgrid of shape (k*k,2))</li>
<li>Create rbf centers matrix M
(matM, meshgrid of shape (m*m, 2))</li>
<li>Initialize rbf width
(rbfWidth, <a class="reference internal" href="#ugtm.ugtm_core.computeWidth" title="ugtm.ugtm_core.computeWidth"><code class="xref py py-func docutils literal notranslate"><span class="pre">computeWidth()</span></code></a>)</li>
<li>Create rbf matrix <span class="math notranslate nohighlight">\(\Phi\)</span>
(matPhiMPlusOne, <a class="reference internal" href="#ugtm.ugtm_core.createPhiMatrix" title="ugtm.ugtm_core.createPhiMatrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">createPhiMatrix()</span></code></a>)</li>
<li>Perform PCA on the data using sklearn’s PCA function</li>
<li>Set U matrix to 2 first principal axes of data cov. matrix (matU)</li>
<li>Initialize parameter matrix W using U and <span class="math notranslate nohighlight">\(\Phi\)</span>
(matW, <a class="reference internal" href="#ugtm.ugtm_core.createWMatrix" title="ugtm.ugtm_core.createWMatrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">createWMatrix()</span></code></a>)</li>
<li>Initialize manifold Y using W and <span class="math notranslate nohighlight">\(\Phi\)</span>
(matY, <a class="reference internal" href="#ugtm.ugtm_core.createYMatrixInit" title="ugtm.ugtm_core.createYMatrixInit"><code class="xref py py-func docutils literal notranslate"><span class="pre">createYMatrixInit()</span></code></a>)</li>
<li>Set noise variance parameter (betaInv, <a class="reference internal" href="#ugtm.ugtm_core.evalBetaInv" title="ugtm.ugtm_core.evalBetaInv"><code class="xref py py-func docutils literal notranslate"><span class="pre">evalBetaInv()</span></code></a>)
to the largest between:
(1) the 3rd eigenvalue of the data covariance matrix
(2) half the average distance between centers of Gaussian components.</li>
</ol>
</div></blockquote>
</li>
<li><p class="first">GTM optimization:</p>
<blockquote>
<div><ol class="arabic">
<li><p class="first">Create distance matrix D between manifold and data matrix
(matD, <a class="reference internal" href="#ugtm.ugtm_core.createDistanceMatrix" title="ugtm.ugtm_core.createDistanceMatrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">createDistanceMatrix()</span></code></a>)</p>
</li>
<li><p class="first">Until convergence (<span class="math notranslate nohighlight">\(\Delta(log likelihood) \leq 0.0001\)</span>):</p>
<blockquote>
<div><ol class="arabic simple">
<li>Update data distribution P
(matP, <a class="reference internal" href="#ugtm.ugtm_core.createPMatrix" title="ugtm.ugtm_core.createPMatrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">createPMatrix()</span></code></a>)</li>
<li>Update responsibilities R
(matR, <a class="reference internal" href="#ugtm.ugtm_core.createRMatrix" title="ugtm.ugtm_core.createRMatrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">createRMatrix()</span></code></a>)</li>
<li>Update diagonal matrix G
(matG, <a class="reference internal" href="#ugtm.ugtm_core.createGMatrix" title="ugtm.ugtm_core.createGMatrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">createGMatrix()</span></code></a>)</li>
<li>Update parameter matrix W
(matW, <a class="reference internal" href="#ugtm.ugtm_core.optimWMatrix" title="ugtm.ugtm_core.optimWMatrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">optimWMatrix()</span></code></a>)</li>
<li>Update manifold matrix Y
(matY, <a class="reference internal" href="#ugtm.ugtm_core.createYMatrix" title="ugtm.ugtm_core.createYMatrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">createYMatrix()</span></code></a>)</li>
<li>Update distance matrix D
(matD, <a class="reference internal" href="#ugtm.ugtm_core.createDistanceMatrix" title="ugtm.ugtm_core.createDistanceMatrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">createDistanceMatrix()</span></code></a>)</li>
<li>Update noise variance parameter <span class="math notranslate nohighlight">\(\beta^{-1}\)</span>
(betaInv, <a class="reference internal" href="#ugtm.ugtm_core.optimBetaInv" title="ugtm.ugtm_core.optimBetaInv"><code class="xref py py-func docutils literal notranslate"><span class="pre">optimBetaInv()</span></code></a>)</li>
<li>Estimate log likelihood and check for convergence
(<a class="reference internal" href="#ugtm.ugtm_core.computelogLikelihood" title="ugtm.ugtm_core.computelogLikelihood"><code class="xref py py-func docutils literal notranslate"><span class="pre">computelogLikelihood()</span></code></a>)</li>
</ol>
</div></blockquote>
</li>
<li><p class="first">Compute 2D GTM representation 1: means
(matMeans, <a class="reference internal" href="#ugtm.ugtm_core.meanPoint" title="ugtm.ugtm_core.meanPoint"><code class="xref py py-func docutils literal notranslate"><span class="pre">meanPoint()</span></code></a>)</p>
</li>
<li><p class="first">Compute 2D GTM representation 2: modes
(matModes, <a class="reference internal" href="#ugtm.ugtm_core.modePoint" title="ugtm.ugtm_core.modePoint"><code class="xref py py-func docutils literal notranslate"><span class="pre">modePoint()</span></code></a>)</p>
</li>
<li><p class="first">Store GTM model in OptimizedGTM object</p>
</li>
</ol>
</div></blockquote>
</li>
</ol>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_gtm.transform">
<code class="descclassname">ugtm.ugtm_gtm.</code><code class="descname">transform</code><span class="sig-paren">(</span><em>optimizedModel</em>, <em>train</em>, <em>test</em>, <em>doPCA=False</em>, <em>n_components=-1</em>, <em>missing=True</em>, <em>missing_strategy='median'</em>, <em>random_state=1234</em>, <em>process=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_gtm.html#transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_gtm.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Preprocess and project test set on optimized GTM model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>optimizedModel</strong> (instance of <a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizedGTM</span></code></a>) – Optimized GTM model, built using training set (train).</li>
<li><strong>train</strong> (<em>array of shape (n_train, n_dimensions)</em>) – Training data matrix.</li>
<li><strong>test</strong> (<em>array of shape (n_test, n_dimensions)</em>) – Test data matrix.</li>
<li><strong>doPCA</strong> (<em>bool, optional (default = False)</em>) – Apply PCA pre-processing.</li>
<li><strong>n_components</strong> (<em>int, optional (default = -1)</em>) – Number of components for PCA pre-processing.
If set to -1, keep principal components
accounting for 80% of data variance.</li>
<li><strong>missing</strong> (<em>bool, optional (default = True)</em>) – Replace missing values (calls scikit-learn functions).</li>
<li><strong>missing_strategy</strong> (<em>str (default = ‘median’)</em>) – Scikit-learn missing data strategy.</li>
<li><strong>random_state</strong> (<em>int (default = 1234)</em>) – Random state.</li>
<li><strong>process</strong> (<em>bool (default = True)</em>) – Apply preprocessing (missing, PCA) to train set and
use values from train set to preprocess test set.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Returns an instance of <a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizedGTM</span></code></a>
corresponding to the projected test set.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">instance of <a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizedGTM</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-ugtm.ugtm_kgtm">
<span id="ugtm-ugtm-kgtm-module"></span><h2>ugtm.ugtm_kgtm module<a class="headerlink" href="#module-ugtm.ugtm_kgtm" title="Permalink to this headline">¶</a></h2>
<p>Functions to initialize and optimize kernel GTM models.</p>
<dl class="function">
<dt id="ugtm.ugtm_kgtm.initializeKernel">
<code class="descclassname">ugtm.ugtm_kgtm.</code><code class="descname">initializeKernel</code><span class="sig-paren">(</span><em>data</em>, <em>k</em>, <em>m</em>, <em>s</em>, <em>maxdim</em>, <em>random_state=1234</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_kgtm.html#initializeKernel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_kgtm.initializeKernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes a kernel GTM (kGTM) model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>array of shape (n_individuals, n_dimensions)</em>) – Data matrix.</li>
<li><strong>k</strong> (<em>int</em>) – Sqrt of the number of GTM nodes.
Ex: k = 25 means the GTM will be discretized into a 25x25 grid.</li>
<li><strong>m</strong> (<em>int</em>) – Sqrt of the number of RBF centers.
Ex: m = 5 means the RBF functions will be arranged on a 5x5 grid.</li>
<li><strong>s</strong> (<em>float</em>) – RBF width factor.
Parameter to tune width of RBF functions.
Impacts manifold flexibility.</li>
<li><strong>maxdim</strong> (<em>int</em>) – Max boundary for internal dimensionality estimation.</li>
<li><strong>random_state</strong> (<em>int, optional (default = 1234)</em>) – Random state.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Initial GTM model (not optimized).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">instance of <a class="reference internal" href="#ugtm.ugtm_classes.InitialGTM" title="ugtm.ugtm_classes.InitialGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">InitialGTM</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_kgtm.optimizeKernel">
<code class="descclassname">ugtm.ugtm_kgtm.</code><code class="descname">optimizeKernel</code><span class="sig-paren">(</span><em>data</em>, <em>initialModel</em>, <em>regul</em>, <em>niter</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_kgtm.html#optimizeKernel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_kgtm.optimizeKernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Optimizes a kGTM model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>array of shape (n_individuals, n_dimensions)</em>) – Data matrix.</li>
<li><strong>initialModel</strong> (instance of <a class="reference internal" href="#ugtm.ugtm_classes.InitialGTM" title="ugtm.ugtm_classes.InitialGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">InitialGTM</span></code></a>) – Initial kGTM model.
The initial model is separate from the optimized model
so that different data sets can be potentially used for initialization
and optimization.</li>
<li><strong>regul</strong> (<em>float</em>) – Regularization coefficient.</li>
<li><strong>niter</strong> (<em>int</em>) – Number of iterations for EM algorithm.</li>
<li><strong>verbose</strong> (<em>bool, optional (default = True)</em>) – Verbose mode (outputs loglikelihood values during EM algorithm).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Optimized kGTM model.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">instance of <a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizedGTM</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_kgtm.runkGTM">
<code class="descclassname">ugtm.ugtm_kgtm.</code><code class="descname">runkGTM</code><span class="sig-paren">(</span><em>data</em>, <em>k=16</em>, <em>m=4</em>, <em>s=0.3</em>, <em>regul=0.1</em>, <em>maxdim=100</em>, <em>doPCA=False</em>, <em>doKernel=False</em>, <em>kernel='linear'</em>, <em>n_components=-1</em>, <em>missing=True</em>, <em>missing_strategy='median'</em>, <em>random_state=1234</em>, <em>niter=200</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_kgtm.html#runkGTM"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_kgtm.runkGTM" title="Permalink to this definition">¶</a></dt>
<dd><p>Run kGTM algorithm (wrapper for initialize + optimize).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>array of shape (n_individuals, n_dimensions)</em>) – Data matrix.</li>
<li><strong>k</strong> (<em>int, optional (default = 16)</em>) – If k is set to 0, k is computed as sqrt(5*sqrt(n_individuals))+2.
k is the sqrt of the number of GTM nodes.
One of four GTM hyperparameters (k, m, s, regul).
Ex: k = 25 means the GTM will be discretized into a 25x25 grid.</li>
<li><strong>m</strong> (<em>int, optional (default = 4)</em>) – If m is set to 0, m is computed as sqrt(k).
m is the qrt of the number of RBF centers.
One of four GTM hyperparameters (k, m, s, regul).
Ex: m = 5 means the RBF functions will be arranged on a 5x5 grid.</li>
<li><strong>s</strong> (<em>float, optional (default = 0.3)</em>) – RBF width factor.
Parameter to tune width of RBF functions.
Impacts manifold flexibility.</li>
<li><strong>regul</strong> (<em>float, optional (default = 0.1)</em>) – One of four GTM hyperparameters (k, m, s, regul).
Regularization coefficient.</li>
<li><strong>maxdim</strong> (<em>int</em>) – Max boundary for internal dimensionality estimation.
Internal dimensionality is estimated as number of principal components
accounting for 99.5% of data variance. If this value is higher than
maxdim, it is replaced by maxim.</li>
<li><strong>doPCA</strong> (<em>bool, optional (default = False)</em>) – Apply PCA pre-processing.</li>
<li><strong>doKernel</strong> (<em>bool, optional (default = False)</em>) – If doKernel is False, the data is supposed to be a kernel already.
If doKernel is True, a kernel will be computed from the data.</li>
<li><strong>kernel</strong> (<em>scikit-learn kernel (default = “linear”)</em>)</li>
<li><strong>n_components</strong> (<em>int, optional (default = -1)</em>) – Number of components for PCA pre-processing.
If set to -1, keep principal components
accounting for 80% of data variance.</li>
<li><strong>missing</strong> (<em>bool, optional (default = True)</em>) – Replace missing values (calls scikit-learn functions).</li>
<li><strong>missing_strategy</strong> (<em>str (default = ‘median’)</em>) – Scikit-learn missing data strategy.</li>
<li><strong>random_state</strong> (<em>int (default = 1234)</em>) – Random state.</li>
<li><strong>niter</strong> (<em>int, optional (default = 200)</em>) – Number of iterations for EM algorithm.</li>
<li><strong>verbose</strong> (<em>bool, optional (default = False)</em>) – Verbose mode (outputs loglikelihood values during EM algorithm).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Optimized kGTM model.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">instance of <a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizedGTM</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-ugtm.ugtm_landscape">
<span id="ugtm-ugtm-landscape-module"></span><h2>ugtm.ugtm_landscape module<a class="headerlink" href="#module-ugtm.ugtm_landscape" title="Permalink to this headline">¶</a></h2>
<p>Builds continuous GTM class maps or landscapes using labels or activities.</p>
<dl class="class">
<dt id="ugtm.ugtm_landscape.ClassMap">
<em class="property">class </em><code class="descclassname">ugtm.ugtm_landscape.</code><code class="descname">ClassMap</code><span class="sig-paren">(</span><em>nodeClassP</em>, <em>nodeClassT</em>, <em>activityModel</em>, <em>uniqClasses</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_landscape.html#ClassMap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_landscape.ClassMap" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class for ClassMap: Bayesian classification model for each GTM node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nodeClassT</strong> (<em>array of shape (n_nodes, n_classes)</em>) – Likelihood of each node <span class="math notranslate nohighlight">\(k\)</span>
given class <span class="math notranslate nohighlight">\(C_i\)</span>:
<span class="math notranslate nohighlight">\(P(k|C_i) = \frac{\sum_{i_{c}}R_{i_{c},k}}{N_c}\)</span>.</li>
<li><strong>nodeClassP</strong> (<em>array of shape (n_nodes, n_classes)</em>) – Posterior probabilities of each class <span class="math notranslate nohighlight">\(C_i\)</span>
for each node <span class="math notranslate nohighlight">\(k\)</span>:
<span class="math notranslate nohighlight">\(P(C_i|k) =\frac{P(k|C_i)P(C_i)}{\sum_i P(k|C_i)P(C_i)}\)</span></li>
<li><strong>activityModel</strong> (<em>array of shape (n_nodes,1)</em>) – Class label attributed to each GTM node on the GTM node grid.
Computed using argmax of posterior probabilities.</li>
<li><strong>uniqClasses</strong> (<em>array of shape (n_classes,1)</em>) – Unique class labels.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_landscape.classMap">
<code class="descclassname">ugtm.ugtm_landscape.</code><code class="descname">classMap</code><span class="sig-paren">(</span><em>optimizedModel</em>, <em>activity</em>, <em>prior='estimated'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_landscape.html#classMap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_landscape.classMap" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes GTM class map based on discrete activities (= discrete labels)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>optimizedModel</strong> (an instance of <a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizedGTM</span></code></a>) – The optimized GTM model.</li>
<li><strong>activity</strong> (<em>array of shape (n_individuals,1)</em>) – Activity vector (discrete labels) associated with the data
used to compute the optimized GTM model.</li>
<li><strong>prior</strong> (<em>{estimated, equiprobable}, optional</em>) – Type of prior used for Bayesian classifier.
“equiprobable” assigns the same weight to all classes:
<span class="math notranslate nohighlight">\(P(C_i)=1/N_{classes}\)</span>.
“estimated” accounts for class imbalance using
the number of individuals in each class <span class="math notranslate nohighlight">\(N(C_i)\)</span>:
<span class="math notranslate nohighlight">\(P(C_i)=N_{C_i}/N_{total}\)</span></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Computes a GTM bayesian model and returns an instance of
<a class="reference internal" href="#ugtm.ugtm_landscape.ClassMap" title="ugtm.ugtm_landscape.ClassMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClassMap</span></code></a>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">instance of <a class="reference internal" href="#ugtm.ugtm_landscape.ClassMap" title="ugtm.ugtm_landscape.ClassMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClassMap</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>This function computes the likelihood of each GTM node given a class,
the posterior probabilities of each class (using Bayes’ theorem),
and the class attributed to each node:</p>
<blockquote>
<div><ol class="arabic simple">
<li>output.nodeClassT:
likelihood of each node <span class="math notranslate nohighlight">\(k\)</span>
given class <span class="math notranslate nohighlight">\(C_i\)</span>:
<span class="math notranslate nohighlight">\(P(k|C_i) = \frac{\sum_{i_{c}}R_{i_{c},k}}{N_c}\)</span>.</li>
<li>output.nodeClassP:
posterior probabilities of each class
<span class="math notranslate nohighlight">\(C_i\)</span> for each node <span class="math notranslate nohighlight">\(k\)</span>,
using piors <span class="math notranslate nohighlight">\(P(C_i)\)</span>:
<span class="math notranslate nohighlight">\(P(C_i|k) =\frac{P(k|C_i)P(C_i)}{\sum_i P(k|C_i)P(C_i)}\)</span></li>
<li><dl class="first docutils">
<dt>output.activityModel:</dt>
<dd>Class label attributed to each GTM node on the GTM node grid.
Computed using argmax of posterior probabilities.</dd>
</dl>
</li>
</ol>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_landscape.landscape">
<code class="descclassname">ugtm.ugtm_landscape.</code><code class="descname">landscape</code><span class="sig-paren">(</span><em>optimizedModel</em>, <em>activity</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_landscape.html#landscape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_landscape.landscape" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes GTM landscapes based on activities (= continuous labels).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>optimizedModel</strong> (an instance of <a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizedGTM</span></code></a>) – The optimized GTM model.</li>
<li><strong>activity</strong> (<em>array of shape (n_individuals,1)</em>) – Activity vector (continuous labels) associated with the data
used to compute the optimized GTM model.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Activity landscape: associates each GTM node <span class="math notranslate nohighlight">\(k\)</span>
on the GTM node grid
with an activity value, which is computed as an average mean of data
activity values (continuous labels).
If a = activities,
r_k = vector of optimized GTM responsibilities for node k,
and N = n_individuals:
<span class="math notranslate nohighlight">\(landscape_k = \frac{\mathbf{a \cdot r}_k}{\sum_i^{N}r_{ik}}\)</span></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array of shape (n_nodes,1)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-ugtm.ugtm_plot">
<span id="ugtm-ugtm-plot-module"></span><h2>ugtm.ugtm_plot module<a class="headerlink" href="#module-ugtm.ugtm_plot" title="Permalink to this headline">¶</a></h2>
<p>ugtm plot functions.</p>
<dl class="class">
<dt id="ugtm.ugtm_plot.NumpyEncoder">
<em class="property">class </em><code class="descclassname">ugtm.ugtm_plot.</code><code class="descname">NumpyEncoder</code><span class="sig-paren">(</span><em>skipkeys=False</em>, <em>ensure_ascii=True</em>, <em>check_circular=True</em>, <em>allow_nan=True</em>, <em>sort_keys=False</em>, <em>indent=None</em>, <em>separators=None</em>, <em>encoding='utf-8'</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_plot.html#NumpyEncoder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_plot.NumpyEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">json.encoder.JSONEncoder</span></code></p>
<dl class="method">
<dt id="ugtm.ugtm_plot.NumpyEncoder.default">
<code class="descname">default</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_plot.html#NumpyEncoder.default"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_plot.NumpyEncoder.default" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement this method in a subclass such that it returns
a serializable object for <code class="docutils literal notranslate"><span class="pre">o</span></code>, or calls the base implementation
(to raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>).</p>
<p>For example, to support arbitrary iterators, you could
implement default like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">iterable</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
    <span class="c1"># Let the base class default method raise the TypeError</span>
    <span class="k">return</span> <span class="n">JSONEncoder</span><span class="o">.</span><span class="n">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_plot.plot">
<code class="descclassname">ugtm.ugtm_plot.</code><code class="descname">plot</code><span class="sig-paren">(</span><em>coordinates</em>, <em>labels=None</em>, <em>title=''</em>, <em>output='output'</em>, <em>discrete=False</em>, <em>pointsize=1.0</em>, <em>alpha=0.3</em>, <em>cname='Spectral_r'</em>, <em>output_format='pdf'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_plot.html#plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_plot.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple plotting function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>coordinates</strong> (<em>array of shape (n_individuals, 2)</em>) – Coordinates to plot.</li>
<li><strong>labels</strong> (<em>array of shape (n_individuals,), optional (default = None)</em>) – Data labels.</li>
<li><strong>title</strong> (<em>str, optional (default = ‘’)</em>) – Plot title.</li>
<li><strong>output</strong> (<em>str, optional (default = ‘ouptut’)</em>) – Output path for plot.</li>
<li><strong>discrete</strong> (<em>bool (default = False)</em>) – Type of label; discrete=True if labels are nominal or binary.</li>
<li><strong>pointsize</strong> (<em>float, optional (default = ‘1’)</em>) – Marker size.</li>
<li><strong>alpha</strong> (<em>float, optional (default = ‘0.3’),</em>) – Marker transparency.</li>
<li><strong>cname</strong> (<em>str, optional (default = ‘Spectral_r’),</em>) – Name of matplotlib color map.
Cf. <a class="reference external" href="https://matplotlib.org/examples/color/colormaps_reference.html">https://matplotlib.org/examples/color/colormaps_reference.html</a></li>
<li><strong>output_format</strong> (<em>{‘pdf’, “png’, ‘ps’, ‘eps’, ‘svg’}</em>) – Output format.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Basic plotting function. Plots coordinates.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Image file</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_plot.plotClassMap">
<code class="descclassname">ugtm.ugtm_plot.</code><code class="descname">plotClassMap</code><span class="sig-paren">(</span><em>optimizedModel</em>, <em>labels</em>, <em>prior='estimated'</em>, <em>do_interpolate=True</em>, <em>cname='Spectral_r'</em>, <em>pointsize=1.0</em>, <em>alpha=0.3</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_plot.html#plotClassMap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_plot.plotClassMap" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots GTM class map. Internal usage.</p>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_plot.plotClassMapNoPoints">
<code class="descclassname">ugtm.ugtm_plot.</code><code class="descname">plotClassMapNoPoints</code><span class="sig-paren">(</span><em>optimizedModel</em>, <em>labels</em>, <em>prior='estimated'</em>, <em>do_interpolate=True</em>, <em>cname='Spectral_r'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_plot.html#plotClassMapNoPoints"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_plot.plotClassMapNoPoints" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots GTM class map without 2D representations. Internal usage.</p>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_plot.plotLandscape">
<code class="descclassname">ugtm.ugtm_plot.</code><code class="descname">plotLandscape</code><span class="sig-paren">(</span><em>optimizedModel</em>, <em>labels</em>, <em>do_interpolate=True</em>, <em>cname='Spectral_r'</em>, <em>pointsize=1.0</em>, <em>alpha=0.3</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_plot.html#plotLandscape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_plot.plotLandscape" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots GTM landscape. Internal usage.</p>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_plot.plotLandscapeNoPoints">
<code class="descclassname">ugtm.ugtm_plot.</code><code class="descname">plotLandscapeNoPoints</code><span class="sig-paren">(</span><em>optimizedModel</em>, <em>labels</em>, <em>do_interpolate=True</em>, <em>cname='Spectral_r'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_plot.html#plotLandscapeNoPoints"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_plot.plotLandscapeNoPoints" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots GTM landscape without 2D representations. Internal usage.</p>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_plot.plotMultiPanelGTM">
<code class="descclassname">ugtm.ugtm_plot.</code><code class="descname">plotMultiPanelGTM</code><span class="sig-paren">(</span><em>optimizedModel</em>, <em>labels</em>, <em>output='output'</em>, <em>discrete=False</em>, <em>pointsize=1.0</em>, <em>alpha=0.3</em>, <em>do_interpolate=True</em>, <em>cname='Spectral_r'</em>, <em>prior='estimated'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_plot.html#plotMultiPanelGTM"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_plot.plotMultiPanelGTM" title="Permalink to this definition">¶</a></dt>
<dd><p>Multipanel visualization for GTM object - PDF output.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>optimizedModel</strong> (instance of <a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizedGTM</span></code></a>,) – Optimized GTM model.</li>
<li><strong>labels</strong> (<em>array of shape (n_individuals,), optional (default = None)</em>) – Data labels.</li>
<li><strong>output</strong> (<em>str, optional (default = ‘ouptut’)</em>) – Output path for plot.</li>
<li><strong>discrete</strong> (<em>bool (default = False)</em>) – Type of label; discrete=True if labels are nominal or binary.</li>
<li><strong>pointsize</strong> (<em>float, optional (default = ‘1’)</em>) – Marker size.</li>
<li><strong>alpha</strong> (<em>float, optional (default = ‘0.3’)</em>) – Marker transparency.</li>
<li><strong>do_interpolate</strong> (<em>bool, optional (default = True)</em>) – Interpolate color between grid nodes.</li>
<li><strong>cname</strong> (<em>str, optional (default = ‘Spectral_r’)</em>) – Name of matplotlib color map.</li>
<li><strong>prior</strong> (<em>{‘estimated’,’equiprobable’}</em>) – Type of prior used to compute class probabilities on the map.
Choose equiprobable for equiprobable priors.
Estimated priors take into account class imbalance.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Four plots are returned:
(1) means,
(2) modes,
(3) landscape with means,
(4) landscape with modes.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">PDF image</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_plot.plot_html">
<code class="descclassname">ugtm.ugtm_plot.</code><code class="descname">plot_html</code><span class="sig-paren">(</span><em>coordinates</em>, <em>labels=None</em>, <em>ids=None</em>, <em>title='plot'</em>, <em>discrete=False</em>, <em>output='output'</em>, <em>pointsize=1.0</em>, <em>alpha=0.3</em>, <em>cname='Spectral_r'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_plot.html#plot_html"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_plot.plot_html" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple plotting function: HTML output.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>coordinates</strong> (<em>array of shape (n_individuals, 2)</em>) – Coordinates to plot.</li>
<li><strong>labels</strong> (<em>array of shape (n_individuals,), optional (default = None)</em>) – Data labels.</li>
<li><strong>title</strong> (<em>str, optional (default = ‘’)</em>) – Plot title.</li>
<li><strong>output</strong> (<em>str, optional (default = ‘ouptut’)</em>) – Output path for plot.</li>
<li><strong>discrete</strong> (<em>bool (default = False)</em>) – Type of label; discrete=True if labels are nominal or binary.</li>
<li><strong>pointsize</strong> (<em>float, optional (default = ‘1’)</em>) – Marker size.</li>
<li><strong>alpha</strong> (<em>float, optional (default = ‘0.3’),</em>) – Marker transparency.</li>
<li><strong>cname</strong> (<em>str, optional (default = ‘Spectral_r’),</em>) – Name of matplotlib color map.
Cf. <a class="reference external" href="https://matplotlib.org/examples/color/colormaps_reference.html">https://matplotlib.org/examples/color/colormaps_reference.html</a></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Plots coordinates to HTML file.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Image file</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_plot.plot_html_GTM">
<code class="descclassname">ugtm.ugtm_plot.</code><code class="descname">plot_html_GTM</code><span class="sig-paren">(</span><em>optimizedModel</em>, <em>labels=None</em>, <em>ids=None</em>, <em>plot_arrows=True</em>, <em>title='GTM'</em>, <em>discrete=False</em>, <em>output='output'</em>, <em>pointsize=1.0</em>, <em>alpha=0.3</em>, <em>do_interpolate=True</em>, <em>cname='Spectral_r'</em>, <em>prior='estimated'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_plot.html#plot_html_GTM"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_plot.plot_html_GTM" title="Permalink to this definition">¶</a></dt>
<dd><p>Plotting function for GTM object - HTML output.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>optimizedModel</strong> (instance of <a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">ugtm.ugtm_classes.OptimizedGTM</span></code></a>) – OptimizedGTM model.</li>
<li><strong>labels</strong> (<em>array of shape (n_individuals,), optional (default = None)</em>) – Data labels.</li>
<li><strong>ids</strong> (<em>array of shape (n_individuals,), optional (default = None)</em>) – Identifiers for each data point - appears in tooltips.</li>
<li><strong>title</strong> (<em>str, optional (default = ‘’)</em>) – Plot title.</li>
<li><strong>output</strong> (<em>str, optional (default = ‘ouptut’)</em>) – Output path for plot.</li>
<li><strong>discrete</strong> (<em>bool (default = False)</em>) – Type of label; discrete=True if labels are nominal or binary.</li>
<li><strong>pointsize</strong> (<em>float, optional (default = ‘1’)</em>) – Marker size.</li>
<li><strong>alpha</strong> (<em>float, optional (default = ‘0.3’)</em>) – Marker transparency.</li>
<li><strong>do_interpolate</strong> (<em>bool, optional (default = True)</em>) – Interpolate color between grid nodes.</li>
<li><strong>cname</strong> (<em>str, optional (default = ‘Spectral_r’)</em>) – Name of matplotlib color map.</li>
<li><strong>prior</strong> (<em>{‘estimated’,’equiprobable’}</em>) – Type of prior used to compute class probabilities on the map.
Choose equiprobable for equiprobable priors.
Estimated priors take into account class imbalance.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">HTML file of GTM output (mean coordinates). If labels are provided,
a landscape (continuous or discrete depending on the labels) is
drawn in the background. This landscape is computed
using responsibilities and is indicative of the average activity
or label value at a given node on the map.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">HTML file</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>May be time-consuming for large datasets.</p>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_plot.plot_html_GTM_projection">
<code class="descclassname">ugtm.ugtm_plot.</code><code class="descname">plot_html_GTM_projection</code><span class="sig-paren">(</span><em>optimizedModel</em>, <em>projections</em>, <em>labels=None</em>, <em>ids=None</em>, <em>plot_arrows=True</em>, <em>title='GTM_projection'</em>, <em>discrete=False</em>, <em>output='output'</em>, <em>pointsize=1</em>, <em>alpha=0.3</em>, <em>do_interpolate=True</em>, <em>cname='Spectral_r'</em>, <em>prior='estimated'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_plot.html#plot_html_GTM_projection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_plot.plot_html_GTM_projection" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a GTM landscape with projected data points - HTML output.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>optimizedModel</strong> (instance of <a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">ugtm.ugtm_classes.OptimizedGTM</span></code></a>) – OptimizedGTM model.</li>
<li><strong>projections</strong> (instance of <a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">ugtm.ugtm_classes.OptimizedGTM</span></code></a>) – OptimizedGTM model.</li>
<li><strong>labels</strong> (<em>array of shape (n_train,), optional (default = None)</em>) – Data labels for the training set (not projections).</li>
<li><strong>ids</strong> (<em>array of shape (n_test,), optional (default = None)</em>) – Identifiers for each projected data point - appears in tooltips.</li>
<li><strong>title</strong> (<em>str, optional (default = ‘’)</em>) – Plot title.</li>
<li><strong>output</strong> (<em>str, optional (default = ‘ouptut’)</em>) – Output path for plot.</li>
<li><strong>discrete</strong> (<em>bool (default = False)</em>) – Type of label; discrete=True if labels are nominal or binary.</li>
<li><strong>pointsize</strong> (<em>float, optional (default = ‘1’)</em>) – Marker size.</li>
<li><strong>alpha</strong> (<em>float, optional (default = ‘0.3’)</em>) – Marker transparency.</li>
<li><strong>do_interpolate</strong> (<em>bool, optional (default = True)</em>) – Interpolate color between grid nodes.</li>
<li><strong>cname</strong> (<em>str, optional (default = ‘Spectral_r’)</em>) – Name of matplotlib color map.</li>
<li><strong>prior</strong> (<em>{‘estimated’,’equiprobable’}</em>) – Type of prior used to compute class probabilities on the map.
Choose equiprobable for equiprobable priors.
Estimated priors take into account class imbalance.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">HTML file of GTM output (mean coordinates).
This function plots a GTM model (from a training set)
with projected points
(= mean positions of projected test data).
If labels are provided,
a landscape (continuous or discrete depending on the labels) is
drawn in the background. This landscape is computed
using responsibilities and is indicative of the average activity
or label value at a given node on the map.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">HTML file</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<ul class="simple">
<li>May be time-consuming for large datasets.</li>
<li>The labels correspond to training data (the optimized model).</li>
<li>The ids (identifiers) correspond to the test data (projections).</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_plot.plot_pdf">
<code class="descclassname">ugtm.ugtm_plot.</code><code class="descname">plot_pdf</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_plot.html#plot_pdf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_plot.plot_pdf" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-ugtm.ugtm_predictions">
<span id="ugtm-ugtm-predictions-module"></span><h2>ugtm.ugtm_predictions module<a class="headerlink" href="#module-ugtm.ugtm_predictions" title="Permalink to this headline">¶</a></h2>
<p>GTC (GTM classification) and GTR (GTM regression)</p>
<dl class="function">
<dt id="ugtm.ugtm_predictions.GTC">
<code class="descclassname">ugtm.ugtm_predictions.</code><code class="descname">GTC</code><span class="sig-paren">(</span><em>train</em>, <em>labels</em>, <em>test</em>, <em>k=16</em>, <em>m=4</em>, <em>s=0.3</em>, <em>regul=0.1</em>, <em>n_neighbors=1</em>, <em>niter=200</em>, <em>representation='modes'</em>, <em>doPCA=False</em>, <em>n_components=-1</em>, <em>missing=False</em>, <em>missing_strategy='median'</em>, <em>random_state=1234</em>, <em>predict_mode='bayes'</em>, <em>prior='estimated'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_predictions.html#GTC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_predictions.GTC" title="Permalink to this definition">¶</a></dt>
<dd><p>Run GTC (GTM classification): Bayes or nearest node algorithm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>train</strong> (<em>array of shape (n_train, n_dimensions)</em>) – Train set data matrix.</li>
<li><strong>labels</strong> (<em>array of shape (n_train, 1)</em>) – Labels for train set.</li>
<li><strong>test</strong> (<em>array of shape (n_test, n_dimensions)</em>) – Test set data matrix.</li>
<li><strong>k</strong> (<em>int, optional (default = 16)</em>) – If k is set to 0, k is computed as sqrt(5*sqrt(n_individuals))+2.
k is the sqrt of the number of GTM nodes.
One of four GTM hyperparameters (k, m, s, regul).
Ex: k = 25 means the GTM will be discretized into a 25x25 grid.</li>
<li><strong>m</strong> (<em>int, optional (default = 4)</em>) – If m is set to 0, m is computed as sqrt(k).
(generally good rule of thumb).
m is the qrt of the number of RBF centers.
One of four GTM hyperparameters (k, m, s, regul).
Ex: m = 5 means the RBF functions will be arranged on a 5x5 grid.</li>
<li><strong>s</strong> (<em>float, optional (default = 0.3)</em>) – RBF width factor.
One of four GTM hyperparameters (k, m, s, regul).
Parameter to tune width of RBF functions.
Impacts manifold flexibility.</li>
<li><strong>regul</strong> (<em>float, optional (default = 0.1)</em>) – One of four GTM hyperparameters (k, m, s, regul).
Regularization coefficient.
Impacts manifold flexibility.</li>
<li><strong>n_neighbors</strong> (<em>int, optional (default = 1)</em>) – Number of neighbors for kNN algorithm (number of nearest nodes).
At the moment, n_neighbors is always equal to 1.</li>
<li><strong>niter</strong> (<em>int, optional (default = 200)</em>) – Number of iterations for EM algorithm.</li>
<li><strong>representation</strong> (<em>{“modes”, “means”}</em>) – 2D GTM representation for the test set, used for kNN algorithms:
“modes” for position with max. responsibility,
“means” for average position (usual GTM representation)</li>
<li><strong>doPCA</strong> (<em>bool, optional (default = False)</em>) – Apply PCA pre-processing.</li>
<li><strong>n_components</strong> (<em>int, optional (default = -1)</em>) – Number of components for PCA pre-processing.
If set to -1, keep principal components
accounting for 80% of data variance.</li>
<li><strong>missing</strong> (<em>bool, optional (default = True)</em>) – Replace missing values (calls scikit-learn functions).</li>
<li><strong>missing_strategy</strong> (<em>str, optional (default = ‘median’)</em>) – Scikit-learn missing data strategy.</li>
<li><strong>random_state</strong> (<em>int, optional (default = 1234)</em>) – Random state.</li>
<li><strong>predict_mode</strong> (<em>{“bayes”, “knn”}, optional</em>) – Choose between nearest node algorithm
(“knn”, output of <a class="reference internal" href="#ugtm.ugtm_predictions.predictNN" title="ugtm.ugtm_predictions.predictNN"><code class="xref py py-func docutils literal notranslate"><span class="pre">predictNN()</span></code></a>)
or GTM Bayes classifier
(“bayes”, output of <a class="reference internal" href="#ugtm.ugtm_predictions.predictBayes" title="ugtm.ugtm_predictions.predictBayes"><code class="xref py py-func docutils literal notranslate"><span class="pre">predictBayes()</span></code></a>).
NB: the kNN algorithm is limited to only 1 nearest node at the moment
(n_neighbors = 1).</li>
<li><strong>prior</strong> (<em>{“estimated”, “equiprobable”}, optional</em>) – Type of prior used to build GTM class map
(<a class="reference internal" href="#ugtm.ugtm_landscape.classMap" title="ugtm.ugtm_landscape.classMap"><code class="xref py py-func docutils literal notranslate"><span class="pre">classMap()</span></code></a>).
Choose “estimated” to account for class imbalance.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Predicted class for test set individuals.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array of shape (n_test, 1)</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The GTM nearest node classifier (predict_mode = “knn”,
<a class="reference internal" href="#ugtm.ugtm_predictions.predictNN" title="ugtm.ugtm_predictions.predictNN"><code class="xref py py-func docutils literal notranslate"><span class="pre">predictNN()</span></code></a>):</p>
<blockquote>
<div><ol class="arabic simple">
<li>A GTM class map (GTM colored by class)
is built using the training set
(<a class="reference internal" href="#ugtm.ugtm_landscape.classMap" title="ugtm.ugtm_landscape.classMap"><code class="xref py py-func docutils literal notranslate"><span class="pre">classMap()</span></code></a>);
the class map is discretized into nodes,
and each node has a class label</li>
<li>The test set is projected onto the GTM map</li>
<li>A 2D GTM representation is chosen for the test set
(representation = modes or means)</li>
<li>Nearest node on the GTM map is found for each test set individual</li>
<li>The predicted label for each individual is the label of its
nearest node on the GTM map</li>
</ol>
</div></blockquote>
<p>The GTM Bayes classifier (predict_mode = “bayes”,
<a class="reference internal" href="#ugtm.ugtm_predictions.predictBayes" title="ugtm.ugtm_predictions.predictBayes"><code class="xref py py-func docutils literal notranslate"><span class="pre">predictBayes()</span></code></a>):</p>
<blockquote>
<div><ol class="arabic simple">
<li>A GTM class map (GTM colored by class)
is built using the training set
(<a class="reference internal" href="#ugtm.ugtm_landscape.classMap" title="ugtm.ugtm_landscape.classMap"><code class="xref py py-func docutils literal notranslate"><span class="pre">classMap()</span></code></a>);
the class map is discretized into nodes,
and each node has posterior class probabilities</li>
<li>The test set is projected onto the GTM map</li>
<li>The GTM representation for each individual is its responsibility
vector (posterior probability distribution on the map)</li>
<li>The probabilities of belonging to each class for a
specific individual are computed
as an average of posterior class probabilities
(array of shape (n_nodes_n,classes)), weighted by the individual’s
responsibilities on the GTM map (array of shape (1, n_nodes))</li>
</ol>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_predictions.GTR">
<code class="descclassname">ugtm.ugtm_predictions.</code><code class="descname">GTR</code><span class="sig-paren">(</span><em>train</em>, <em>labels</em>, <em>test</em>, <em>k=16</em>, <em>m=4</em>, <em>s=0.3</em>, <em>regul=0.1</em>, <em>n_neighbors=1</em>, <em>niter=200</em>, <em>representation='modes'</em>, <em>doPCA=False</em>, <em>n_components=-1</em>, <em>missing=False</em>, <em>missing_strategy='median'</em>, <em>random_state=1234</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_predictions.html#GTR"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_predictions.GTR" title="Permalink to this definition">¶</a></dt>
<dd><p>Run GTR (GTM nearest node(s) regression).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>train</strong> (<em>array of shape (n_train, n_dimensions)</em>) – Train set data matrix.</li>
<li><strong>labels</strong> (<em>array of shape (n_train, 1)</em>) – Labels for train set.</li>
<li><strong>test</strong> (<em>array of shape (n_test, n_dimensions)</em>) – Test set data matrix.</li>
<li><strong>k</strong> (<em>int, optional (default = 16)</em>) – If k is set to 0, k is computed as sqrt(5*sqrt(n_individuals))+2.
k is the sqrt of the number of GTM nodes.
One of four GTM hyperparameters (k, m, s, regul).
Ex: k = 25 means the GTM will be discretized into a 25x25 grid.</li>
<li><strong>m</strong> (<em>int, optional (default = 4)</em>) – If m is set to 0, m is computed as sqrt(k).
(generally good rule of thumb).
m is the qrt of the number of RBF centers.
One of four GTM hyperparameters (k, m, s, regul).
Ex: m = 5 means the RBF functions will be arranged on a 5x5 grid.</li>
<li><strong>s</strong> (<em>float, optional (default = 0.3)</em>) – RBF width factor.
One of four GTM hyperparameters (k, m, s, regul).
Parameter to tune width of RBF functions.
Impacts manifold flexibility.</li>
<li><strong>regul</strong> (<em>float, optional (default = 0.1)</em>) – One of four GTM hyperparameters (k, m, s, regul).
Regularization coefficient.
Impacts manifold flexibility.</li>
<li><strong>n_neighbors</strong> (<em>int, optional (default = 1)</em>) – Number of neighbors for kNN algorithm (number of nearest nodes).</li>
<li><strong>niter</strong> (<em>int, optional (default = 200)</em>) – Number of iterations for EM algorithm.</li>
<li><strong>representation</strong> (<em>{“modes”, “means”}</em>) – 2D GTM representation for the test set, used for kNN algorithms:
“modes” for position with max. responsibility,
“means” for average position (usual GTM representation)</li>
<li><strong>doPCA</strong> (<em>bool, optional (default = False)</em>) – Apply PCA pre-processing.</li>
<li><strong>n_components</strong> (<em>int, optional (default = -1)</em>) – Number of components for PCA pre-processing.
If set to -1, keep principal components
accounting for 80% of data variance.</li>
<li><strong>missing</strong> (<em>bool, optional (default = True)</em>) – Replace missing values (calls scikit-learn functions).</li>
<li><strong>missing_strategy</strong> (<em>str, optional (default = ‘median’)</em>) – Scikit-learn missing data strategy.</li>
<li><strong>random_state</strong> (<em>int, optional (default = 1234)</em>) – Random state.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Predicted class for test set individuals.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array of shape (n_test, 1)</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The GTM nearest node(s) regression
(<a class="reference internal" href="#ugtm.ugtm_predictions.predictNN" title="ugtm.ugtm_predictions.predictNN"><code class="xref py py-func docutils literal notranslate"><span class="pre">predictNN()</span></code></a>):</p>
<blockquote>
<div><ol class="arabic simple">
<li>A GTM landscape (GTM colored by activity)
is built using the training set
(<a class="reference internal" href="#ugtm.ugtm_landscape.landscape" title="ugtm.ugtm_landscape.landscape"><code class="xref py py-func docutils literal notranslate"><span class="pre">landscape()</span></code></a>);
the landscape is discretized into nodes,
and each node has an estimated activity value</li>
<li>The test set is projected onto the GTM map</li>
<li>A 2D GTM representation is chosen for the test set
(representation = modes or means)</li>
<li>Nearest node(s) on the GTM map is found for each test set individual</li>
<li>The predicted activity for each individual is a weighted average
of nearest node activities.</li>
</ol>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_predictions.advancedGTC">
<code class="descclassname">ugtm.ugtm_predictions.</code><code class="descname">advancedGTC</code><span class="sig-paren">(</span><em>train</em>, <em>labels</em>, <em>test</em>, <em>n_neighbors=1</em>, <em>representation='modes'</em>, <em>niter=200</em>, <em>k=16</em>, <em>m=4</em>, <em>regul=0.1</em>, <em>s=0.3</em>, <em>doPCA=False</em>, <em>n_components=-1</em>, <em>missing=False</em>, <em>missing_strategy='median'</em>, <em>random_state=1234</em>, <em>predict_mode='bayes'</em>, <em>prior='estimated'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_predictions.html#advancedGTC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_predictions.advancedGTC" title="Permalink to this definition">¶</a></dt>
<dd><p>Run GTC (GTM classification): advanced Bayes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>train</strong> (<em>array of shape (n_train, n_dimensions)</em>) – Train set data matrix.</li>
<li><strong>labels</strong> (<em>array of shape (n_train, 1)</em>) – Labels for train set.</li>
<li><strong>test</strong> (<em>array of shape (n_test, n_dimensions)</em>) – Test set data matrix.</li>
<li><strong>k</strong> (<em>int, optional (default = 16)</em>) – If k is set to 0, k is computed as sqrt(5*sqrt(n_individuals))+2.
k is the sqrt of the number of GTM nodes.
One of four GTM hyperparameters (k, m, s, regul).
Ex: k = 25 means the GTM will be discretized into a 25x25 grid.</li>
<li><strong>m</strong> (<em>int, optional (default = 4)</em>) – If m is set to 0, m is computed as sqrt(k).
(generally good rule of thumb).
m is the qrt of the number of RBF centers.
One of four GTM hyperparameters (k, m, s, regul).
Ex: m = 5 means the RBF functions will be arranged on a 5x5 grid.</li>
<li><strong>s</strong> (<em>float, optional (default = 0.3)</em>) – RBF width factor.
One of four GTM hyperparameters (k, m, s, regul).
Parameter to tune width of RBF functions.
Impacts manifold flexibility.</li>
<li><strong>regul</strong> (<em>float, optional (default = 0.1)</em>) – One of four GTM hyperparameters (k, m, s, regul).
Regularization coefficient.
Impacts manifold flexibility.</li>
<li><strong>n_neighbors</strong> (<em>int, optional (default = 1)</em>) – Number of neighbors for kNN algorithm (number of nearest nodes).
At the moment, n_neighbors is always equal to 1.</li>
<li><strong>niter</strong> (<em>int, optional (default = 200)</em>) – Number of iterations for EM algorithm.</li>
<li><strong>representation</strong> (<em>{“modes”, “means”}</em>) – 2D GTM representation for the test set, used for kNN algorithms:
“modes” for position with max. responsibility,
“means” for average position (usual GTM representation)</li>
<li><strong>doPCA</strong> (<em>bool, optional (default = False)</em>) – Apply PCA pre-processing.</li>
<li><strong>n_components</strong> (<em>int, optional (default = -1)</em>) – Number of components for PCA pre-processing.
If set to -1, keep principal components
accounting for 80% of data variance.</li>
<li><strong>missing</strong> (<em>bool, optional (default = True)</em>) – Replace missing values (calls scikit-learn functions).</li>
<li><strong>missing_strategy</strong> (<em>str, optional (default = ‘median’)</em>) – Scikit-learn missing data strategy.</li>
<li><strong>random_state</strong> (<em>int, optional (default = 1234)</em>) – Random state.</li>
<li><strong>predict_mode</strong> (<em>{“bayes”}, optional</em>) – At the moment, only the GTM Bayes classifier is available;
(“bayes”, output of <a class="reference internal" href="#ugtm.ugtm_predictions.advancedPredictBayes" title="ugtm.ugtm_predictions.advancedPredictBayes"><code class="xref py py-func docutils literal notranslate"><span class="pre">advancedPredictBayes()</span></code></a>).</li>
<li><strong>prior</strong> (<em>{“estimated”, “equiprobable”}, optional</em>) – Type of prior used to build GTM class map
(<a class="reference internal" href="#ugtm.ugtm_landscape.classMap" title="ugtm.ugtm_landscape.classMap"><code class="xref py py-func docutils literal notranslate"><span class="pre">classMap()</span></code></a>).
Choose “estimated” to account for class imbalance.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>The output is a dictionary defined as follows:</p>
<blockquote>
<div><ol class="arabic simple">
<li>output[“optimizedModel”]: original training set GTM model,
instance of <a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizedGTM</span></code></a></li>
<li>output[“indiv_projections”]: test set GTM model,
instance of <a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizedGTM</span></code></a></li>
<li>output[“indiv_probabilities”]: class probabilities
for each individual (= dot product between test responsibility
matrix and posterior class probabilities)</li>
<li>output[“indiv_predictions”]: class prediction for each
individual (argmax of output[“indiv_probabilities”])</li>
<li>output[“group_projections”]: average responsibility vector
for the entire test set</li>
<li>output[“group_probabilities”]: posterior class probabilities
for the entire test set (dot product between
output[“group_projections”] and posterior class probabilities)</li>
<li>output[“uniqClasses”]: classes</li>
</ol>
</div></blockquote>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">a dict</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The GTM nearest node classifier (predict_mode = “knn”,
<a class="reference internal" href="#ugtm.ugtm_predictions.predictNN" title="ugtm.ugtm_predictions.predictNN"><code class="xref py py-func docutils literal notranslate"><span class="pre">predictNN()</span></code></a>):</p>
<blockquote>
<div><ol class="arabic simple">
<li>A GTM class map (GTM colored by class)
is built using the training set
(<a class="reference internal" href="#ugtm.ugtm_landscape.classMap" title="ugtm.ugtm_landscape.classMap"><code class="xref py py-func docutils literal notranslate"><span class="pre">classMap()</span></code></a>);
the class map is discretized into nodes,
and each node has a class label</li>
<li>The test set is projected onto the GTM map</li>
<li>A 2D GTM representation is chosen for the test set
(representation = modes or means)</li>
<li>Nearest node on the GTM map is found for each test set individual</li>
<li>The predicted label for each individual is the label of its
nearest node on the GTM map</li>
</ol>
</div></blockquote>
<p>The GTM Bayes classifier (predict_mode = “bayes”,
<a class="reference internal" href="#ugtm.ugtm_predictions.predictBayes" title="ugtm.ugtm_predictions.predictBayes"><code class="xref py py-func docutils literal notranslate"><span class="pre">predictBayes()</span></code></a>):</p>
<blockquote>
<div><ol class="arabic simple">
<li>A GTM class map (GTM colored by class)
is built using the training set
(<a class="reference internal" href="#ugtm.ugtm_landscape.classMap" title="ugtm.ugtm_landscape.classMap"><code class="xref py py-func docutils literal notranslate"><span class="pre">classMap()</span></code></a>);
the class map is discretized into nodes,
and each node has posterior class probabilities</li>
<li>The test set is projected onto the GTM map</li>
<li>The GTM representation for each individual is its responsibility
vector (posterior probability distribution on the map)</li>
<li>The probabilities of belonging to each class for a
specific individual are computed
as an average of posterior class probabilities
(array of shape (n_nodes_n,classes)), weighted by the individual’s
responsibilities on the GTM map (array of shape (1, n_nodes))</li>
</ol>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_predictions.advancedPredictBayes">
<code class="descclassname">ugtm.ugtm_predictions.</code><code class="descname">advancedPredictBayes</code><span class="sig-paren">(</span><em>optimizedModel</em>, <em>labels</em>, <em>new_data</em>, <em>prior='estimated'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_predictions.html#advancedPredictBayes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_predictions.advancedPredictBayes" title="Permalink to this definition">¶</a></dt>
<dd><p>Bayesian GTM classifier: complete model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>optimizedModel</strong> (instance of <a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizedGTM</span></code></a>) – Optimized GTM model built using a training set
of shape (n_individuals, n_dimensions)</li>
<li><strong>labels</strong> (<em>array of shape (n_individuals, 1)</em>) – Labels (discrete or continuous) associated with training set</li>
<li><strong>new_data</strong> (<em>array of shape (n_test, n_dimensions)</em>) – New data matrix (test set).</li>
<li><strong>prior</strong> (<em>{‘estimated’, ‘equiprobable’}, optional</em>) – Only used for classification.
Sets priors (Bayes’ theorem) in <a class="reference internal" href="#ugtm.ugtm_landscape.classMap" title="ugtm.ugtm_landscape.classMap"><code class="xref py py-func docutils literal notranslate"><span class="pre">classMap()</span></code></a>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>The output is a dictionary defined as follows:</p>
<blockquote>
<div><ol class="arabic simple">
<li>output[“optimizedModel”]: original training set GTM model,
instance of <a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizedGTM</span></code></a></li>
<li>output[“indiv_projections”]: test set GTM model,
instance of <a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizedGTM</span></code></a></li>
<li>output[“indiv_probabilities”]: class probabilities
for each individual (= dot product between test responsibility
matrix and posterior class probabilities)</li>
<li>output[“indiv_predictions”]: class prediction for each
individual (argmax of output[“indiv_probabilities”])</li>
<li>output[“group_projections”]: average responsibility vector
for the entire test set</li>
<li>output[“group_probabilities”]: posterior class probabilities
for the entire test set (dot product between
output[“group_projections”] and posterior class probabilities)</li>
<li>output[“uniqClasses”]: classes</li>
</ol>
</div></blockquote>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">a dict</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>This function computes GTM class predictions by using
posterior probabilities of classes weighted by responsibilities.</p>
<blockquote>
<div><ol class="arabic simple">
<li>generate GTM class map
(<a class="reference internal" href="#ugtm.ugtm_landscape.classMap" title="ugtm.ugtm_landscape.classMap"><code class="xref py py-func docutils literal notranslate"><span class="pre">classMap()</span></code></a>);</li>
<li>Project new data (<a class="reference internal" href="#ugtm.ugtm_gtm.projection" title="ugtm.ugtm_gtm.projection"><code class="xref py py-func docutils literal notranslate"><span class="pre">projection()</span></code></a>)
on optimized GTM model (<a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizedGTM</span></code></a>)</li>
<li>Projected data responsibilities R are used as weights
to find outcome <span class="math notranslate nohighlight">\(C_{max}\)</span> for each tested instance:
<span class="math notranslate nohighlight">\(C_{max} = \operatorname*{arg\,max}_C \sum_k{R_{ki} P(C|k)}\)</span></li>
</ol>
</div></blockquote>
<p>The algorithm is the same as
in <code class="xref py py-func docutils literal notranslate"><span class="pre">predictBayes()</span></code>, but this function
returns a complete
output including original training set optimized GTM model, test set
GTM model, individual class probabilities for each individual,
class prediction for each individual, group projections (average position
of the whole test set on the map), class probabilities for the whole test
set, and classes used to build the classification model.</p>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_predictions.predictBayes">
<code class="descclassname">ugtm.ugtm_predictions.</code><code class="descname">predictBayes</code><span class="sig-paren">(</span><em>optimizedModel</em>, <em>labels</em>, <em>new_data</em>, <em>prior='estimated'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_predictions.html#predictBayes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_predictions.predictBayes" title="Permalink to this definition">¶</a></dt>
<dd><p>Bayesian GTM classifier (GTC Bayes).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>optimizedModel</strong> (instance of <a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizedGTM</span></code></a>) – Optimized GTM model built using a training set
of shape (n_individuals, n_dimensions)</li>
<li><strong>labels</strong> (<em>array of shape (n_individuals, 1)</em>) – Labels (discrete or continuous) associated with training set</li>
<li><strong>new_data</strong> (<em>array of shape (n_test, n_dimensions)</em>) – New data matrix (test set).</li>
<li><strong>prior</strong> (<em>{‘estimated’, ‘equiprobable’}, optional</em>) – Only used for classification.
Sets priors (Bayes’ theorem) in <a class="reference internal" href="#ugtm.ugtm_landscape.classMap" title="ugtm.ugtm_landscape.classMap"><code class="xref py py-func docutils literal notranslate"><span class="pre">classMap()</span></code></a>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Predicted outcome.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array of shape (n_test, 1)</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>This function computes GTM class predictions by using
posterior probabilities of classes weighted by responsibilities.
Similar to maximum a posterior (MAP) estimator.</p>
<blockquote>
<div><ol class="arabic simple">
<li>generate GTM class map
(<a class="reference internal" href="#ugtm.ugtm_landscape.classMap" title="ugtm.ugtm_landscape.classMap"><code class="xref py py-func docutils literal notranslate"><span class="pre">classMap()</span></code></a>);</li>
<li>Project new data (<a class="reference internal" href="#ugtm.ugtm_gtm.projection" title="ugtm.ugtm_gtm.projection"><code class="xref py py-func docutils literal notranslate"><span class="pre">projection()</span></code></a>)
on optimized GTM model (<a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizedGTM</span></code></a>)</li>
<li>Projected data responsibilities R are used as weights
to find outcome <span class="math notranslate nohighlight">\(C_{max}\)</span> for each tested instance:
<span class="math notranslate nohighlight">\(C_{max} = \operatorname*{arg\,max}_C \sum_k{R_{ki} P(C|k)}\)</span></li>
</ol>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_predictions.predictNN">
<code class="descclassname">ugtm.ugtm_predictions.</code><code class="descname">predictNN</code><span class="sig-paren">(</span><em>optimizedModel</em>, <em>labels</em>, <em>new_data</em>, <em>modeltype='regression'</em>, <em>n_neighbors=1</em>, <em>representation='modes'</em>, <em>prior='estimated'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_predictions.html#predictNN"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_predictions.predictNN" title="Permalink to this definition">¶</a></dt>
<dd><p>GTM nearest node(s) classification or regression.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>optimizedModel</strong> (instance of <a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizedGTM</span></code></a>) – Optimized GTM model built using a training set
of shape (n_individuals, n_dimensions)</li>
<li><strong>labels</strong> (<em>array of shape (n_individuals, 1)</em>) – Labels (discrete or continuous) associated with training set</li>
<li><strong>new_data</strong> (<em>array of shape (n_test, n_dimensions)</em>) – New data matrix (test set).</li>
<li><strong>modeltype</strong> (<em>{‘classification’, ‘regression’}, optional</em>) – Choice between classification and regression.</li>
<li><strong>n_neighbors</strong> (<em>int, optional (default = 1)</em>) – Number of nodes to take into account in kNN algorithm.
NB: for classification, n_neighbors is always equal to 1.</li>
<li><strong>representation</strong> (<em>{‘modes’, ‘means’}, optional</em>) – Defines GTM representation type: mean or mode of responsibilities.</li>
<li><strong>prior</strong> (<em>{‘estimated’, ‘equiprobable’}, optional</em>) – Only used for classification.
Sets priors (Bayes’ theorem) in <a class="reference internal" href="#ugtm.ugtm_landscape.classMap" title="ugtm.ugtm_landscape.classMap"><code class="xref py py-func docutils literal notranslate"><span class="pre">classMap()</span></code></a>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Predicted outcome.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array of shape (n_test, 1)</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>This function implements classification or regression based
on nearest GTM nodes:</p>
<blockquote>
<div><ol class="arabic simple">
<li>If (modeltype == ‘classification’), generate GTM class map
(<a class="reference internal" href="#ugtm.ugtm_landscape.classMap" title="ugtm.ugtm_landscape.classMap"><code class="xref py py-func docutils literal notranslate"><span class="pre">classMap()</span></code></a>);
if (modeltype == ‘regression’), generate GTM landscape
(<a class="reference internal" href="#ugtm.ugtm_landscape.landscape" title="ugtm.ugtm_landscape.landscape"><code class="xref py py-func docutils literal notranslate"><span class="pre">landscape()</span></code></a>)</li>
<li>Project new data (<a class="reference internal" href="#ugtm.ugtm_gtm.projection" title="ugtm.ugtm_gtm.projection"><code class="xref py py-func docutils literal notranslate"><span class="pre">projection()</span></code></a>)
on optimized GTM model (<a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizedGTM</span></code></a>)</li>
<li>Depending on provided parameters,
choose means or modes as GTM coordinates for the new data</li>
<li>Find the nodes closest to the new data GTM coordinates
(sklearn function kneighbors)</li>
<li>Retrieve predicted outcomes corresponding to nodes on class map
(classification task) or landscape (regression task)</li>
<li>If (modeltype == ‘classification’), the predicted outcome is the
outcome of the nearest node on the class map;
if (modeltype == ‘regression’),
the predicted outcome is the average outcome of the k nearest nodes
(k = n_neighbors), weighted by inverse squared distances
(weights=1/((dist)**2))</li>
</ol>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_predictions.predictNNSimple">
<code class="descclassname">ugtm.ugtm_predictions.</code><code class="descname">predictNNSimple</code><span class="sig-paren">(</span><em>train</em>, <em>test</em>, <em>labels</em>, <em>n_neighbors=1</em>, <em>modeltype='regression'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_predictions.html#predictNNSimple"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_predictions.predictNNSimple" title="Permalink to this definition">¶</a></dt>
<dd><p>Nearest neighbor(s) classification or regression.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>train</strong> (<em>array of shape (n_train, n_dimensions)</em>) – Train set data matrix.</li>
<li><strong>test</strong> (<em>array of shape (n_test, n_dimensions)</em>) – Test set data matrix.</li>
<li><strong>labels</strong> (<em>array of shape (n_train, 1)</em>) – Labels (discrete or continuous) for the training set.</li>
<li><strong>n_neighbors</strong> (<em>int, optional (default = 1)</em>) – Number of nodes to take into account in kNN algorithm.</li>
<li><strong>modeltype</strong> (<em>{‘classification’, ‘regression’}, optional</em>) – Choice between classification and regression.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Predicted outcome.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array of shape (n_test, 1)</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>This function implements classification or regression based
on classical kNN algorithm.</p>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_predictions.printClassPredictions">
<code class="descclassname">ugtm.ugtm_predictions.</code><code class="descname">printClassPredictions</code><span class="sig-paren">(</span><em>prediction</em>, <em>output</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_predictions.html#printClassPredictions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_predictions.printClassPredictions" title="Permalink to this definition">¶</a></dt>
<dd><p>Print output of <a class="reference internal" href="#ugtm.ugtm_predictions.advancedPredictBayes" title="ugtm.ugtm_predictions.advancedPredictBayes"><code class="xref py py-func docutils literal notranslate"><span class="pre">advancedPredictBayes()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>prediction</strong> (<em>dict</em>) – Output of <a class="reference internal" href="#ugtm.ugtm_predictions.advancedPredictBayes" title="ugtm.ugtm_predictions.advancedPredictBayes"><code class="xref py py-func docutils literal notranslate"><span class="pre">advancedPredictBayes()</span></code></a>.
With following keys:
“optimizedModel”: <a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizedGTM</span></code></a>,
“indiv_projections”: <a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizedGTM</span></code></a>,
“indiv_probabilities”: array of shape (n_individuals, n_classes),
“indiv_predictions”: array of shape (n_individuals, 1),
“group_projections”: array of shape (n_nodes, 1),
“group_probabilities”: array of shape (n_probabilities, 1),
“uniqClasses”: array of shape(n_classes, 1)</li>
<li><strong>output</strong> (<em>str</em>) – Output path to write class prediction model (prediction dictionary).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><ol class="arabic simple">
<li>output_indiv_probabilities.csv</li>
<li>output_indiv_predictions.csv</li>
<li>output_group_probabilities.csv</li>
</ol>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">CSV files</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-ugtm.ugtm_preprocess">
<span id="ugtm-ugtm-preprocess-module"></span><h2>ugtm.ugtm_preprocess module<a class="headerlink" href="#module-ugtm.ugtm_preprocess" title="Permalink to this headline">¶</a></h2>
<p>Preprocessing operations (mostly using scikit-learn functions).</p>
<dl class="class">
<dt id="ugtm.ugtm_preprocess.ProcessedTrainTest">
<em class="property">class </em><code class="descclassname">ugtm.ugtm_preprocess.</code><code class="descname">ProcessedTrainTest</code><span class="sig-paren">(</span><em>train</em>, <em>test</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_preprocess.html#ProcessedTrainTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_preprocess.ProcessedTrainTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class for processed train and test set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>train</strong> (<em>array of shape (n_train, n_dimensions)</em>) – Train data matrix.</li>
<li><strong>test</strong> (<em>array of shape (n_test, ndimensions)</em>) – Test data matrix.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_preprocess.chooseKernel">
<code class="descclassname">ugtm.ugtm_preprocess.</code><code class="descname">chooseKernel</code><span class="sig-paren">(</span><em>data</em>, <em>kerneltype='euclidean'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_preprocess.html#chooseKernel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_preprocess.chooseKernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Kernalize data (uses sklearn)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>array of shape (n_individuals, n_dimensions)</em>) – Data matrix.</li>
<li><strong>kerneltype</strong> (<em>{‘euclidean’, ‘cosine’, ‘laplacian’, ‘polynomial_kernel’, ‘jaccard’}, optional</em>) – Kernel type.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array of shape (n_individuals, n_individuals)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_preprocess.pcaPreprocess">
<code class="descclassname">ugtm.ugtm_preprocess.</code><code class="descname">pcaPreprocess</code><span class="sig-paren">(</span><em>data</em>, <em>doPCA=False</em>, <em>n_components=-1</em>, <em>missing=False</em>, <em>missing_strategy='median'</em>, <em>random_state=1234</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_preprocess.html#pcaPreprocess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_preprocess.pcaPreprocess" title="Permalink to this definition">¶</a></dt>
<dd><p>Preprocess data using PCA.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>array of shape (n_individuals, n_dimensions)</em>) – Data matrix.</li>
<li><strong>doPCA</strong> (<em>bool, optional (default = False)</em>) – Apply PCA pre-processing.</li>
<li><strong>n_components</strong> (<em>int, optional (default = -1)</em>) – Number of components for PCA pre-processing.
If set to -1, keep principal components
accounting for 80% of data variance.</li>
<li><strong>missing</strong> (<em>bool, optional (default = True)</em>) – Replace missing values (calls scikit-learn functions).</li>
<li><strong>missing_strategy</strong> (<em>str (default = ‘median’)</em>) – Scikit-learn missing data strategy.</li>
<li><strong>random_state</strong> (<em>int (default = 1234)</em>) – Random state.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Data projected onto principal axes.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array of shape (n_individuals, n_components)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ugtm.ugtm_preprocess.processTrainTest">
<code class="descclassname">ugtm.ugtm_preprocess.</code><code class="descname">processTrainTest</code><span class="sig-paren">(</span><em>train</em>, <em>test</em>, <em>doPCA</em>, <em>n_components</em>, <em>missing=False</em>, <em>missing_strategy='median'</em>, <em>random_state=1234</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_preprocess.html#processTrainTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_preprocess.processTrainTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Preprocess train and test data using PCA.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>train</strong> (<em>array of shape (n_individuals, n_train)</em>) – Train data matrix.</li>
<li><strong>test</strong> (<em>array of shape (n_individuals, n_test)</em>) – Test data matrix.</li>
<li><strong>doPCA</strong> (<em>bool, optional (default = False)</em>) – Apply PCA pre-processing.</li>
<li><strong>n_components</strong> (<em>int, optional (default = -1)</em>) – Number of components for PCA pre-processing.
If set to -1, keep principal components
accounting for 80% of data variance.</li>
<li><strong>missing</strong> (<em>bool, optional (default = True)</em>) – Replace missing values (calls scikit-learn functions).</li>
<li><strong>missing_strategy</strong> (<em>str (default = ‘median’)</em>) – Scikit-learn missing data strategy.</li>
<li><strong>random_state</strong> (<em>int (default = 1234)</em>) – Random state.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">instance of <a class="reference internal" href="#ugtm.ugtm_preprocess.ProcessedTrainTest" title="ugtm.ugtm_preprocess.ProcessedTrainTest"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProcessedTrainTest</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-ugtm.ugtm_sklearn">
<span id="ugtm-ugtm-sklearn-module"></span><h2>ugtm.ugtm_sklearn module<a class="headerlink" href="#module-ugtm.ugtm_sklearn" title="Permalink to this headline">¶</a></h2>
<p>GTM transformer, classifier and regressor compatible with sklearn</p>
<dl class="class">
<dt id="ugtm.ugtm_sklearn.eGTC">
<em class="property">class </em><code class="descclassname">ugtm.ugtm_sklearn.</code><code class="descname">eGTC</code><span class="sig-paren">(</span><em>k=16</em>, <em>m=4</em>, <em>s=0.3</em>, <em>regul=0.1</em>, <em>random_state=1234</em>, <em>niter=200</em>, <em>verbose=False</em>, <em>prior='estimated'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_sklearn.html#eGTC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_sklearn.eGTC" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.BaseEstimator</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.ClassifierMixin</span></code></p>
<p>eGTC : GTC Bayesian classifier for sklearn pipelines.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>k</strong> (<em>int, optional (default = 16)</em>) – If k is set to 0, k is computed as sqrt(5*sqrt(n_individuals))+2.
k is the sqrt of the number of GTM nodes.
One of four GTM hyperparameters (k, m, s, regul).
Ex: k = 25 means the GTM will be discretized into a 25x25 grid.</li>
<li><strong>m</strong> (<em>int, optional (default = 4)</em>) – If m is set to 0, m is computed as sqrt(k).
m is the qrt of the number of RBF centers.
One of four GTM hyperparameters (k, m, s, regul).
Ex: m = 5 means the RBF functions will be arranged on a 5x5 grid.</li>
<li><strong>s</strong> (<em>float, optional (default = 0.3)</em>) – RBF width factor.
One of four GTM hyperparameters (k, m, s, regul).
Parameter to tune width of RBF functions.
Impacts manifold flexibility.</li>
<li><strong>regul</strong> (<em>float, optional (default = 0.1)</em>) – One of four GTM hyperparameters (k, m, s, regul).
Regularization coefficient.</li>
<li><strong>random_state</strong> (<em>int (default = 1234)</em>) – Random state.</li>
<li><strong>niter</strong> (<em>int, optional (default = 200)</em>) – Number of iterations for EM algorithm.</li>
<li><strong>verbose</strong> (<em>bool, optional (default = False)</em>) – Verbose mode (outputs loglikelihood values during EM algorithm).</li>
<li><strong>prior</strong> (<em>{‘estimated’, ‘equiprobable’}</em>) – Type of prior for class map. Use ‘estimated’ to account for
class imbalance.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ugtm.ugtm_sklearn.eGTC.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>X</em>, <em>y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_sklearn.html#eGTC.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_sklearn.eGTC.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs activity model f(X,y) using <a class="reference internal" href="#ugtm.ugtm_landscape.classMap" title="ugtm.ugtm_landscape.classMap"><code class="xref py py-func docutils literal notranslate"><span class="pre">classMap()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>X</strong> (<em>array of shape (n_instances, n_dimensions)</em>) – Data matrix.</li>
<li><strong>y</strong> (<em>array of shape (n_instances,)</em>) – Data labels.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ugtm.ugtm_sklearn.eGTC.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_sklearn.html#eGTC.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_sklearn.eGTC.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predicts new labels for X using <a class="reference internal" href="#ugtm.ugtm_gtm.projection" title="ugtm.ugtm_gtm.projection"><code class="xref py py-func docutils literal notranslate"><span class="pre">projection()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>X</strong> (<em>array of shape (n_instances, n_dimensions)</em>) – Data matrix.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ugtm.ugtm_sklearn.eGTCnn">
<em class="property">class </em><code class="descclassname">ugtm.ugtm_sklearn.</code><code class="descname">eGTCnn</code><span class="sig-paren">(</span><em>k=16</em>, <em>m=4</em>, <em>s=0.3</em>, <em>regul=0.1</em>, <em>random_state=1234</em>, <em>niter=200</em>, <em>verbose=False</em>, <em>prior='estimated'</em>, <em>representation='modes'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_sklearn.html#eGTCnn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_sklearn.eGTCnn" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.BaseEstimator</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.RegressorMixin</span></code></p>
<p>eGTCnn: GTC nearest node classifier for sklearn pipelines.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>k</strong> (<em>int, optional (default = 16)</em>) – If k is set to 0, k is computed as sqrt(5*sqrt(n_individuals))+2.
k is the sqrt of the number of GTM nodes.
One of four GTM hyperparameters (k, m, s, regul).
Ex: k = 25 means the GTM will be discretized into a 25x25 grid.</li>
<li><strong>m</strong> (<em>int, optional (default = 4)</em>) – If m is set to 0, m is computed as sqrt(k).
m is the qrt of the number of RBF centers.
One of four GTM hyperparameters (k, m, s, regul).
Ex: m = 5 means the RBF functions will be arranged on a 5x5 grid.</li>
<li><strong>s</strong> (<em>float, optional (default = 0.3)</em>) – RBF width factor.
One of four GTM hyperparameters (k, m, s, regul).
Parameter to tune width of RBF functions.
Impacts manifold flexibility.</li>
<li><strong>regul</strong> (<em>float, optional (default = 0.1)</em>) – One of four GTM hyperparameters (k, m, s, regul).
Regularization coefficient.</li>
<li><strong>random_state</strong> (<em>int (default = 1234)</em>) – Random state.</li>
<li><strong>niter</strong> (<em>int, optional (default = 200)</em>) – Number of iterations for EM algorithm.</li>
<li><strong>verbose</strong> (<em>bool, optional (default = False)</em>) – Verbose mode (outputs loglikelihood values during EM algorithm).</li>
<li><strong>prior</strong> (<em>{‘estimated’, ‘equiprobable’}</em>) – Type of prior for class map. Use ‘estimated’ to account for
class imbalance.</li>
<li><strong>representation</strong> (<em>{‘modes’, ‘means’}, optional</em>) – Type of 2D representation used in kNN algorithm.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ugtm.ugtm_sklearn.eGTCnn.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>X</em>, <em>y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_sklearn.html#eGTCnn.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_sklearn.eGTCnn.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs activity model f(X,y) using <a class="reference internal" href="#ugtm.ugtm_landscape.classMap" title="ugtm.ugtm_landscape.classMap"><code class="xref py py-func docutils literal notranslate"><span class="pre">classMap()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>X</strong> (<em>array of shape (n_instances, n_dimensions)</em>) – Data matrix.</li>
<li><strong>y</strong> (<em>array of shape (n_instances,)</em>) – Data labels.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ugtm.ugtm_sklearn.eGTCnn.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_sklearn.html#eGTCnn.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_sklearn.eGTCnn.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predicts new labels for X using <a class="reference internal" href="#ugtm.ugtm_gtm.projection" title="ugtm.ugtm_gtm.projection"><code class="xref py py-func docutils literal notranslate"><span class="pre">projection()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>X</strong> (<em>array of shape (n_instances, n_dimensions)</em>) – Data matrix.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ugtm.ugtm_sklearn.eGTM">
<em class="property">class </em><code class="descclassname">ugtm.ugtm_sklearn.</code><code class="descname">eGTM</code><span class="sig-paren">(</span><em>k=16</em>, <em>m=4</em>, <em>s=0.3</em>, <em>regul=0.1</em>, <em>random_state=1234</em>, <em>niter=200</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_sklearn.html#eGTM"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_sklearn.eGTM" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.BaseEstimator</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.TransformerMixin</span></code></p>
<p>eGTM: GTM Transformer for sklearn pipeline.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>k</strong> (<em>int, optional (default = 16)</em>) – If k is set to 0, k is computed as sqrt(5*sqrt(n_individuals))+2.
k is the sqrt of the number of GTM nodes.
One of four GTM hyperparameters (k, m, s, regul).
Ex: k = 25 means the GTM will be discretized into a 25x25 grid.</li>
<li><strong>m</strong> (<em>int, optional (default = 4)</em>) – If m is set to 0, m is computed as sqrt(k).
m is the qrt of the number of RBF centers.
One of four GTM hyperparameters (k, m, s, regul).
Ex: m = 5 means the RBF functions will be arranged on a 5x5 grid.</li>
<li><strong>s</strong> (<em>float, optional (default = 0.3)</em>) – RBF width factor.
One of four GTM hyperparameters (k, m, s, regul).
Parameter to tune width of RBF functions.
Impacts manifold flexibility.</li>
<li><strong>regul</strong> (<em>float, optional (default = 0.1)</em>) – One of four GTM hyperparameters (k, m, s, regul).
Regularization coefficient.</li>
<li><strong>random_state</strong> (<em>int (default = 1234)</em>) – Random state.</li>
<li><strong>niter</strong> (<em>int, optional (default = 200)</em>) – Number of iterations for EM algorithm.</li>
<li><strong>verbose</strong> (<em>bool, optional (default = False)</em>) – Verbose mode (outputs loglikelihood values during EM algorithm).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ugtm.ugtm_sklearn.eGTM.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_sklearn.html#eGTM.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_sklearn.eGTM.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits GTM to X using <a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizedGTM</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>X</strong> (<em>2D array</em>) – Data matrix.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ugtm.ugtm_sklearn.eGTM.fit_transform">
<code class="descname">fit_transform</code><span class="sig-paren">(</span><em>X</em>, <em>model='means'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_sklearn.html#eGTM.fit_transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_sklearn.eGTM.fit_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits and transforms X using GTM.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>X</strong> (<em>2D array</em>) – Data matrix.</li>
<li><strong>model</strong> (<em>{‘means’, ‘modes’, ‘responsibilities’,’complete’}, optional</em>) – GTM data representations:
‘means’ for mean data positions,
‘modes’ for positions with  max. responsibilities,
‘responsibilities’ for probability distribution on the map,
‘complete’ for a complete instance of <a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizedGTM</span></code></a></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><em>if model=”means”, array of shape (n_instances, 2),</em></li>
<li><em>if model=”modes”, array of shape (n_instances, 2),</em></li>
<li><em>if model=”responsibilities”, array of shape (n_instances, n_nodes),</em></li>
<li>if model=”complete”, instance of class <a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizedGTM</span></code></a></li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ugtm.ugtm_sklearn.eGTM.transform">
<code class="descname">transform</code><span class="sig-paren">(</span><em>X</em>, <em>model='means'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_sklearn.html#eGTM.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_sklearn.eGTM.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Projects new data X onto GTM using <a class="reference internal" href="#ugtm.ugtm_gtm.projection" title="ugtm.ugtm_gtm.projection"><code class="xref py py-func docutils literal notranslate"><span class="pre">projection()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>X</strong> (<em>2D array</em>) – Data matrix.</li>
<li><strong>model</strong> (<em>{‘means’, ‘modes’, ‘responsibilities’,’complete’}, optional</em>) – GTM data representations:
‘means’ for mean data positions,
‘modes’ for positions with  max. responsibilities,
‘responsibilities’ for probability distribution on the map,
‘complete’ for a complete instance of <a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizedGTM</span></code></a></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><em>if model=”means”, array of shape (n_instances, 2),</em></li>
<li><em>if model=”modes”, array of shape (n_instances, 2),</em></li>
<li><em>if model=”responsibilities”, array of shape (n_instances, n_nodes),</em></li>
<li>if model=”complete”, instance of class <a class="reference internal" href="#ugtm.ugtm_classes.OptimizedGTM" title="ugtm.ugtm_classes.OptimizedGTM"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizedGTM</span></code></a></li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ugtm.ugtm_sklearn.eGTR">
<em class="property">class </em><code class="descclassname">ugtm.ugtm_sklearn.</code><code class="descname">eGTR</code><span class="sig-paren">(</span><em>k=16</em>, <em>m=4</em>, <em>s=0.3</em>, <em>regul=0.1</em>, <em>random_state=1234</em>, <em>niter=200</em>, <em>verbose=False</em>, <em>n_neighbors=2</em>, <em>representation='modes'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_sklearn.html#eGTR"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_sklearn.eGTR" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.BaseEstimator</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.RegressorMixin</span></code></p>
<p>eGTR: GTM nearest node(s) regressor for sklearn pipelines.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>k</strong> (<em>int, optional (default = 16)</em>) – If k is set to 0, k is computed as sqrt(5*sqrt(n_individuals))+2.
k is the sqrt of the number of GTM nodes.
One of four GTM hyperparameters (k, m, s, regul).
Ex: k = 25 means the GTM will be discretized into a 25x25 grid.</li>
<li><strong>m</strong> (<em>int, optional (default = 4)</em>) – If m is set to 0, m is computed as sqrt(k).
m is the qrt of the number of RBF centers.
One of four GTM hyperparameters (k, m, s, regul).
Ex: m = 5 means the RBF functions will be arranged on a 5x5 grid.</li>
<li><strong>s</strong> (<em>float, optional (default = 0.3)</em>) – RBF width factor.
One of four GTM hyperparameters (k, m, s, regul).
Parameter to tune width of RBF functions.
Impacts manifold flexibility.</li>
<li><strong>regul</strong> (<em>float, optional (default = 0.1)</em>) – One of four GTM hyperparameters (k, m, s, regul).
Regularization coefficient.</li>
<li><strong>random_state</strong> (<em>int (default = 1234)</em>) – Random state.</li>
<li><strong>niter</strong> (<em>int, optional (default = 200)</em>) – Number of iterations for EM algorithm.</li>
<li><strong>verbose</strong> (<em>bool, optional (default = False)</em>) – Verbose mode (outputs loglikelihood values during EM algorithm).</li>
<li><strong>prior</strong> (<em>{‘estimated’, ‘equiprobable’}</em>) – Type of prior for class map. Use ‘estimated’ to account for
class imbalance.</li>
<li><strong>n_neighbors</strong> (<em>int, optional (default = 2)</em>) – Number of neighbors for kNN algorithm.</li>
<li><strong>representation</strong> (<em>{‘modes’, ‘means’}, optional</em>) – Type of 2D representation used in kNN algorithm.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ugtm.ugtm_sklearn.eGTR.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>X</em>, <em>y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_sklearn.html#eGTR.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_sklearn.eGTR.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs activity model f(X,y) using <a class="reference internal" href="#ugtm.ugtm_landscape.landscape" title="ugtm.ugtm_landscape.landscape"><code class="xref py py-func docutils literal notranslate"><span class="pre">landscape()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>X</strong> (<em>array of shape (n_instances, n_dimensions)</em>) – Data matrix.</li>
<li><strong>y</strong> (<em>array of shape (n_instances,)</em>) – Data labels.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ugtm.ugtm_sklearn.eGTR.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ugtm/ugtm_sklearn.html#eGTR.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ugtm.ugtm_sklearn.eGTR.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predicts new labels for X using <a class="reference internal" href="#ugtm.ugtm_gtm.projection" title="ugtm.ugtm_gtm.projection"><code class="xref py py-func docutils literal notranslate"><span class="pre">projection()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>X</strong> (<em>array of shape (n_instances, n_dimensions)</em>) – Data matrix.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ugtm">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-ugtm" title="Permalink to this headline">¶</a></h2>
<p>ugtm: a python package for Generative Topographic Mapping (GTM)</p>
<div class="section" id="id1">
<h3>Submodules<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#module-ugtm.ugtm_sklearn" title="ugtm.ugtm_sklearn"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ugtm_sklearn</span></code></a></td>
<td>GTM transformer, classifier and regressor compatible with sklearn</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#module-ugtm.ugtm_gtm" title="ugtm.ugtm_gtm"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ugtm_gtm</span></code></a></td>
<td>Functions to run GTM models.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#module-ugtm.ugtm_kgtm" title="ugtm.ugtm_kgtm"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ugtm_kgtm</span></code></a></td>
<td>Functions to initialize and optimize kernel GTM models.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#module-ugtm.ugtm_classes" title="ugtm.ugtm_classes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ugtm_classes</span></code></a></td>
<td>Defines classes for initial and optimized GTM model.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#module-ugtm.ugtm_plot" title="ugtm.ugtm_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ugtm_plot</span></code></a></td>
<td>ugtm plot functions.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#module-ugtm.ugtm_landscape" title="ugtm.ugtm_landscape"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ugtm_landscape</span></code></a></td>
<td>Builds continuous GTM class maps or landscapes using labels or activities.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#module-ugtm.ugtm_predictions" title="ugtm.ugtm_predictions"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ugtm_predictions</span></code></a></td>
<td>GTC (GTM classification) and GTR (GTM regression)</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#module-ugtm.ugtm_crossvalidate" title="ugtm.ugtm_crossvalidate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ugtm_crossvalidate</span></code></a></td>
<td>Cross-validation support for GTC and GTR models (also SVM and PCA).</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#module-ugtm.ugtm_preprocess" title="ugtm.ugtm_preprocess"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ugtm_preprocess</span></code></a></td>
<td>Preprocessing operations (mostly using scikit-learn functions).</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Helena A. Gaspar.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'v2.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@3"></script>
      <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@2"></script>
      <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@3"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>