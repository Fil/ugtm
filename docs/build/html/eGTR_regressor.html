

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>eGTR: GTM regressor &mdash; ugtm v2.0.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/altair-plot.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="ugtm v2.0.0 documentation" href="index.html"/>
        <link rel="next" title="API Reference" href="api.html"/>
        <link rel="prev" title="eGTC: GTM classifier" href="eGTC_classifier.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> ugtm
          

          
          </a>

          
            
            
              <div class="version">
                2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Get started here</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="eGTM_transformer.html">eGTM: GTM transformer</a></li>
<li class="toctree-l1"><a class="reference internal" href="eGTC_classifier.html">eGTC: GTM classifier</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">eGTR: GTM regressor</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#run-egtr">Run eGTR</a></li>
<li class="toctree-l2"><a class="reference internal" href="#visualize-activity-landscape">Visualize activity landscape</a></li>
<li class="toctree-l2"><a class="reference internal" href="#visualize-predicted-vs-real-labels">Visualize predicted vs real labels</a></li>
<li class="toctree-l2"><a class="reference internal" href="#parameter-optimization">Parameter optimization</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">API reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="visualization_examples.html">Visualization examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="classification_examples.html">Classification examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="regression_examples.html">Regression examples</a></li>
</ul>
<p class="caption"><span class="caption-text">Advanced functions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="readme.html">tutorial</a></li>
</ul>
<p class="caption"><span class="caption-text">Glossary</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>
<p class="caption"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="references.html">Links &amp; references</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">ugtm</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>eGTR: GTM regressor</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/eGTR_regressor.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="egtr-gtm-regressor">
<h1>eGTR: GTM regressor<a class="headerlink" href="#egtr-gtm-regressor" title="Permalink to this headline">¶</a></h1>
<div class="section" id="run-egtr">
<h2>Run eGTR<a class="headerlink" href="#run-egtr" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="ugtm.html#ugtm.ugtm_sklearn.eGTR" title="ugtm.ugtm_sklearn.eGTR"><code class="xref py py-class docutils literal notranslate"><span class="pre">eGTR</span></code></a> is a sklearn-compatible GTM regressor. Similarly to PCA or t-SNE, GTM reduces the dimensionality from n_dimensions to 2 dimensions. GTR uses a GTM class map to predict labels for new data (cf. <code class="xref py py-func docutils literal notranslate"><span class="pre">landscape()</span></code>). The following example uses the iris dataset:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ugtm</span> <span class="k">import</span> <span class="n">eGTR</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="k">import</span> <span class="n">datasets</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="k">import</span> <span class="n">preprocessing</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="k">import</span> <span class="n">decomposition</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="k">import</span> <span class="n">model_selection</span>

<span class="n">boston</span> <span class="o">=</span> <span class="n">datasets</span><span class="o">.</span><span class="n">load_boston</span><span class="p">()</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">boston</span><span class="o">.</span><span class="n">data</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">boston</span><span class="o">.</span><span class="n">target</span>

<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">model_selection</span><span class="o">.</span><span class="n">train_test_split</span><span class="p">(</span>
<span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.33</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># optional preprocessing</span>
<span class="n">scaler</span> <span class="o">=</span> <span class="n">preprocessing</span><span class="o">.</span><span class="n">StandardScaler</span><span class="p">()</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">X_train</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">X_test</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="c1"># Predict labels for X_test</span>
<span class="n">gtr</span> <span class="o">=</span> <span class="n">eGTR</span><span class="p">()</span>
<span class="n">gtr</span> <span class="o">=</span> <span class="n">gtr</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span><span class="n">y_train</span><span class="p">)</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">gtr</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="visualize-activity-landscape">
<h2>Visualize activity landscape<a class="headerlink" href="#visualize-activity-landscape" title="Permalink to this headline">¶</a></h2>
<p>The GTR algorithm is based on an activity landscape. This landscape is discretized into a grid of nodes,
which can be colored by predicted label. This visualization uses the python package <a class="reference external" href="https://altair-viz.github.io">altair</a>:</p>
<div class="highlight-python notranslate" id="eGTR_regressor-rst-altair-source-0"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ugtm</span> <span class="kn">import</span> <span class="n">eGTR</span><span class="p">,</span> <span class="n">eGTM</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">altair</span> <span class="kn">as</span> <span class="nn">alt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">datasets</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">preprocessing</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">decomposition</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">metrics</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">model_selection</span>

<span class="n">boston</span> <span class="o">=</span> <span class="n">datasets</span><span class="o">.</span><span class="n">load_boston</span><span class="p">()</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">boston</span><span class="o">.</span><span class="n">data</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">boston</span><span class="o">.</span><span class="n">target</span>

<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">model_selection</span><span class="o">.</span><span class="n">train_test_split</span><span class="p">(</span>
<span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.33</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># optional preprocessing</span>
<span class="n">std</span> <span class="o">=</span> <span class="n">preprocessing</span><span class="o">.</span><span class="n">StandardScaler</span><span class="p">()</span>
<span class="n">X_train</span> <span class="o">=</span> <span class="n">std</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>

<span class="c1"># Construct activity landscape</span>
<span class="n">gtr</span> <span class="o">=</span> <span class="n">eGTR</span><span class="p">()</span>
<span class="n">gtr</span> <span class="o">=</span> <span class="n">gtr</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span><span class="n">y_train</span><span class="p">)</span>

<span class="n">dfclassmap</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">gtr</span><span class="o">.</span><span class="n">optimizedModel</span><span class="o">.</span><span class="n">matX</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="s2">&quot;x2&quot;</span><span class="p">])</span>
<span class="n">dfclassmap</span><span class="p">[</span><span class="s2">&quot;predicted node label&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gtr</span><span class="o">.</span><span class="n">node_label</span>

<span class="c1"># Classification map</span>
<span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">dfclassmap</span><span class="p">)</span><span class="o">.</span><span class="n">mark_square</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;x1&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;x2&#39;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;predicted node label:Q&#39;</span><span class="p">,</span>
                    <span class="n">scale</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="n">scheme</span><span class="o">=</span><span class="s1">&#39;greenblue&#39;</span><span class="p">),</span>
                    <span class="n">legend</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Boston house prices&quot;</span><span class="p">)),</span>
    <span class="n">size</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
    <span class="n">tooltip</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x1&#39;</span><span class="p">,</span><span class="s1">&#39;x2&#39;</span><span class="p">,</span> <span class="s1">&#39;predicted node label:Q&#39;</span><span class="p">]</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Activity landscape&quot;</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="mi">200</span><span class="p">)</span>
</pre></div>
</div>

<div id="eGTR_regressor-rst-altair-plot-0">
<script>
  // embed when document is loaded, to ensure vega library is available
  // this works on all modern browsers, except IE8 and older
  document.addEventListener("DOMContentLoaded", function(event) {
      var spec = {"title": "Activity landscape", "data": {"values": [{"x2": -1.0, "x1": -1.0, "predicted node label": 18.619286869613976}, {"x2": -0.8666666666666667, "x1": -1.0, "predicted node label": 22.597063688953856}, {"x2": -0.7333333333333334, "x1": -1.0, "predicted node label": 26.637104259966492}, {"x2": -0.6, "x1": -1.0, "predicted node label": 32.63694389323422}, {"x2": -0.4666666666666667, "x1": -1.0, "predicted node label": 40.71167977781435}, {"x2": -0.33333333333333337, "x1": -1.0, "predicted node label": 47.81153560948273}, {"x2": -0.19999999999999996, "x1": -1.0, "predicted node label": 42.8142849000119}, {"x2": -0.06666666666666665, "x1": -1.0, "predicted node label": 35.42617962981122}, {"x2": 0.06666666666666665, "x1": -1.0, "predicted node label": 32.36110036900135}, {"x2": 0.19999999999999996, "x1": -1.0, "predicted node label": 33.174845760831616}, {"x2": 0.33333333333333326, "x1": -1.0, "predicted node label": 26.40029721017211}, {"x2": 0.46666666666666656, "x1": -1.0, "predicted node label": 23.519084117660636}, {"x2": 0.6000000000000001, "x1": -1.0, "predicted node label": 32.69914512245804}, {"x2": 0.7333333333333334, "x1": -1.0, "predicted node label": 21.883675632345728}, {"x2": 0.8666666666666667, "x1": -1.0, "predicted node label": 22.66564449755863}, {"x2": 1.0, "x1": -1.0, "predicted node label": 26.03042244302555}, {"x2": -1.0, "x1": -0.8666666666666667, "predicted node label": 18.61174973462018}, {"x2": -0.8666666666666667, "x1": -0.8666666666666667, "predicted node label": 19.43216682848065}, {"x2": -0.7333333333333334, "x1": -0.8666666666666667, "predicted node label": 23.430079935085097}, {"x2": -0.6, "x1": -0.8666666666666667, "predicted node label": 26.355614826230596}, {"x2": -0.4666666666666667, "x1": -0.8666666666666667, "predicted node label": 32.78836373045526}, {"x2": -0.33333333333333337, "x1": -0.8666666666666667, "predicted node label": 34.88308074070556}, {"x2": -0.19999999999999996, "x1": -0.8666666666666667, "predicted node label": 36.5602669448523}, {"x2": -0.06666666666666665, "x1": -0.8666666666666667, "predicted node label": 33.480472105337235}, {"x2": 0.06666666666666665, "x1": -0.8666666666666667, "predicted node label": 30.17656296260867}, {"x2": 0.19999999999999996, "x1": -0.8666666666666667, "predicted node label": 26.496902184323744}, {"x2": 0.33333333333333326, "x1": -0.8666666666666667, "predicted node label": 25.41859945457818}, {"x2": 0.46666666666666656, "x1": -0.8666666666666667, "predicted node label": 22.866387562302712}, {"x2": 0.6000000000000001, "x1": -0.8666666666666667, "predicted node label": 32.08355949044627}, {"x2": 0.7333333333333334, "x1": -0.8666666666666667, "predicted node label": 32.71340414294587}, {"x2": 0.8666666666666667, "x1": -0.8666666666666667, "predicted node label": 25.97073883470223}, {"x2": 1.0, "x1": -0.8666666666666667, "predicted node label": 26.653645876641985}, {"x2": -1.0, "x1": -0.7333333333333334, "predicted node label": 21.304655364342345}, {"x2": -0.8666666666666667, "x1": -0.7333333333333334, "predicted node label": 19.83575998521735}, {"x2": -0.7333333333333334, "x1": -0.7333333333333334, "predicted node label": 23.484514316894355}, {"x2": -0.6, "x1": -0.7333333333333334, "predicted node label": 24.834849062546958}, {"x2": -0.4666666666666667, "x1": -0.7333333333333334, "predicted node label": 29.261490080186185}, {"x2": -0.33333333333333337, "x1": -0.7333333333333334, "predicted node label": 32.58008063079103}, {"x2": -0.19999999999999996, "x1": -0.7333333333333334, "predicted node label": 33.24199603699022}, {"x2": -0.06666666666666665, "x1": -0.7333333333333334, "predicted node label": 30.611771991668302}, {"x2": 0.06666666666666665, "x1": -0.7333333333333334, "predicted node label": 29.01679095761883}, {"x2": 0.19999999999999996, "x1": -0.7333333333333334, "predicted node label": 25.482963681872704}, {"x2": 0.33333333333333326, "x1": -0.7333333333333334, "predicted node label": 22.942659897299293}, {"x2": 0.46666666666666656, "x1": -0.7333333333333334, "predicted node label": 23.483817377932404}, {"x2": 0.6000000000000001, "x1": -0.7333333333333334, "predicted node label": 30.9475039987182}, {"x2": 0.7333333333333334, "x1": -0.7333333333333334, "predicted node label": 34.12046422147581}, {"x2": 0.8666666666666667, "x1": -0.7333333333333334, "predicted node label": 39.87456401357771}, {"x2": 1.0, "x1": -0.7333333333333334, "predicted node label": 49.60050161846023}, {"x2": -1.0, "x1": -0.6, "predicted node label": 21.49791934059018}, {"x2": -0.8666666666666667, "x1": -0.6, "predicted node label": 21.15499307327663}, {"x2": -0.7333333333333334, "x1": -0.6, "predicted node label": 22.408961356399722}, {"x2": -0.6, "x1": -0.6, "predicted node label": 24.675873029111713}, {"x2": -0.4666666666666667, "x1": -0.6, "predicted node label": 27.891987168971106}, {"x2": -0.33333333333333337, "x1": -0.6, "predicted node label": 29.38685271576607}, {"x2": -0.19999999999999996, "x1": -0.6, "predicted node label": 26.790758067658288}, {"x2": -0.06666666666666665, "x1": -0.6, "predicted node label": 25.686431616044032}, {"x2": 0.06666666666666665, "x1": -0.6, "predicted node label": 24.077376122955222}, {"x2": 0.19999999999999996, "x1": -0.6, "predicted node label": 21.683039290736}, {"x2": 0.33333333333333326, "x1": -0.6, "predicted node label": 22.31759137808352}, {"x2": 0.46666666666666656, "x1": -0.6, "predicted node label": 31.351354042309268}, {"x2": 0.6000000000000001, "x1": -0.6, "predicted node label": 38.17298343721611}, {"x2": 0.7333333333333334, "x1": -0.6, "predicted node label": 43.00899136463047}, {"x2": 0.8666666666666667, "x1": -0.6, "predicted node label": 42.79459474484923}, {"x2": 1.0, "x1": -0.6, "predicted node label": 30.167818946522466}, {"x2": -1.0, "x1": -0.4666666666666667, "predicted node label": 23.770528305412636}, {"x2": -0.8666666666666667, "x1": -0.4666666666666667, "predicted node label": 23.31794269721682}, {"x2": -0.7333333333333334, "x1": -0.4666666666666667, "predicted node label": 22.865535138243057}, {"x2": -0.6, "x1": -0.4666666666666667, "predicted node label": 21.885695856309923}, {"x2": -0.4666666666666667, "x1": -0.4666666666666667, "predicted node label": 20.852779994323576}, {"x2": -0.33333333333333337, "x1": -0.4666666666666667, "predicted node label": 20.378825490201542}, {"x2": -0.19999999999999996, "x1": -0.4666666666666667, "predicted node label": 20.230363805373724}, {"x2": -0.06666666666666665, "x1": -0.4666666666666667, "predicted node label": 20.930838467746852}, {"x2": 0.06666666666666665, "x1": -0.4666666666666667, "predicted node label": 21.42805714021486}, {"x2": 0.19999999999999996, "x1": -0.4666666666666667, "predicted node label": 20.608845406769976}, {"x2": 0.33333333333333326, "x1": -0.4666666666666667, "predicted node label": 21.954732140059562}, {"x2": 0.46666666666666656, "x1": -0.4666666666666667, "predicted node label": 28.8287278531097}, {"x2": 0.6000000000000001, "x1": -0.4666666666666667, "predicted node label": 39.75022510788667}, {"x2": 0.7333333333333334, "x1": -0.4666666666666667, "predicted node label": 43.45829962395101}, {"x2": 0.8666666666666667, "x1": -0.4666666666666667, "predicted node label": 39.85027557145619}, {"x2": 1.0, "x1": -0.4666666666666667, "predicted node label": 23.225434443607636}, {"x2": -1.0, "x1": -0.33333333333333337, "predicted node label": 24.984830164320673}, {"x2": -0.8666666666666667, "x1": -0.33333333333333337, "predicted node label": 23.935647898753675}, {"x2": -0.7333333333333334, "x1": -0.33333333333333337, "predicted node label": 22.410872106507348}, {"x2": -0.6, "x1": -0.33333333333333337, "predicted node label": 21.685437316566535}, {"x2": -0.4666666666666667, "x1": -0.33333333333333337, "predicted node label": 20.73924015828811}, {"x2": -0.33333333333333337, "x1": -0.33333333333333337, "predicted node label": 20.317017403068366}, {"x2": -0.19999999999999996, "x1": -0.33333333333333337, "predicted node label": 19.61024069983569}, {"x2": -0.06666666666666665, "x1": -0.33333333333333337, "predicted node label": 21.021094738793874}, {"x2": 0.06666666666666665, "x1": -0.33333333333333337, "predicted node label": 20.61913706976126}, {"x2": 0.19999999999999996, "x1": -0.33333333333333337, "predicted node label": 20.09513649775893}, {"x2": 0.33333333333333326, "x1": -0.33333333333333337, "predicted node label": 21.890284515806595}, {"x2": 0.46666666666666656, "x1": -0.33333333333333337, "predicted node label": 27.88230198933929}, {"x2": 0.6000000000000001, "x1": -0.33333333333333337, "predicted node label": 36.64548633230667}, {"x2": 0.7333333333333334, "x1": -0.33333333333333337, "predicted node label": 43.56759239820359}, {"x2": 0.8666666666666667, "x1": -0.33333333333333337, "predicted node label": 46.27064382790947}, {"x2": 1.0, "x1": -0.33333333333333337, "predicted node label": 45.3650785824003}, {"x2": -1.0, "x1": -0.19999999999999996, "predicted node label": 26.206065936567676}, {"x2": -0.8666666666666667, "x1": -0.19999999999999996, "predicted node label": 24.42958887672388}, {"x2": -0.7333333333333334, "x1": -0.19999999999999996, "predicted node label": 21.20945946432027}, {"x2": -0.6, "x1": -0.19999999999999996, "predicted node label": 21.888979300426616}, {"x2": -0.4666666666666667, "x1": -0.19999999999999996, "predicted node label": 20.59249974446613}, {"x2": -0.33333333333333337, "x1": -0.19999999999999996, "predicted node label": 15.678486420978675}, {"x2": -0.19999999999999996, "x1": -0.19999999999999996, "predicted node label": 15.048546833842916}, {"x2": -0.06666666666666665, "x1": -0.19999999999999996, "predicted node label": 15.959417489664984}, {"x2": 0.06666666666666665, "x1": -0.19999999999999996, "predicted node label": 17.290705359410993}, {"x2": 0.19999999999999996, "x1": -0.19999999999999996, "predicted node label": 18.930291384985193}, {"x2": 0.33333333333333326, "x1": -0.19999999999999996, "predicted node label": 20.699224356541826}, {"x2": 0.46666666666666656, "x1": -0.19999999999999996, "predicted node label": 24.012300957705893}, {"x2": 0.6000000000000001, "x1": -0.19999999999999996, "predicted node label": 29.76364760247353}, {"x2": 0.7333333333333334, "x1": -0.19999999999999996, "predicted node label": 42.03447702588378}, {"x2": 0.8666666666666667, "x1": -0.19999999999999996, "predicted node label": 49.93010408211783}, {"x2": 1.0, "x1": -0.19999999999999996, "predicted node label": 49.99901326718464}, {"x2": -1.0, "x1": -0.06666666666666665, "predicted node label": 22.831296616610413}, {"x2": -0.8666666666666667, "x1": -0.06666666666666665, "predicted node label": 23.875547934551033}, {"x2": -0.7333333333333334, "x1": -0.06666666666666665, "predicted node label": 21.329357298902835}, {"x2": -0.6, "x1": -0.06666666666666665, "predicted node label": 21.661132152597762}, {"x2": -0.4666666666666667, "x1": -0.06666666666666665, "predicted node label": 17.186869783020402}, {"x2": -0.33333333333333337, "x1": -0.06666666666666665, "predicted node label": 14.617433088920045}, {"x2": -0.19999999999999996, "x1": -0.06666666666666665, "predicted node label": 13.387358358937853}, {"x2": -0.06666666666666665, "x1": -0.06666666666666665, "predicted node label": 13.304532674548687}, {"x2": 0.06666666666666665, "x1": -0.06666666666666665, "predicted node label": 16.767631203693934}, {"x2": 0.19999999999999996, "x1": -0.06666666666666665, "predicted node label": 19.061766250800705}, {"x2": 0.33333333333333326, "x1": -0.06666666666666665, "predicted node label": 18.641936555412787}, {"x2": 0.46666666666666656, "x1": -0.06666666666666665, "predicted node label": 21.742972171524865}, {"x2": 0.6000000000000001, "x1": -0.06666666666666665, "predicted node label": 26.22262450480563}, {"x2": 0.7333333333333334, "x1": -0.06666666666666665, "predicted node label": 45.758117272634315}, {"x2": 0.8666666666666667, "x1": -0.06666666666666665, "predicted node label": 38.31118068771284}, {"x2": 1.0, "x1": -0.06666666666666665, "predicted node label": 35.08483693038082}, {"x2": -1.0, "x1": 0.06666666666666665, "predicted node label": 21.909007883921053}, {"x2": -0.8666666666666667, "x1": 0.06666666666666665, "predicted node label": 21.593715062904053}, {"x2": -0.7333333333333334, "x1": 0.06666666666666665, "predicted node label": 18.68334160809819}, {"x2": -0.6, "x1": 0.06666666666666665, "predicted node label": 22.916704200885313}, {"x2": -0.4666666666666667, "x1": 0.06666666666666665, "predicted node label": 20.914406954871147}, {"x2": -0.33333333333333337, "x1": 0.06666666666666665, "predicted node label": 18.352879464317148}, {"x2": -0.19999999999999996, "x1": 0.06666666666666665, "predicted node label": 14.544373985607061}, {"x2": -0.06666666666666665, "x1": 0.06666666666666665, "predicted node label": 14.421591555920559}, {"x2": 0.06666666666666665, "x1": 0.06666666666666665, "predicted node label": 16.991228124951338}, {"x2": 0.19999999999999996, "x1": 0.06666666666666665, "predicted node label": 17.442870687691602}, {"x2": 0.33333333333333326, "x1": 0.06666666666666665, "predicted node label": 20.24535139867164}, {"x2": 0.46666666666666656, "x1": 0.06666666666666665, "predicted node label": 21.046450493663265}, {"x2": 0.6000000000000001, "x1": 0.06666666666666665, "predicted node label": 23.223395168499017}, {"x2": 0.7333333333333334, "x1": 0.06666666666666665, "predicted node label": 22.39507520649588}, {"x2": 0.8666666666666667, "x1": 0.06666666666666665, "predicted node label": 22.465325658727348}, {"x2": 1.0, "x1": 0.06666666666666665, "predicted node label": 22.2291778600272}, {"x2": -1.0, "x1": 0.19999999999999996, "predicted node label": 23.425456464204835}, {"x2": -0.8666666666666667, "x1": 0.19999999999999996, "predicted node label": 21.509595582835114}, {"x2": -0.7333333333333334, "x1": 0.19999999999999996, "predicted node label": 15.956892825404498}, {"x2": -0.6, "x1": 0.19999999999999996, "predicted node label": 13.53971466289246}, {"x2": -0.4666666666666667, "x1": 0.19999999999999996, "predicted node label": 21.50204087049632}, {"x2": -0.33333333333333337, "x1": 0.19999999999999996, "predicted node label": 22.945428723762475}, {"x2": -0.19999999999999996, "x1": 0.19999999999999996, "predicted node label": 15.514122956751436}, {"x2": -0.06666666666666665, "x1": 0.19999999999999996, "predicted node label": 14.37927054605069}, {"x2": 0.06666666666666665, "x1": 0.19999999999999996, "predicted node label": 14.89481672168208}, {"x2": 0.19999999999999996, "x1": 0.19999999999999996, "predicted node label": 16.40465650482065}, {"x2": 0.33333333333333326, "x1": 0.19999999999999996, "predicted node label": 18.95214952769999}, {"x2": 0.46666666666666656, "x1": 0.19999999999999996, "predicted node label": 20.878387843740608}, {"x2": 0.6000000000000001, "x1": 0.19999999999999996, "predicted node label": 20.40484058396057}, {"x2": 0.7333333333333334, "x1": 0.19999999999999996, "predicted node label": 20.117278116305904}, {"x2": 0.8666666666666667, "x1": 0.19999999999999996, "predicted node label": 15.87457480470198}, {"x2": 1.0, "x1": 0.19999999999999996, "predicted node label": 14.3811948233447}, {"x2": -1.0, "x1": 0.33333333333333326, "predicted node label": 22.404308616061655}, {"x2": -0.8666666666666667, "x1": 0.33333333333333326, "predicted node label": 24.719167900217887}, {"x2": -0.7333333333333334, "x1": 0.33333333333333326, "predicted node label": 11.85992697397371}, {"x2": -0.6, "x1": 0.33333333333333326, "predicted node label": 13.60435734557396}, {"x2": -0.4666666666666667, "x1": 0.33333333333333326, "predicted node label": 13.82017511883277}, {"x2": -0.33333333333333337, "x1": 0.33333333333333326, "predicted node label": 15.871876621413497}, {"x2": -0.19999999999999996, "x1": 0.33333333333333326, "predicted node label": 21.70437058296876}, {"x2": -0.06666666666666665, "x1": 0.33333333333333326, "predicted node label": 14.154121223559995}, {"x2": 0.06666666666666665, "x1": 0.33333333333333326, "predicted node label": 8.231906550990187}, {"x2": 0.19999999999999996, "x1": 0.33333333333333326, "predicted node label": 15.835507431706672}, {"x2": 0.33333333333333326, "x1": 0.33333333333333326, "predicted node label": 17.887690761267937}, {"x2": 0.46666666666666656, "x1": 0.33333333333333326, "predicted node label": 18.372316041140586}, {"x2": 0.6000000000000001, "x1": 0.33333333333333326, "predicted node label": 18.857950565378292}, {"x2": 0.7333333333333334, "x1": 0.33333333333333326, "predicted node label": 16.830569022571584}, {"x2": 0.8666666666666667, "x1": 0.33333333333333326, "predicted node label": 13.210234650474415}, {"x2": 1.0, "x1": 0.33333333333333326, "predicted node label": 13.155860188029378}, {"x2": -1.0, "x1": 0.46666666666666656, "predicted node label": 15.692877539419856}, {"x2": -0.8666666666666667, "x1": 0.46666666666666656, "predicted node label": 21.636645130467343}, {"x2": -0.7333333333333334, "x1": 0.46666666666666656, "predicted node label": 7.2742926591987365}, {"x2": -0.6, "x1": 0.46666666666666656, "predicted node label": 9.181280054870843}, {"x2": -0.4666666666666667, "x1": 0.46666666666666656, "predicted node label": 13.609792793867785}, {"x2": -0.33333333333333337, "x1": 0.46666666666666656, "predicted node label": 13.798488058025809}, {"x2": -0.19999999999999996, "x1": 0.46666666666666656, "predicted node label": 13.77072412415609}, {"x2": -0.06666666666666665, "x1": 0.46666666666666656, "predicted node label": 9.143692909672883}, {"x2": 0.06666666666666665, "x1": 0.46666666666666656, "predicted node label": 8.164539744185968}, {"x2": 0.19999999999999996, "x1": 0.46666666666666656, "predicted node label": 15.552840643344775}, {"x2": 0.33333333333333326, "x1": 0.46666666666666656, "predicted node label": 18.522341741120286}, {"x2": 0.46666666666666656, "x1": 0.46666666666666656, "predicted node label": 18.160979007452376}, {"x2": 0.6000000000000001, "x1": 0.46666666666666656, "predicted node label": 17.50249071427362}, {"x2": 0.7333333333333334, "x1": 0.46666666666666656, "predicted node label": 19.884227942281836}, {"x2": 0.8666666666666667, "x1": 0.46666666666666656, "predicted node label": 13.934675566308213}, {"x2": 1.0, "x1": 0.46666666666666656, "predicted node label": 13.800514689331097}, {"x2": -1.0, "x1": 0.6000000000000001, "predicted node label": 14.065962882482108}, {"x2": -0.8666666666666667, "x1": 0.6000000000000001, "predicted node label": 23.05611283654374}, {"x2": -0.7333333333333334, "x1": 0.6000000000000001, "predicted node label": 16.38243481701045}, {"x2": -0.6, "x1": 0.6000000000000001, "predicted node label": 14.773182216626473}, {"x2": -0.4666666666666667, "x1": 0.6000000000000001, "predicted node label": 22.902698409789327}, {"x2": -0.33333333333333337, "x1": 0.6000000000000001, "predicted node label": 22.96991028158275}, {"x2": -0.19999999999999996, "x1": 0.6000000000000001, "predicted node label": 18.374865787695132}, {"x2": -0.06666666666666665, "x1": 0.6000000000000001, "predicted node label": 7.6647239929145625}, {"x2": 0.06666666666666665, "x1": 0.6000000000000001, "predicted node label": 10.395478466258345}, {"x2": 0.19999999999999996, "x1": 0.6000000000000001, "predicted node label": 15.292099509531264}, {"x2": 0.33333333333333326, "x1": 0.6000000000000001, "predicted node label": 18.88246780645866}, {"x2": 0.46666666666666656, "x1": 0.6000000000000001, "predicted node label": 18.92258822679576}, {"x2": 0.6000000000000001, "x1": 0.6000000000000001, "predicted node label": 22.461033127012353}, {"x2": 0.7333333333333334, "x1": 0.6000000000000001, "predicted node label": 22.923486729238466}, {"x2": 0.8666666666666667, "x1": 0.6000000000000001, "predicted node label": 15.190494854376533}, {"x2": 1.0, "x1": 0.6000000000000001, "predicted node label": 14.338617507408694}, {"x2": -1.0, "x1": 0.7333333333333334, "predicted node label": 12.45359265424277}, {"x2": -0.8666666666666667, "x1": 0.7333333333333334, "predicted node label": 8.810173711026739}, {"x2": -0.7333333333333334, "x1": 0.7333333333333334, "predicted node label": 16.30079340263882}, {"x2": -0.6, "x1": 0.7333333333333334, "predicted node label": 22.9707662134813}, {"x2": -0.4666666666666667, "x1": 0.7333333333333334, "predicted node label": 22.97079646017699}, {"x2": -0.33333333333333337, "x1": 0.7333333333333334, "predicted node label": 22.97079646017699}, {"x2": -0.19999999999999996, "x1": 0.7333333333333334, "predicted node label": 22.97079646017699}, {"x2": -0.06666666666666665, "x1": 0.7333333333333334, "predicted node label": 22.59555938699915}, {"x2": 0.06666666666666665, "x1": 0.7333333333333334, "predicted node label": 9.50182619926066}, {"x2": 0.19999999999999996, "x1": 0.7333333333333334, "predicted node label": 14.952581664463489}, {"x2": 0.33333333333333326, "x1": 0.7333333333333334, "predicted node label": 19.172460858335338}, {"x2": 0.46666666666666656, "x1": 0.7333333333333334, "predicted node label": 21.937643856455733}, {"x2": 0.6000000000000001, "x1": 0.7333333333333334, "predicted node label": 22.94613614399601}, {"x2": 0.7333333333333334, "x1": 0.7333333333333334, "predicted node label": 18.104233222741367}, {"x2": 0.8666666666666667, "x1": 0.7333333333333334, "predicted node label": 16.8938100470886}, {"x2": 1.0, "x1": 0.7333333333333334, "predicted node label": 17.314328961676374}, {"x2": -1.0, "x1": 0.8666666666666667, "predicted node label": 8.962359986133075}, {"x2": -0.8666666666666667, "x1": 0.8666666666666667, "predicted node label": 7.820278932467489}, {"x2": -0.7333333333333334, "x1": 0.8666666666666667, "predicted node label": 10.95251631102673}, {"x2": -0.6, "x1": 0.8666666666666667, "predicted node label": 22.94895446990644}, {"x2": -0.4666666666666667, "x1": 0.8666666666666667, "predicted node label": 22.970644264574158}, {"x2": -0.33333333333333337, "x1": 0.8666666666666667, "predicted node label": 18.21057267432741}, {"x2": -0.19999999999999996, "x1": 0.8666666666666667, "predicted node label": 22.970790748729875}, {"x2": -0.06666666666666665, "x1": 0.8666666666666667, "predicted node label": 22.97079646017699}, {"x2": 0.06666666666666665, "x1": 0.8666666666666667, "predicted node label": 10.88762394522928}, {"x2": 0.19999999999999996, "x1": 0.8666666666666667, "predicted node label": 15.3147104454784}, {"x2": 0.33333333333333326, "x1": 0.8666666666666667, "predicted node label": 19.2719193553068}, {"x2": 0.46666666666666656, "x1": 0.8666666666666667, "predicted node label": 22.79474988233765}, {"x2": 0.6000000000000001, "x1": 0.8666666666666667, "predicted node label": 22.970206953728344}, {"x2": 0.7333333333333334, "x1": 0.8666666666666667, "predicted node label": 19.23530395477658}, {"x2": 0.8666666666666667, "x1": 0.8666666666666667, "predicted node label": 25.03080383724052}, {"x2": 1.0, "x1": 0.8666666666666667, "predicted node label": 34.64147345906025}, {"x2": -1.0, "x1": 1.0, "predicted node label": 7.869661763338525}, {"x2": -0.8666666666666667, "x1": 1.0, "predicted node label": 7.373389790874338}, {"x2": -0.7333333333333334, "x1": 1.0, "predicted node label": 13.132518074017689}, {"x2": -0.6, "x1": 1.0, "predicted node label": 22.954571873751725}, {"x2": -0.4666666666666667, "x1": 1.0, "predicted node label": 11.14997434783063}, {"x2": -0.33333333333333337, "x1": 1.0, "predicted node label": 10.400426451844831}, {"x2": -0.19999999999999996, "x1": 1.0, "predicted node label": 12.331561043184532}, {"x2": -0.06666666666666665, "x1": 1.0, "predicted node label": 22.97079646017699}, {"x2": 0.06666666666666665, "x1": 1.0, "predicted node label": 12.816767593631397}, {"x2": 0.19999999999999996, "x1": 1.0, "predicted node label": 15.089002026467117}, {"x2": 0.33333333333333326, "x1": 1.0, "predicted node label": 19.03340907211609}, {"x2": 0.46666666666666656, "x1": 1.0, "predicted node label": 22.965107546850216}, {"x2": 0.6000000000000001, "x1": 1.0, "predicted node label": 22.970762595602604}, {"x2": 0.7333333333333334, "x1": 1.0, "predicted node label": 26.18840541914945}, {"x2": 0.8666666666666667, "x1": 1.0, "predicted node label": 42.42262615653018}, {"x2": 1.0, "x1": 1.0, "predicted node label": 33.60112018923958}]}, "encoding": {"color": {"field": "predicted node label", "scale": {"scheme": "greenblue"}, "type": "quantitative", "legend": {"title": "Boston house prices"}}, "y": {"field": "x2", "type": "quantitative"}, "size": {"value": 50}, "tooltip": [{"field": "x1", "type": "quantitative"}, {"field": "x2", "type": "quantitative"}, {"field": "predicted node label", "type": "quantitative"}], "x": {"field": "x1", "type": "quantitative"}}, "height": 200, "width": 200, "$schema": "https://vega.github.io/schema/vega-lite/v2.4.3.json", "mark": "square", "config": {"view": {"width": 400, "height": 300}}};
      var opt = {
        "mode": "vega-lite",
        "renderer": "canvas",
        "actions": {"source": false, "export": false, "editor": false}
      };
      vegaEmbed('#eGTR_regressor-rst-altair-plot-0', spec, opt).catch(console.err);
  });
</script>
</div></div>
<div class="section" id="visualize-predicted-vs-real-labels">
<h2>Visualize predicted vs real labels<a class="headerlink" href="#visualize-predicted-vs-real-labels" title="Permalink to this headline">¶</a></h2>
<p>This visualization uses the python package <a class="reference external" href="https://altair-viz.github.io">altair</a>:</p>
<div class="highlight-python notranslate" id="eGTR_regressor-rst-altair-source-1"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ugtm</span> <span class="kn">import</span> <span class="n">eGTM</span><span class="p">,</span> <span class="n">eGTR</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">altair</span> <span class="kn">as</span> <span class="nn">alt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">datasets</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">preprocessing</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">decomposition</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">metrics</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">model_selection</span>

<span class="n">boston</span> <span class="o">=</span> <span class="n">datasets</span><span class="o">.</span><span class="n">load_boston</span><span class="p">()</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">boston</span><span class="o">.</span><span class="n">data</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">boston</span><span class="o">.</span><span class="n">target</span>

<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">model_selection</span><span class="o">.</span><span class="n">train_test_split</span><span class="p">(</span>
<span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.33</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># optional preprocessing</span>
<span class="n">scaler</span> <span class="o">=</span> <span class="n">preprocessing</span><span class="o">.</span><span class="n">StandardScaler</span><span class="p">()</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">X_train</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">X_test</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="c1"># Predict labels for X_test</span>
<span class="n">gtr</span> <span class="o">=</span> <span class="n">eGTR</span><span class="p">()</span>
<span class="n">gtr</span> <span class="o">=</span> <span class="n">gtr</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span><span class="n">y_train</span><span class="p">)</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">gtr</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="c1"># Get GTM transform for X_test</span>
<span class="n">transformed</span> <span class="o">=</span> <span class="n">eGTM</span><span class="p">()</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">transformed</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="s2">&quot;x2&quot;</span><span class="p">])</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;predicted label&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">y_pred</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;true label&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">y_test</span>

<span class="n">chart1</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
<span class="n">x</span><span class="o">=</span><span class="s1">&#39;x1&#39;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;x2&#39;</span><span class="p">,</span>
<span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s2">&quot;predicted label:Q&quot;</span><span class="p">,</span><span class="n">scale</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="n">scheme</span><span class="o">=</span><span class="s1">&#39;greenblue&#39;</span><span class="p">),</span>
                 <span class="n">legend</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Boston house prices&quot;</span><span class="p">)),</span>
<span class="n">tooltip</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="s2">&quot;predicted label:Q&quot;</span><span class="p">,</span> <span class="s2">&quot;true label:Q&quot;</span><span class="p">]</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Pedicted labels&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span><span class="o">.</span><span class="n">interactive</span><span class="p">()</span>

<span class="n">chart2</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
<span class="n">x</span><span class="o">=</span><span class="s1">&#39;x1&#39;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;x2&#39;</span><span class="p">,</span>
<span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s2">&quot;true label:Q&quot;</span><span class="p">,</span><span class="n">scale</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="n">scheme</span><span class="o">=</span><span class="s1">&#39;greenblue&#39;</span><span class="p">),</span>
                <span class="n">legend</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Boston house prices&quot;</span><span class="p">)),</span>
<span class="n">tooltip</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="s2">&quot;predicted label:Q&quot;</span><span class="p">,</span> <span class="s2">&quot;true label:Q&quot;</span><span class="p">]</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;True labels&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span><span class="o">.</span><span class="n">interactive</span><span class="p">()</span>

<span class="n">alt</span><span class="o">.</span><span class="n">hconcat</span><span class="p">(</span><span class="n">chart1</span><span class="p">,</span> <span class="n">chart2</span><span class="p">)</span>
</pre></div>
</div>

<div id="eGTR_regressor-rst-altair-plot-1">
<script>
  // embed when document is loaded, to ensure vega library is available
  // this works on all modern browsers, except IE8 and older
  document.addEventListener("DOMContentLoaded", function(event) {
      var spec = {"$schema": "https://vega.github.io/schema/vega-lite/v2.4.3.json", "config": {"view": {"width": 400, "height": 300}}, "hconcat": [{"selection": {"selector004": {"bind": "scales", "type": "interval", "encodings": ["x", "y"]}}, "encoding": {"color": {"field": "predicted label", "scale": {"scheme": "greenblue"}, "type": "quantitative", "legend": {"title": "Boston house prices"}}, "y": {"field": "x2", "type": "quantitative"}, "tooltip": [{"field": "x1", "type": "quantitative"}, {"field": "x2", "type": "quantitative"}, {"field": "predicted label", "type": "quantitative"}, {"field": "true label", "type": "quantitative"}], "x": {"field": "x1", "type": "quantitative"}}, "title": "Pedicted labels", "height": 200, "width": 200, "mark": "point", "data": {"values": [{"x2": 0.46724741669088754, "predicted label": 24.012300957704028, "x1": -0.2614982945820287, "true label": 23.6}, {"x2": 0.7343437878283935, "predicted label": 32.713404142945514, "x1": -0.8687522368577086, "true label": 32.4}, {"x2": 0.29015052683422526, "predicted label": 18.52234174111993, "x1": 0.4598159492770755, "true label": 13.6}, {"x2": -0.9599745967969764, "predicted label": 24.984830164319987, "x1": -0.3343066187341302, "true label": 22.8}, {"x2": 0.18403306242110481, "predicted label": 15.314710445478196, "x1": 0.8723191783012231, "true label": 16.1}, {"x2": 0.16971479223742456, "predicted label": 20.699224356540668, "x1": -0.26035991117556967, "true label": 20.0}, {"x2": -0.08503362049261196, "predicted label": 15.959417489664473, "x1": -0.24135460816954063, "true label": 17.8}, {"x2": 0.18623738886638372, "predicted label": 15.835507431702394, "x1": 0.2768810608496289, "true label": 14.0}, {"x2": -0.9300659879795738, "predicted label": 22.40430861606223, "x1": 0.2806685325943261, "true label": 19.6}, {"x2": 0.1951807225622527, "predicted label": 18.930291384985267, "x1": -0.16665997697800944, "true label": 16.8}, {"x2": 0.8810151229542348, "predicted label": 22.66564449755819, "x1": -0.999364563101075, "true label": 21.5}, {"x2": -0.34161473736819326, "predicted label": 20.3170174030684, "x1": -0.3410245080786519, "true label": 18.9}, {"x2": -0.6117624378759969, "predicted label": 22.97076621347669, "x1": 0.7449018460240914, "true label": 7.0}, {"x2": -0.6986166065471773, "predicted label": 21.20945946432208, "x1": -0.21891863536975778, "true label": 21.2}, {"x2": 0.12021987327583152, "predicted label": 20.619137069761713, "x1": -0.3444310723571825, "true label": 18.5}, {"x2": -0.9992955592722876, "predicted label": 22.40430861606223, "x1": 0.3076902578514905, "true label": 29.8}, {"x2": 0.39454839047882984, "predicted label": 20.878387843739524, "x1": 0.18877948350935303, "true label": 18.8}, {"x2": -0.6002001600477043, "predicted label": 9.181280054873332, "x1": 0.41485950577598535, "true label": 10.2}, {"x2": -0.26968602847663004, "predicted label": 42.81428490000774, "x1": -0.9696101977330871, "true label": 50.0}, {"x2": 0.19513173312407006, "predicted label": 15.314710445478196, "x1": 0.8878000787471034, "true label": 14.1}, {"x2": -0.9693593918790626, "predicted label": 24.984830164319987, "x1": -0.3968850509395533, "true label": 25.2}, {"x2": -0.10151740221550057, "predicted label": 25.68643161604465, "x1": -0.6474868140700362, "true label": 29.1}, {"x2": -0.020472853606987428, "predicted label": 15.959417489664473, "x1": -0.17274234181753398, "true label": 12.7}, {"x2": 0.3545900988660245, "predicted label": 20.699224356540668, "x1": -0.13843575076923414, "true label": 22.4}, {"x2": -0.1860696636344256, "predicted label": 15.314710445478196, "x1": 0.7201211892823006, "true label": 14.2}, {"x2": -0.7904463675579294, "predicted label": 11.859926973976014, "x1": 0.34861344040313497, "true label": 13.8}, {"x2": -0.8447795334028383, "predicted label": 24.429588876722068, "x1": -0.19928642658212875, "true label": 20.3}, {"x2": -0.9999943610608334, "predicted label": 12.453592654243678, "x1": 0.744645192474543, "true label": 14.9}, {"x2": 0.846036052592446, "predicted label": 22.66564449755819, "x1": -0.9996361880992206, "true label": 21.7}, {"x2": 0.014918666047925631, "predicted label": 18.930291384985267, "x1": -0.18019901873683952, "true label": 18.3}, {"x2": -0.12163147800396086, "predicted label": 21.021094738793824, "x1": -0.3201026173286186, "true label": 23.1}, {"x2": 0.3151834104740438, "predicted label": 21.954732140058805, "x1": -0.47603220119222656, "true label": 23.8}, {"x2": 0.13947839804936069, "predicted label": 15.089002026467245, "x1": 0.9803725010737968, "true label": 15.0}, {"x2": -0.8490719490433266, "predicted label": 24.719167900216082, "x1": 0.34031856283466116, "true label": 20.8}, {"x2": -0.09118563286824019, "predicted label": 14.952581664460425, "x1": 0.664334618439744, "true label": 19.1}, {"x2": 0.8697896497979875, "predicted label": 15.874574804704366, "x1": 0.20026350384948444, "true label": 19.4}, {"x2": 0.549638236072298, "predicted label": 39.75022510788492, "x1": -0.46505501176166186, "true label": 34.7}, {"x2": 0.2347156734963723, "predicted label": 20.608845406770733, "x1": -0.4926401637340449, "true label": 19.5}, {"x2": 0.7366241704471774, "predicted label": 21.883675632351814, "x1": -0.9992987138511938, "true label": 24.4}, {"x2": -0.9654370691681509, "predicted label": 24.984830164319987, "x1": -0.3358783779773489, "true label": 23.4}, {"x2": -0.4385183181370257, "predicted label": 21.66113215259789, "x1": -0.09159783084536181, "true label": 19.7}, {"x2": 0.42284941470635284, "predicted label": 28.828727853105836, "x1": -0.4512749087428126, "true label": 28.2}, {"x2": -0.3033714279015392, "predicted label": 47.81153560947874, "x1": -0.9972866320148689, "true label": 50.0}, {"x2": -0.5378621947768597, "predicted label": 22.410872106507604, "x1": -0.43829442763171506, "true label": 17.4}, {"x2": 0.3937280345860411, "predicted label": 27.88230198933592, "x1": -0.36495415998352926, "true label": 22.6}, {"x2": -0.130852798536561, "predicted label": 15.314710445478196, "x1": 0.6689288501114812, "true label": 15.1}, {"x2": 0.06063354301893199, "predicted label": 17.290705359411913, "x1": -0.1833957753870508, "true label": 13.1}, {"x2": -0.9768063316662399, "predicted label": 24.984830164319987, "x1": -0.33149928750280877, "true label": 24.2}, {"x2": -0.8263252064487305, "predicted label": 24.719167900216082, "x1": 0.30173253399772876, "true label": 19.9}, {"x2": -0.15130915689007562, "predicted label": 26.790758067657666, "x1": -0.5355742293908539, "true label": 24.0}, {"x2": -0.3308468818772731, "predicted label": 20.3170174030684, "x1": -0.3921072190803602, "true label": 18.9}, {"x2": -0.2979957713378254, "predicted label": 29.38685271576523, "x1": -0.607431436937633, "true label": 35.4}, {"x2": 0.08733134291985656, "predicted label": 17.290705359411913, "x1": -0.19695035894403784, "true label": 15.2}, {"x2": 0.3920462379210606, "predicted label": 24.012300957704028, "x1": -0.24032390743280516, "true label": 26.5}, {"x2": 0.8089923284927714, "predicted label": 49.93010408211339, "x1": -0.1999699197789208, "true label": 43.5}, {"x2": -0.9840855989870206, "predicted label": 23.425456464203986, "x1": 0.2191792763630316, "true label": 21.2}, {"x2": 0.19614352607655652, "predicted label": 15.314710445478196, "x1": 0.883222843770301, "true label": 18.4}, {"x2": 0.007814231944316005, "predicted label": 32.36110036900012, "x1": -0.9828163407977022, "true label": 28.5}, {"x2": 0.2302016940886091, "predicted label": 21.954732140058805, "x1": -0.5116807953301924, "true label": 23.9}, {"x2": -0.29179451095108205, "predicted label": 20.3170174030684, "x1": -0.3532879875110079, "true label": 18.5}, {"x2": 0.304691121136354, "predicted label": 25.41859945457879, "x1": -0.8480675223225218, "true label": 25.0}, {"x2": -0.6706901317624278, "predicted label": 26.637104259964218, "x1": -0.9884033140621667, "true label": 35.4}, {"x2": -0.9856213387024529, "predicted label": 26.206065936566674, "x1": -0.21411283682435214, "true label": 31.5}, {"x2": 0.027087646772271476, "predicted label": 20.095136497759217, "x1": -0.33160437922102887, "true label": 20.2}, {"x2": -0.8543721276800175, "predicted label": 19.43216682848243, "x1": -0.8928120940230295, "true label": 24.1}, {"x2": 0.8634973133874607, "predicted label": 22.66564449755819, "x1": -0.9999990754155004, "true label": 20.0}, {"x2": 0.19883124521254147, "predicted label": 15.314710445478196, "x1": 0.9199707994242163, "true label": 13.1}, {"x2": 0.07351159847550867, "predicted label": 25.482963681874693, "x1": -0.6542307316690477, "true label": 24.8}, {"x2": -0.06715153255751047, "predicted label": 32.36110036900012, "x1": -0.9328481194714769, "true label": 30.8}, {"x2": -0.9999998476590962, "predicted label": 12.453592654243678, "x1": 0.7396594548958628, "true label": 12.7}, {"x2": -0.710794292326633, "predicted label": 22.410872106507604, "x1": -0.3237008924645601, "true label": 20.0}, {"x2": -0.9998855098739494, "predicted label": 23.425456464203986, "x1": 0.2446484285374174, "true label": 23.7}, {"x2": -0.8435614077093081, "predicted label": 23.05611283653868, "x1": 0.5753777674152395, "true label": 10.8}, {"x2": -0.9912496051042411, "predicted label": 18.619286869616214, "x1": -0.9583283122057409, "true label": 20.6}, {"x2": -0.8207134484795467, "predicted label": 24.429588876722068, "x1": -0.1841021170110292, "true label": 20.8}, {"x2": -0.2786887743808998, "predicted label": 18.37486578768911, "x1": 0.6076274886524102, "true label": 5.0}, {"x2": 0.24746751861041033, "predicted label": 18.930291384985267, "x1": -0.17141603031633623, "true label": 20.1}, {"x2": -0.3165612949623763, "predicted label": 47.81153560947874, "x1": -0.994613733841299, "true label": 48.5}, {"x2": 0.18330187809361495, "predicted label": 15.089002026467245, "x1": 0.922778109156198, "true label": 10.9}, {"x2": 0.17345332328267504, "predicted label": 15.552840643344934, "x1": 0.4178868775396421, "true label": 7.0}, {"x2": -0.26539943211527983, "predicted label": 22.94265989730072, "x1": -0.5753531884671552, "true label": 20.9}, {"x2": -0.7297011052405227, "predicted label": 11.859926973976014, "x1": 0.35797397599809205, "true label": 17.2}, {"x2": -0.75260148813373, "predicted label": 23.4300799350869, "x1": -0.8744435137241716, "true label": 20.9}, {"x2": -0.7229691768045101, "predicted label": 11.859926973976014, "x1": 0.3451978156682002, "true label": 9.7}, {"x2": 0.2541633969537845, "predicted label": 18.930291384985267, "x1": -0.19227463204478018, "true label": 19.4}, {"x2": 0.8525781352009066, "predicted label": 25.970738834706022, "x1": -0.8698395024966792, "true label": 29.0}, {"x2": -0.9533114859343881, "predicted label": 15.69287753942363, "x1": 0.5192502553567309, "true label": 16.4}, {"x2": 0.07073063758662373, "predicted label": 22.31759137808316, "x1": -0.48059070184935626, "true label": 25.0}, {"x2": -0.9664082955611116, "predicted label": 26.206065936566674, "x1": -0.2620952641313443, "true label": 25.0}, {"x2": 0.3221235281067752, "predicted label": 18.952149527698555, "x1": 0.23932642563221804, "true label": 17.1}, {"x2": -0.5954018886162478, "predicted label": 21.685437316566645, "x1": -0.3055316297378454, "true label": 23.2}, {"x2": -0.736641605675864, "predicted label": 16.300793402638867, "x1": 0.7196312773523358, "true label": 10.4}, {"x2": 0.336045031836232, "predicted label": 18.952149527698555, "x1": 0.2162637929625231, "true label": 19.6}, {"x2": 0.050216087955118095, "predicted label": 21.683039290737348, "x1": -0.560445975783473, "true label": 17.2}, {"x2": -0.7383778428757225, "predicted label": 11.859926973976014, "x1": 0.3184255661856324, "true label": 27.5}, {"x2": 0.3430227826649784, "predicted label": 18.952149527698555, "x1": 0.2071138491546081, "true label": 23.0}, {"x2": -0.8715985822951099, "predicted label": 22.40430861606223, "x1": 0.3959013018343628, "true label": 50.0}, {"x2": -0.8666668187270193, "predicted label": 7.820278932468046, "x1": 0.8506446101768371, "true label": 17.9}, {"x2": -0.9785052906048359, "predicted label": 12.453592654243678, "x1": 0.7405463974992371, "true label": 9.6}, {"x2": -0.9868875646028139, "predicted label": 12.453592654243678, "x1": 0.7414210495881381, "true label": 17.2}, {"x2": -0.17057454901938213, "predicted label": 20.608845406770733, "x1": -0.40945934371472864, "true label": 22.5}, {"x2": -0.8650282768209122, "predicted label": 24.429588876722068, "x1": -0.19189131768638196, "true label": 21.4}, {"x2": -0.7311021224920364, "predicted label": 7.274292659201316, "x1": 0.45753073202309524, "true label": 12.0}, {"x2": 0.23204324427333406, "predicted label": 20.095136497759217, "x1": -0.38877268252005054, "true label": 19.9}, {"x2": -0.767194381997333, "predicted label": 22.408961356399015, "x1": -0.585875335417025, "true label": 19.4}, {"x2": -0.9999980376104406, "predicted label": 12.453592654243678, "x1": 0.7975999118423492, "true label": 13.4}, {"x2": 0.19723036263504723, "predicted label": 20.095136497759217, "x1": -0.27874209292823887, "true label": 18.2}, {"x2": -0.963067826742783, "predicted label": 24.984830164319987, "x1": -0.31835362986383653, "true label": 24.6}, {"x2": 0.27949393319404914, "predicted label": 22.31759137808316, "x1": -0.601459046119571, "true label": 21.1}, {"x2": -0.7365329231019992, "predicted label": 26.637104259964218, "x1": -0.9632073185696572, "true label": 24.7}, {"x2": -0.8834543414934283, "predicted label": 7.820278932468046, "x1": 0.8653747904486758, "true label": 8.7}, {"x2": -0.9602716925580799, "predicted label": 14.065962882487165, "x1": 0.6012069737161434, "true label": 27.5}, {"x2": 0.32430665834990274, "predicted label": 22.31759137808316, "x1": -0.6308473635072713, "true label": 20.7}, {"x2": 0.31438299313308304, "predicted label": 21.89028451580663, "x1": -0.3771872646966233, "true label": 36.2}, {"x2": 0.5858039477327904, "predicted label": 29.763647602480432, "x1": -0.25219462767372847, "true label": 31.6}, {"x2": -0.9264155101942956, "predicted label": 8.810173711034752, "x1": 0.7058039899532919, "true label": 11.7}, {"x2": 0.6011100962986634, "predicted label": 36.645486332308415, "x1": -0.33204290591250574, "true label": 39.8}, {"x2": 0.07747934189462838, "predicted label": 17.290705359411913, "x1": -0.2097015088439756, "true label": 13.9}, {"x2": -0.6448728834953841, "predicted label": 21.329357298902767, "x1": -0.08707597242154852, "true label": 21.8}, {"x2": -0.542915712457752, "predicted label": 22.408961356399015, "x1": -0.6070384143439468, "true label": 23.7}, {"x2": -0.02602524852045627, "predicted label": 20.930838467746458, "x1": -0.4791171675799605, "true label": 17.6}, {"x2": 0.23126620183953922, "predicted label": 25.41859945457879, "x1": -0.8520076498655387, "true label": 24.4}, {"x2": -0.5999999999712393, "predicted label": 22.954571873751725, "x1": 0.9999923656964089, "true label": 8.8}, {"x2": 0.33607313549699314, "predicted label": 21.74297217152312, "x1": -0.15190506977044999, "true label": 19.2}, {"x2": -0.9317563560854464, "predicted label": 23.935647898753327, "x1": -0.3744201207166838, "true label": 25.3}, {"x2": 0.22712337190705137, "predicted label": 20.608845406770733, "x1": -0.46920490783816193, "true label": 20.4}, {"x2": -0.7345983068993305, "predicted label": 26.637104259964218, "x1": -0.9737840897311518, "true label": 23.1}, {"x2": 0.5804121418770578, "predicted label": 36.645486332308415, "x1": -0.3015123670660814, "true label": 37.9}, {"x2": 0.999424851997264, "predicted label": 14.338617507409172, "x1": 0.600059265992874, "true label": 15.6}, {"x2": 0.7312007001565123, "predicted label": 43.56759239819969, "x1": -0.3875808503176117, "true label": 45.4}, {"x2": 0.07803365744314492, "predicted label": 16.991228124950158, "x1": 0.1344381614036702, "true label": 15.7}, {"x2": -0.8630533276448988, "predicted label": 23.935647898753327, "x1": -0.342957998268109, "true label": 22.6}, {"x2": 0.1758237539476789, "predicted label": 18.930291384985267, "x1": -0.21403254928780366, "true label": 14.5}, {"x2": 0.009612748979344993, "predicted label": 17.290705359411913, "x1": -0.18925153516265933, "true label": 18.7}, {"x2": 0.9566289433189747, "predicted label": 14.38119482334554, "x1": 0.22132245744946177, "true label": 17.8}, {"x2": -0.9999986153579301, "predicted label": 14.065962882487165, "x1": 0.6103552529477252, "true label": 16.1}, {"x2": 0.2505542378793601, "predicted label": 22.31759137808316, "x1": -0.5214200685443537, "true label": 20.6}, {"x2": -0.5992956672428713, "predicted label": 32.63694389323876, "x1": -0.9788925098142008, "true label": 31.6}, {"x2": -0.4579152169867702, "predicted label": 24.83484906254781, "x1": -0.755431074754978, "true label": 29.1}, {"x2": 0.09833568012302749, "predicted label": 17.290705359411913, "x1": -0.210208335719055, "true label": 15.6}, {"x2": 0.15262428166157974, "predicted label": 18.930291384985267, "x1": -0.24536332018640405, "true label": 17.5}, {"x2": -0.6038105468799181, "predicted label": 26.35561482623413, "x1": -0.815391815363254, "true label": 22.5}, {"x2": -0.707769497986284, "predicted label": 23.4300799350869, "x1": -0.842311379020303, "true label": 19.4}, {"x2": 0.8596662658158449, "predicted label": 22.66564449755819, "x1": -0.9999989702198637, "true label": 19.3}, {"x2": -0.32929579257851416, "predicted label": 22.595559386990747, "x1": 0.6735201942229518, "true label": 8.5}, {"x2": 0.18439172240858093, "predicted label": 21.74297217152312, "x1": -0.2752055839962776, "true label": 20.6}, {"x2": 0.9975889820498359, "predicted label": 14.338617507409172, "x1": 0.6115850750997471, "true label": 17.0}, {"x2": 0.19977548695821318, "predicted label": 15.314710445478196, "x1": 0.9243357856651292, "true label": 17.1}, {"x2": 0.030781196820000137, "predicted label": 17.290705359411913, "x1": -0.17968983625481677, "true label": 14.5}, {"x2": 0.73671599314045, "predicted label": 43.56759239819969, "x1": -0.32900569058513, "true label": 50.0}, {"x2": -0.9999958074864388, "predicted label": 12.453592654243678, "x1": 0.6867693127962295, "true label": 14.3}, {"x2": 0.19571279416475515, "predicted label": 15.314710445478196, "x1": 0.911421567589368, "true label": 12.6}, {"x2": 0.3494291172065479, "predicted label": 22.31759137808316, "x1": -0.5811677756579599, "true label": 28.7}, {"x2": 0.15527274505996239, "predicted label": 20.699224356540668, "x1": -0.15594826776372378, "true label": 21.2}, {"x2": -0.7572444784537807, "predicted label": 22.410872106507604, "x1": -0.3310656942169471, "true label": 19.3}, {"x2": -0.7718842127049252, "predicted label": 26.206065936566674, "x1": -0.25814466044796613, "true label": 23.1}, {"x2": -0.8524738369106997, "predicted label": 24.719167900216082, "x1": 0.3790378814383606, "true label": 19.1}, {"x2": -0.9673301402180693, "predicted label": 22.40430861606223, "x1": 0.3514611407541908, "true label": 25.0}, {"x2": 0.45079285886978354, "predicted label": 31.35135404230419, "x1": -0.5963423955429836, "true label": 33.4}, {"x2": -0.3013551143152026, "predicted label": 22.97079646017699, "x1": 0.7685348189523349, "true label": 5.0}, {"x2": 0.12594094833623912, "predicted label": 21.4280571402144, "x1": -0.3879743623737487, "true label": 29.6}, {"x2": 0.13010422284574344, "predicted label": 21.683039290737348, "x1": -0.5561866801459983, "true label": 18.7}, {"x2": 0.23963587401413727, "predicted label": 20.095136497759217, "x1": -0.25873522735134835, "true label": 21.7}, {"x2": 0.31218105908084337, "predicted label": 21.954732140058805, "x1": -0.46904227870838816, "true label": 23.1}, {"x2": 0.8833904203379997, "predicted label": 22.46532565872731, "x1": 0.0640356036145912, "true label": 22.8}, {"x2": 0.2894998508530918, "predicted label": 20.699224356540668, "x1": -0.24911720471197618, "true label": 21.0}, {"x2": 0.9822637900146646, "predicted label": 49.9990132671846, "x1": -0.19908252402061247, "true label": 48.8}]}}, {"selection": {"selector005": {"bind": "scales", "type": "interval", "encodings": ["x", "y"]}}, "encoding": {"color": {"field": "true label", "scale": {"scheme": "greenblue"}, "type": "quantitative", "legend": {"title": "Boston house prices"}}, "y": {"field": "x2", "type": "quantitative"}, "tooltip": [{"field": "x1", "type": "quantitative"}, {"field": "x2", "type": "quantitative"}, {"field": "predicted label", "type": "quantitative"}, {"field": "true label", "type": "quantitative"}], "x": {"field": "x1", "type": "quantitative"}}, "title": "True labels", "height": 200, "width": 200, "mark": "point", "data": {"values": [{"x2": 0.46724741669088754, "predicted label": 24.012300957704028, "x1": -0.2614982945820287, "true label": 23.6}, {"x2": 0.7343437878283935, "predicted label": 32.713404142945514, "x1": -0.8687522368577086, "true label": 32.4}, {"x2": 0.29015052683422526, "predicted label": 18.52234174111993, "x1": 0.4598159492770755, "true label": 13.6}, {"x2": -0.9599745967969764, "predicted label": 24.984830164319987, "x1": -0.3343066187341302, "true label": 22.8}, {"x2": 0.18403306242110481, "predicted label": 15.314710445478196, "x1": 0.8723191783012231, "true label": 16.1}, {"x2": 0.16971479223742456, "predicted label": 20.699224356540668, "x1": -0.26035991117556967, "true label": 20.0}, {"x2": -0.08503362049261196, "predicted label": 15.959417489664473, "x1": -0.24135460816954063, "true label": 17.8}, {"x2": 0.18623738886638372, "predicted label": 15.835507431702394, "x1": 0.2768810608496289, "true label": 14.0}, {"x2": -0.9300659879795738, "predicted label": 22.40430861606223, "x1": 0.2806685325943261, "true label": 19.6}, {"x2": 0.1951807225622527, "predicted label": 18.930291384985267, "x1": -0.16665997697800944, "true label": 16.8}, {"x2": 0.8810151229542348, "predicted label": 22.66564449755819, "x1": -0.999364563101075, "true label": 21.5}, {"x2": -0.34161473736819326, "predicted label": 20.3170174030684, "x1": -0.3410245080786519, "true label": 18.9}, {"x2": -0.6117624378759969, "predicted label": 22.97076621347669, "x1": 0.7449018460240914, "true label": 7.0}, {"x2": -0.6986166065471773, "predicted label": 21.20945946432208, "x1": -0.21891863536975778, "true label": 21.2}, {"x2": 0.12021987327583152, "predicted label": 20.619137069761713, "x1": -0.3444310723571825, "true label": 18.5}, {"x2": -0.9992955592722876, "predicted label": 22.40430861606223, "x1": 0.3076902578514905, "true label": 29.8}, {"x2": 0.39454839047882984, "predicted label": 20.878387843739524, "x1": 0.18877948350935303, "true label": 18.8}, {"x2": -0.6002001600477043, "predicted label": 9.181280054873332, "x1": 0.41485950577598535, "true label": 10.2}, {"x2": -0.26968602847663004, "predicted label": 42.81428490000774, "x1": -0.9696101977330871, "true label": 50.0}, {"x2": 0.19513173312407006, "predicted label": 15.314710445478196, "x1": 0.8878000787471034, "true label": 14.1}, {"x2": -0.9693593918790626, "predicted label": 24.984830164319987, "x1": -0.3968850509395533, "true label": 25.2}, {"x2": -0.10151740221550057, "predicted label": 25.68643161604465, "x1": -0.6474868140700362, "true label": 29.1}, {"x2": -0.020472853606987428, "predicted label": 15.959417489664473, "x1": -0.17274234181753398, "true label": 12.7}, {"x2": 0.3545900988660245, "predicted label": 20.699224356540668, "x1": -0.13843575076923414, "true label": 22.4}, {"x2": -0.1860696636344256, "predicted label": 15.314710445478196, "x1": 0.7201211892823006, "true label": 14.2}, {"x2": -0.7904463675579294, "predicted label": 11.859926973976014, "x1": 0.34861344040313497, "true label": 13.8}, {"x2": -0.8447795334028383, "predicted label": 24.429588876722068, "x1": -0.19928642658212875, "true label": 20.3}, {"x2": -0.9999943610608334, "predicted label": 12.453592654243678, "x1": 0.744645192474543, "true label": 14.9}, {"x2": 0.846036052592446, "predicted label": 22.66564449755819, "x1": -0.9996361880992206, "true label": 21.7}, {"x2": 0.014918666047925631, "predicted label": 18.930291384985267, "x1": -0.18019901873683952, "true label": 18.3}, {"x2": -0.12163147800396086, "predicted label": 21.021094738793824, "x1": -0.3201026173286186, "true label": 23.1}, {"x2": 0.3151834104740438, "predicted label": 21.954732140058805, "x1": -0.47603220119222656, "true label": 23.8}, {"x2": 0.13947839804936069, "predicted label": 15.089002026467245, "x1": 0.9803725010737968, "true label": 15.0}, {"x2": -0.8490719490433266, "predicted label": 24.719167900216082, "x1": 0.34031856283466116, "true label": 20.8}, {"x2": -0.09118563286824019, "predicted label": 14.952581664460425, "x1": 0.664334618439744, "true label": 19.1}, {"x2": 0.8697896497979875, "predicted label": 15.874574804704366, "x1": 0.20026350384948444, "true label": 19.4}, {"x2": 0.549638236072298, "predicted label": 39.75022510788492, "x1": -0.46505501176166186, "true label": 34.7}, {"x2": 0.2347156734963723, "predicted label": 20.608845406770733, "x1": -0.4926401637340449, "true label": 19.5}, {"x2": 0.7366241704471774, "predicted label": 21.883675632351814, "x1": -0.9992987138511938, "true label": 24.4}, {"x2": -0.9654370691681509, "predicted label": 24.984830164319987, "x1": -0.3358783779773489, "true label": 23.4}, {"x2": -0.4385183181370257, "predicted label": 21.66113215259789, "x1": -0.09159783084536181, "true label": 19.7}, {"x2": 0.42284941470635284, "predicted label": 28.828727853105836, "x1": -0.4512749087428126, "true label": 28.2}, {"x2": -0.3033714279015392, "predicted label": 47.81153560947874, "x1": -0.9972866320148689, "true label": 50.0}, {"x2": -0.5378621947768597, "predicted label": 22.410872106507604, "x1": -0.43829442763171506, "true label": 17.4}, {"x2": 0.3937280345860411, "predicted label": 27.88230198933592, "x1": -0.36495415998352926, "true label": 22.6}, {"x2": -0.130852798536561, "predicted label": 15.314710445478196, "x1": 0.6689288501114812, "true label": 15.1}, {"x2": 0.06063354301893199, "predicted label": 17.290705359411913, "x1": -0.1833957753870508, "true label": 13.1}, {"x2": -0.9768063316662399, "predicted label": 24.984830164319987, "x1": -0.33149928750280877, "true label": 24.2}, {"x2": -0.8263252064487305, "predicted label": 24.719167900216082, "x1": 0.30173253399772876, "true label": 19.9}, {"x2": -0.15130915689007562, "predicted label": 26.790758067657666, "x1": -0.5355742293908539, "true label": 24.0}, {"x2": -0.3308468818772731, "predicted label": 20.3170174030684, "x1": -0.3921072190803602, "true label": 18.9}, {"x2": -0.2979957713378254, "predicted label": 29.38685271576523, "x1": -0.607431436937633, "true label": 35.4}, {"x2": 0.08733134291985656, "predicted label": 17.290705359411913, "x1": -0.19695035894403784, "true label": 15.2}, {"x2": 0.3920462379210606, "predicted label": 24.012300957704028, "x1": -0.24032390743280516, "true label": 26.5}, {"x2": 0.8089923284927714, "predicted label": 49.93010408211339, "x1": -0.1999699197789208, "true label": 43.5}, {"x2": -0.9840855989870206, "predicted label": 23.425456464203986, "x1": 0.2191792763630316, "true label": 21.2}, {"x2": 0.19614352607655652, "predicted label": 15.314710445478196, "x1": 0.883222843770301, "true label": 18.4}, {"x2": 0.007814231944316005, "predicted label": 32.36110036900012, "x1": -0.9828163407977022, "true label": 28.5}, {"x2": 0.2302016940886091, "predicted label": 21.954732140058805, "x1": -0.5116807953301924, "true label": 23.9}, {"x2": -0.29179451095108205, "predicted label": 20.3170174030684, "x1": -0.3532879875110079, "true label": 18.5}, {"x2": 0.304691121136354, "predicted label": 25.41859945457879, "x1": -0.8480675223225218, "true label": 25.0}, {"x2": -0.6706901317624278, "predicted label": 26.637104259964218, "x1": -0.9884033140621667, "true label": 35.4}, {"x2": -0.9856213387024529, "predicted label": 26.206065936566674, "x1": -0.21411283682435214, "true label": 31.5}, {"x2": 0.027087646772271476, "predicted label": 20.095136497759217, "x1": -0.33160437922102887, "true label": 20.2}, {"x2": -0.8543721276800175, "predicted label": 19.43216682848243, "x1": -0.8928120940230295, "true label": 24.1}, {"x2": 0.8634973133874607, "predicted label": 22.66564449755819, "x1": -0.9999990754155004, "true label": 20.0}, {"x2": 0.19883124521254147, "predicted label": 15.314710445478196, "x1": 0.9199707994242163, "true label": 13.1}, {"x2": 0.07351159847550867, "predicted label": 25.482963681874693, "x1": -0.6542307316690477, "true label": 24.8}, {"x2": -0.06715153255751047, "predicted label": 32.36110036900012, "x1": -0.9328481194714769, "true label": 30.8}, {"x2": -0.9999998476590962, "predicted label": 12.453592654243678, "x1": 0.7396594548958628, "true label": 12.7}, {"x2": -0.710794292326633, "predicted label": 22.410872106507604, "x1": -0.3237008924645601, "true label": 20.0}, {"x2": -0.9998855098739494, "predicted label": 23.425456464203986, "x1": 0.2446484285374174, "true label": 23.7}, {"x2": -0.8435614077093081, "predicted label": 23.05611283653868, "x1": 0.5753777674152395, "true label": 10.8}, {"x2": -0.9912496051042411, "predicted label": 18.619286869616214, "x1": -0.9583283122057409, "true label": 20.6}, {"x2": -0.8207134484795467, "predicted label": 24.429588876722068, "x1": -0.1841021170110292, "true label": 20.8}, {"x2": -0.2786887743808998, "predicted label": 18.37486578768911, "x1": 0.6076274886524102, "true label": 5.0}, {"x2": 0.24746751861041033, "predicted label": 18.930291384985267, "x1": -0.17141603031633623, "true label": 20.1}, {"x2": -0.3165612949623763, "predicted label": 47.81153560947874, "x1": -0.994613733841299, "true label": 48.5}, {"x2": 0.18330187809361495, "predicted label": 15.089002026467245, "x1": 0.922778109156198, "true label": 10.9}, {"x2": 0.17345332328267504, "predicted label": 15.552840643344934, "x1": 0.4178868775396421, "true label": 7.0}, {"x2": -0.26539943211527983, "predicted label": 22.94265989730072, "x1": -0.5753531884671552, "true label": 20.9}, {"x2": -0.7297011052405227, "predicted label": 11.859926973976014, "x1": 0.35797397599809205, "true label": 17.2}, {"x2": -0.75260148813373, "predicted label": 23.4300799350869, "x1": -0.8744435137241716, "true label": 20.9}, {"x2": -0.7229691768045101, "predicted label": 11.859926973976014, "x1": 0.3451978156682002, "true label": 9.7}, {"x2": 0.2541633969537845, "predicted label": 18.930291384985267, "x1": -0.19227463204478018, "true label": 19.4}, {"x2": 0.8525781352009066, "predicted label": 25.970738834706022, "x1": -0.8698395024966792, "true label": 29.0}, {"x2": -0.9533114859343881, "predicted label": 15.69287753942363, "x1": 0.5192502553567309, "true label": 16.4}, {"x2": 0.07073063758662373, "predicted label": 22.31759137808316, "x1": -0.48059070184935626, "true label": 25.0}, {"x2": -0.9664082955611116, "predicted label": 26.206065936566674, "x1": -0.2620952641313443, "true label": 25.0}, {"x2": 0.3221235281067752, "predicted label": 18.952149527698555, "x1": 0.23932642563221804, "true label": 17.1}, {"x2": -0.5954018886162478, "predicted label": 21.685437316566645, "x1": -0.3055316297378454, "true label": 23.2}, {"x2": -0.736641605675864, "predicted label": 16.300793402638867, "x1": 0.7196312773523358, "true label": 10.4}, {"x2": 0.336045031836232, "predicted label": 18.952149527698555, "x1": 0.2162637929625231, "true label": 19.6}, {"x2": 0.050216087955118095, "predicted label": 21.683039290737348, "x1": -0.560445975783473, "true label": 17.2}, {"x2": -0.7383778428757225, "predicted label": 11.859926973976014, "x1": 0.3184255661856324, "true label": 27.5}, {"x2": 0.3430227826649784, "predicted label": 18.952149527698555, "x1": 0.2071138491546081, "true label": 23.0}, {"x2": -0.8715985822951099, "predicted label": 22.40430861606223, "x1": 0.3959013018343628, "true label": 50.0}, {"x2": -0.8666668187270193, "predicted label": 7.820278932468046, "x1": 0.8506446101768371, "true label": 17.9}, {"x2": -0.9785052906048359, "predicted label": 12.453592654243678, "x1": 0.7405463974992371, "true label": 9.6}, {"x2": -0.9868875646028139, "predicted label": 12.453592654243678, "x1": 0.7414210495881381, "true label": 17.2}, {"x2": -0.17057454901938213, "predicted label": 20.608845406770733, "x1": -0.40945934371472864, "true label": 22.5}, {"x2": -0.8650282768209122, "predicted label": 24.429588876722068, "x1": -0.19189131768638196, "true label": 21.4}, {"x2": -0.7311021224920364, "predicted label": 7.274292659201316, "x1": 0.45753073202309524, "true label": 12.0}, {"x2": 0.23204324427333406, "predicted label": 20.095136497759217, "x1": -0.38877268252005054, "true label": 19.9}, {"x2": -0.767194381997333, "predicted label": 22.408961356399015, "x1": -0.585875335417025, "true label": 19.4}, {"x2": -0.9999980376104406, "predicted label": 12.453592654243678, "x1": 0.7975999118423492, "true label": 13.4}, {"x2": 0.19723036263504723, "predicted label": 20.095136497759217, "x1": -0.27874209292823887, "true label": 18.2}, {"x2": -0.963067826742783, "predicted label": 24.984830164319987, "x1": -0.31835362986383653, "true label": 24.6}, {"x2": 0.27949393319404914, "predicted label": 22.31759137808316, "x1": -0.601459046119571, "true label": 21.1}, {"x2": -0.7365329231019992, "predicted label": 26.637104259964218, "x1": -0.9632073185696572, "true label": 24.7}, {"x2": -0.8834543414934283, "predicted label": 7.820278932468046, "x1": 0.8653747904486758, "true label": 8.7}, {"x2": -0.9602716925580799, "predicted label": 14.065962882487165, "x1": 0.6012069737161434, "true label": 27.5}, {"x2": 0.32430665834990274, "predicted label": 22.31759137808316, "x1": -0.6308473635072713, "true label": 20.7}, {"x2": 0.31438299313308304, "predicted label": 21.89028451580663, "x1": -0.3771872646966233, "true label": 36.2}, {"x2": 0.5858039477327904, "predicted label": 29.763647602480432, "x1": -0.25219462767372847, "true label": 31.6}, {"x2": -0.9264155101942956, "predicted label": 8.810173711034752, "x1": 0.7058039899532919, "true label": 11.7}, {"x2": 0.6011100962986634, "predicted label": 36.645486332308415, "x1": -0.33204290591250574, "true label": 39.8}, {"x2": 0.07747934189462838, "predicted label": 17.290705359411913, "x1": -0.2097015088439756, "true label": 13.9}, {"x2": -0.6448728834953841, "predicted label": 21.329357298902767, "x1": -0.08707597242154852, "true label": 21.8}, {"x2": -0.542915712457752, "predicted label": 22.408961356399015, "x1": -0.6070384143439468, "true label": 23.7}, {"x2": -0.02602524852045627, "predicted label": 20.930838467746458, "x1": -0.4791171675799605, "true label": 17.6}, {"x2": 0.23126620183953922, "predicted label": 25.41859945457879, "x1": -0.8520076498655387, "true label": 24.4}, {"x2": -0.5999999999712393, "predicted label": 22.954571873751725, "x1": 0.9999923656964089, "true label": 8.8}, {"x2": 0.33607313549699314, "predicted label": 21.74297217152312, "x1": -0.15190506977044999, "true label": 19.2}, {"x2": -0.9317563560854464, "predicted label": 23.935647898753327, "x1": -0.3744201207166838, "true label": 25.3}, {"x2": 0.22712337190705137, "predicted label": 20.608845406770733, "x1": -0.46920490783816193, "true label": 20.4}, {"x2": -0.7345983068993305, "predicted label": 26.637104259964218, "x1": -0.9737840897311518, "true label": 23.1}, {"x2": 0.5804121418770578, "predicted label": 36.645486332308415, "x1": -0.3015123670660814, "true label": 37.9}, {"x2": 0.999424851997264, "predicted label": 14.338617507409172, "x1": 0.600059265992874, "true label": 15.6}, {"x2": 0.7312007001565123, "predicted label": 43.56759239819969, "x1": -0.3875808503176117, "true label": 45.4}, {"x2": 0.07803365744314492, "predicted label": 16.991228124950158, "x1": 0.1344381614036702, "true label": 15.7}, {"x2": -0.8630533276448988, "predicted label": 23.935647898753327, "x1": -0.342957998268109, "true label": 22.6}, {"x2": 0.1758237539476789, "predicted label": 18.930291384985267, "x1": -0.21403254928780366, "true label": 14.5}, {"x2": 0.009612748979344993, "predicted label": 17.290705359411913, "x1": -0.18925153516265933, "true label": 18.7}, {"x2": 0.9566289433189747, "predicted label": 14.38119482334554, "x1": 0.22132245744946177, "true label": 17.8}, {"x2": -0.9999986153579301, "predicted label": 14.065962882487165, "x1": 0.6103552529477252, "true label": 16.1}, {"x2": 0.2505542378793601, "predicted label": 22.31759137808316, "x1": -0.5214200685443537, "true label": 20.6}, {"x2": -0.5992956672428713, "predicted label": 32.63694389323876, "x1": -0.9788925098142008, "true label": 31.6}, {"x2": -0.4579152169867702, "predicted label": 24.83484906254781, "x1": -0.755431074754978, "true label": 29.1}, {"x2": 0.09833568012302749, "predicted label": 17.290705359411913, "x1": -0.210208335719055, "true label": 15.6}, {"x2": 0.15262428166157974, "predicted label": 18.930291384985267, "x1": -0.24536332018640405, "true label": 17.5}, {"x2": -0.6038105468799181, "predicted label": 26.35561482623413, "x1": -0.815391815363254, "true label": 22.5}, {"x2": -0.707769497986284, "predicted label": 23.4300799350869, "x1": -0.842311379020303, "true label": 19.4}, {"x2": 0.8596662658158449, "predicted label": 22.66564449755819, "x1": -0.9999989702198637, "true label": 19.3}, {"x2": -0.32929579257851416, "predicted label": 22.595559386990747, "x1": 0.6735201942229518, "true label": 8.5}, {"x2": 0.18439172240858093, "predicted label": 21.74297217152312, "x1": -0.2752055839962776, "true label": 20.6}, {"x2": 0.9975889820498359, "predicted label": 14.338617507409172, "x1": 0.6115850750997471, "true label": 17.0}, {"x2": 0.19977548695821318, "predicted label": 15.314710445478196, "x1": 0.9243357856651292, "true label": 17.1}, {"x2": 0.030781196820000137, "predicted label": 17.290705359411913, "x1": -0.17968983625481677, "true label": 14.5}, {"x2": 0.73671599314045, "predicted label": 43.56759239819969, "x1": -0.32900569058513, "true label": 50.0}, {"x2": -0.9999958074864388, "predicted label": 12.453592654243678, "x1": 0.6867693127962295, "true label": 14.3}, {"x2": 0.19571279416475515, "predicted label": 15.314710445478196, "x1": 0.911421567589368, "true label": 12.6}, {"x2": 0.3494291172065479, "predicted label": 22.31759137808316, "x1": -0.5811677756579599, "true label": 28.7}, {"x2": 0.15527274505996239, "predicted label": 20.699224356540668, "x1": -0.15594826776372378, "true label": 21.2}, {"x2": -0.7572444784537807, "predicted label": 22.410872106507604, "x1": -0.3310656942169471, "true label": 19.3}, {"x2": -0.7718842127049252, "predicted label": 26.206065936566674, "x1": -0.25814466044796613, "true label": 23.1}, {"x2": -0.8524738369106997, "predicted label": 24.719167900216082, "x1": 0.3790378814383606, "true label": 19.1}, {"x2": -0.9673301402180693, "predicted label": 22.40430861606223, "x1": 0.3514611407541908, "true label": 25.0}, {"x2": 0.45079285886978354, "predicted label": 31.35135404230419, "x1": -0.5963423955429836, "true label": 33.4}, {"x2": -0.3013551143152026, "predicted label": 22.97079646017699, "x1": 0.7685348189523349, "true label": 5.0}, {"x2": 0.12594094833623912, "predicted label": 21.4280571402144, "x1": -0.3879743623737487, "true label": 29.6}, {"x2": 0.13010422284574344, "predicted label": 21.683039290737348, "x1": -0.5561866801459983, "true label": 18.7}, {"x2": 0.23963587401413727, "predicted label": 20.095136497759217, "x1": -0.25873522735134835, "true label": 21.7}, {"x2": 0.31218105908084337, "predicted label": 21.954732140058805, "x1": -0.46904227870838816, "true label": 23.1}, {"x2": 0.8833904203379997, "predicted label": 22.46532565872731, "x1": 0.0640356036145912, "true label": 22.8}, {"x2": 0.2894998508530918, "predicted label": 20.699224356540668, "x1": -0.24911720471197618, "true label": 21.0}, {"x2": 0.9822637900146646, "predicted label": 49.9990132671846, "x1": -0.19908252402061247, "true label": 48.8}]}}]};
      var opt = {
        "mode": "vega-lite",
        "renderer": "canvas",
        "actions": {"source": false, "export": false, "editor": false}
      };
      vegaEmbed('#eGTR_regressor-rst-altair-plot-1', spec, opt).catch(console.err);
  });
</script>
</div></div>
<div class="section" id="parameter-optimization">
<h2>Parameter optimization<a class="headerlink" href="#parameter-optimization" title="Permalink to this headline">¶</a></h2>
<p>GridSearchCV from sklearn can be used with eGTC for parameter optimization:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ugtm</span> <span class="k">import</span> <span class="n">eGTR</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="k">import</span> <span class="n">GridSearchCV</span>

<span class="c1"># Dummy train and test</span>
<span class="n">X_train</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">X_test</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">y_train</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="c1"># Parameters to tune</span>
<span class="n">tuned_params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;regul&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.0001</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">],</span>
                <span class="s1">&#39;s&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">],</span>
                <span class="s1">&#39;k&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">16</span><span class="p">],</span>
                <span class="s1">&#39;m&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">]}</span>

<span class="c1"># GTM classifier (GTR)</span>
<span class="n">gs</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span><span class="n">eGTR</span><span class="p">(),</span> <span class="n">tuned_params</span><span class="p">,</span> <span class="n">cv</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">iid</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">scoring</span><span class="o">=</span><span class="s1">&#39;r2&#39;</span><span class="p">)</span>
<span class="n">gs</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">gs</span><span class="o">.</span><span class="n">best_params_</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="api.html" class="btn btn-neutral float-right" title="API Reference" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="eGTC_classifier.html" class="btn btn-neutral" title="eGTC: GTM classifier" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Helena A. Gaspar.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'v2.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@3"></script>
      <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@2"></script>
      <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@3"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>